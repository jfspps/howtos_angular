(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},zUnb:function(e,t,n){"use strict";function i(e){return"function"==typeof e}n.r(t);let r=!1;const s={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}};function a(e){setTimeout(()=>{throw e},0)}const o={closed:!0,next(e){},error(e){if(s.useDeprecatedSynchronousErrorHandling)throw e;a(e)},complete(){}},l=(()=>Array.isArray||(e=>e&&"number"==typeof e.length))();function c(e){return null!==e&&"object"==typeof e}const h=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();let u=(()=>{class e{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:r,_unsubscribe:s,_subscriptions:a}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(let e=0;e<n.length;++e)n[e].remove(this);if(i(s)){r&&(this._unsubscribe=void 0);try{s.call(this)}catch(o){t=o instanceof h?d(o.errors):[o]}}if(l(a)){let e=-1,n=a.length;for(;++e<n;){const n=a[e];if(c(n))try{n.unsubscribe()}catch(o){t=t||[],o instanceof h?t=t.concat(d(o.errors)):t.push(o)}}}if(t)throw new h(t)}add(t){let n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){const t=n;n=new e,n._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:i}=n;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[n]:r.push(n),n}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}return e.EMPTY=function(e){return e.closed=!0,e}(new e),e})();function d(e){return e.reduce((e,t)=>e.concat(t instanceof h?t.errors:t),[])}const p=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class g extends u{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=o;break;case 1:if(!e){this.destination=o;break}if("object"==typeof e){e instanceof g?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new m(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new m(this,e,t,n)}}[p](){return this}static create(e,t,n){const i=new g(e,t,n);return i.syncErrorThrowable=!1,i}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class m extends g{constructor(e,t,n,r){let s;super(),this._parentSubscriber=e;let a=this;i(t)?s=t:t&&(s=t.next,n=t.error,r=t.complete,t!==o&&(a=Object.create(t),i(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=r}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;s.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=s;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):a(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;a(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);s.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),s.useDeprecatedSynchronousErrorHandling)throw n;a(n)}}__tryOrSetError(e,t,n){if(!s.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(i){return s.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(a(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const f=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function y(e){return e}let b=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:i}=this,r=function(e,t,n){if(e){if(e instanceof g)return e;if(e[p])return e[p]()}return e||t||n?new g(e,t,n):new g(o)}(e,t,n);if(r.add(i?i.call(r,this.source):this.source||s.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),s.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}_trySubscribe(e){try{return this._subscribe(e)}catch(t){s.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:i}=e;if(t||i)return!1;e=n&&n instanceof g?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=v(t))((t,n)=>{let i;i=this.subscribe(t=>{try{e(t)}catch(r){n(r),i&&i.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[f](){return this}pipe(...e){return 0===e.length?this:(0===(t=e).length?y:1===t.length?t[0]:function(e){return t.reduce((e,t)=>t(e),e)})(this);var t}toPromise(e){return new(e=v(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function v(e){if(e||(e=s.Promise||Promise),!e)throw new Error("no Promise impl found");return e}const w=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})();class S extends u{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}class T extends g{constructor(e){super(e),this.destination=e}}let k=(()=>{class e extends b{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new T(this)}lift(e){const t=new C(this,this);return t.operator=e,t}next(e){if(this.closed)throw new w;if(!this.isStopped){const{observers:t}=this,n=t.length,i=t.slice();for(let r=0;r<n;r++)i[r].next(e)}}error(e){if(this.closed)throw new w;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,i=t.slice();for(let r=0;r<n;r++)i[r].error(e);this.observers.length=0}complete(){if(this.closed)throw new w;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let i=0;i<t;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new w;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new w;return this.hasError?(e.error(this.thrownError),u.EMPTY):this.isStopped?(e.complete(),u.EMPTY):(this.observers.push(e),new S(this,e))}asObservable(){const e=new b;return e.source=this,e}}return e.create=(e,t)=>new C(e,t),e})();class C extends k{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):u.EMPTY}}function x(e){return e&&"function"==typeof e.schedule}function _(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new E(e,t))}}class E{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new I(e,this.project,this.thisArg))}}class I extends g{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}const A=e=>t=>{for(let n=0,i=e.length;n<i&&!t.closed;n++)t.next(e[n]);t.complete()};function j(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const O=j(),P=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function L(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}const R=e=>{if(e&&"function"==typeof e[f])return i=e,e=>{const t=i[f]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(P(e))return A(e);if(L(e))return n=e,e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,a),e);if(e&&"function"==typeof e[O])return t=e,e=>{const n=t[O]();for(;;){let t;try{t=n.next()}catch(i){return e.error(i),e}if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e};{const t=c(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var t,n,i};function N(e,t){return new b(n=>{const i=new u;let r=0;return i.add(t.schedule(function(){r!==e.length?(n.next(e[r++]),n.closed||i.add(this.schedule())):n.complete()})),i})}function M(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[f]}(e))return function(e,t){return new b(n=>{const i=new u;return i.add(t.schedule(()=>{const r=e[f]();i.add(r.subscribe({next(e){i.add(t.schedule(()=>n.next(e)))},error(e){i.add(t.schedule(()=>n.error(e)))},complete(){i.add(t.schedule(()=>n.complete()))}}))})),i})}(e,t);if(L(e))return function(e,t){return new b(n=>{const i=new u;return i.add(t.schedule(()=>e.then(e=>{i.add(t.schedule(()=>{n.next(e),i.add(t.schedule(()=>n.complete()))}))},e=>{i.add(t.schedule(()=>n.error(e)))}))),i})}(e,t);if(P(e))return N(e,t);if(function(e){return e&&"function"==typeof e[O]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new b(n=>{const i=new u;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(t.schedule(()=>{r=e[O](),i.add(t.schedule(function(){if(n.closed)return;let e,t;try{const n=r.next();e=n.value,t=n.done}catch(i){return void n.error(i)}t?n.complete():(n.next(e),this.schedule())}))})),i})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof b?e:new b(R(e))}class D extends g{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class F extends g{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function H(e,t){if(t.closed)return;if(e instanceof b)return e.subscribe(t);let n;try{n=R(e)(t)}catch(i){t.error(i)}return n}function B(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?i=>i.pipe(B((n,i)=>M(e(n,i)).pipe(_((e,r)=>t(n,e,i,r))),n)):("number"==typeof t&&(n=t),t=>t.lift(new q(e,n)))}class q{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new U(e,this.project,this.concurrent))}}class U extends F{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(t)}_innerSub(e){const t=new D(this),n=this.destination;n.add(t);const i=H(e,t);i!==t&&n.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function J(e=Number.POSITIVE_INFINITY){return B(y,e)}function V(e,t){return t?N(e,t):new b(A(e))}function W(){return function(e){return e.lift(new z(e))}}class z{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const i=new Q(e,n),r=t.subscribe(i);return i.closed||(i.connection=n.connect()),r}}class Q extends g{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,i=e._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}class G extends b{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new u,e.add(this.source.subscribe(new X(this.getSubject(),this))),e.closed&&(this._connection=null,e=u.EMPTY)),e}refCount(){return W()(this)}}const $=(()=>{const e=G.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class X extends T{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function Y(){return new k}function K(e){for(let t in e)if(e[t]===K)return t;throw Error("Could not find renamed property on target object.")}function Z(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Z).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function ee(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const te=K({__forward_ref__:K});function ne(e){return e.__forward_ref__=ne,e.toString=function(){return Z(this())},e}function ie(e){return"function"==typeof(t=e)&&t.hasOwnProperty(te)&&t.__forward_ref__===ne?e():e;var t}class re extends Error{constructor(e,t){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(e,t)),this.code=e}}function se(e){return"string"==typeof e?e:null==e?"":String(e)}function ae(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():se(e)}function oe(e,t){const n=t?` in ${t}`:"";throw new re("201",`No provider for ${ae(e)} found${n}`)}function le(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ce(e){return{providers:e.providers||[],imports:e.imports||[]}}function he(e){return ue(e,pe)||ue(e,me)}function ue(e,t){return e.hasOwnProperty(t)?e[t]:null}function de(e){return e&&(e.hasOwnProperty(ge)||e.hasOwnProperty(fe))?e[ge]:null}const pe=K({"\u0275prov":K}),ge=K({"\u0275inj":K}),me=K({ngInjectableDef:K}),fe=K({ngInjectorDef:K});var ye=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});let be;function ve(e){const t=be;return be=e,t}function we(e,t,n){const i=he(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&ye.Optional?null:void 0!==t?t:void oe(Z(e),"Injector")}function Se(e){return{toString:e}.toString()}var Te=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}({}),ke=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}({});const Ce="undefined"!=typeof globalThis&&globalThis,xe="undefined"!=typeof window&&window,_e="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ee="undefined"!=typeof global&&global,Ie=Ce||Ee||xe||_e,Ae={},je=[],Oe=[],Pe=K({"\u0275cmp":K}),Le=K({"\u0275dir":K}),Re=K({"\u0275pipe":K}),Ne=K({"\u0275mod":K}),Me=K({"\u0275loc":K}),De=K({"\u0275fac":K}),Fe=K({__NG_ELEMENT_ID__:K});let He=0;function Be(e){return Se(()=>{const t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Te.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||Oe,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||ke.Emulated,id:"c",styles:e.styles||Oe,_:null,setInput:null,schemas:e.schemas||null,tView:null},i=e.directives,r=e.features,s=e.pipes;return n.id+=He++,n.inputs=We(e.inputs,t),n.outputs=We(e.outputs),r&&r.forEach(e=>e(n)),n.directiveDefs=i?()=>("function"==typeof i?i():i).map(qe):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(Ue):null,n})}function qe(e){return Qe(e)||function(e){return e[Le]||null}(e)}function Ue(e){return function(e){return e[Re]||null}(e)}const Je={};function Ve(e){const t={type:e.type,bootstrap:e.bootstrap||Oe,declarations:e.declarations||Oe,imports:e.imports||Oe,exports:e.exports||Oe,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&Se(()=>{Je[e.id]=e.type}),t}function We(e,t){if(null==e)return Ae;const n={};for(const i in e)if(e.hasOwnProperty(i)){let r=e[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),n[r]=i,t&&(t[r]=s)}return n}const ze=Be;function Qe(e){return e[Pe]||null}function Ge(e,t){const n=e[Ne]||null;if(!n&&!0===t)throw new Error(`Type ${Z(e)} does not have '\u0275mod' property.`);return n}const $e=20,Xe=10;function Ye(e){return Array.isArray(e)&&"object"==typeof e[1]}function Ke(e){return Array.isArray(e)&&!0===e[1]}function Ze(e){return 0!=(8&e.flags)}function et(e){return 2==(2&e.flags)}function tt(e){return 1==(1&e.flags)}function nt(e){return null!==e.template}function it(e,t){return e.hasOwnProperty(De)?e[De]:null}class rt{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function st(){return at}function at(e){return e.type.prototype.ngOnChanges&&(e.setInput=lt),ot}function ot(){const e=ct(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===Ae)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}}function lt(e,t,n,i){const r=ct(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:Ae,current:null}),s=r.current||(r.current={}),a=r.previous,o=this.declaredInputs[n],l=a[o];s[o]=new rt(l&&l.currentValue,t,a===Ae),e[i]=t}function ct(e){return e.__ngSimpleChanges__||null}let ht;function ut(e){return!!e.listen}st.ngInherit=!0;const dt={createRenderer:(e,t)=>void 0!==ht?ht:"undefined"!=typeof document?document:void 0};function pt(e){for(;Array.isArray(e);)e=e[0];return e}function gt(e,t){return pt(t[e])}function mt(e,t){return pt(t[e.index])}function ft(e,t){return e.data[t]}function yt(e,t){const n=t[e];return Ye(n)?n:n[0]}function bt(e){const t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function vt(e){return 4==(4&e[2])}function wt(e){return 128==(128&e[2])}function St(e,t){return null==t?null:e[t]}function Tt(e){e[18]=0}function kt(e,t){e[5]+=t;let n=e,i=e[3];for(;null!==i&&(1===t&&1===n[5]||-1===t&&0===n[5]);)i[5]+=t,n=i,i=i[3]}const Ct={lFrame:Wt(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function xt(){return Ct.bindingsEnabled}function _t(){return Ct.lFrame.lView}function Et(){return Ct.lFrame.tView}function It(){let e=At();for(;null!==e&&64===e.type;)e=e.parent;return e}function At(){return Ct.lFrame.currentTNode}function jt(e,t){const n=Ct.lFrame;n.currentTNode=e,n.isParent=t}function Ot(){return Ct.lFrame.isParent}function Pt(){Ct.lFrame.isParent=!1}function Lt(){return Ct.isInCheckNoChangesMode}function Rt(e){Ct.isInCheckNoChangesMode=e}function Nt(){return Ct.lFrame.bindingIndex++}function Mt(e){const t=Ct.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Dt(e,t){const n=Ct.lFrame;n.bindingIndex=n.bindingRootIndex=e,Ft(t)}function Ft(e){Ct.lFrame.currentDirectiveIndex=e}function Ht(){return Ct.lFrame.currentQueryIndex}function Bt(e){Ct.lFrame.currentQueryIndex=e}function qt(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function Ut(e,t,n){if(n&ye.SkipSelf){let i=t,r=e;for(;i=i.parent,!(null!==i||n&ye.Host||(i=qt(r),null===i)||(r=r[15],10&i.type)););if(null===i)return!1;t=i,e=r}const i=Ct.lFrame=Vt();return i.currentTNode=t,i.lView=e,!0}function Jt(e){const t=Vt(),n=e[1];Ct.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Vt(){const e=Ct.lFrame,t=null===e?null:e.child;return null===t?Wt(e):t}function Wt(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function zt(){const e=Ct.lFrame;return Ct.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Qt=zt;function Gt(){const e=zt();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function $t(){return Ct.lFrame.selectedIndex}function Xt(e){Ct.lFrame.selectedIndex=e}function Yt(){const e=Ct.lFrame;return ft(e.tView,e.selectedIndex)}function Kt(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){const t=e.data[n].type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:r,ngAfterViewInit:s,ngAfterViewChecked:a,ngOnDestroy:o}=t;i&&(e.contentHooks||(e.contentHooks=[])).push(-n,i),r&&((e.contentHooks||(e.contentHooks=[])).push(n,r),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,r)),s&&(e.viewHooks||(e.viewHooks=[])).push(-n,s),a&&((e.viewHooks||(e.viewHooks=[])).push(n,a),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,a)),null!=o&&(e.destroyHooks||(e.destroyHooks=[])).push(n,o)}}function Zt(e,t,n){nn(e,t,3,n)}function en(e,t,n,i){(3&e[2])===n&&nn(e,t,n,i)}function tn(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function nn(e,t,n,i){const r=null!=i?i:-1,s=t.length-1;let a=0;for(let o=void 0!==i?65535&e[18]:0;o<s;o++)if("number"==typeof t[o+1]){if(a=t[o],null!=i&&a>=i)break}else t[o]<0&&(e[18]+=65536),(a<r||-1==r)&&(rn(e,n,t,o),e[18]=(4294901760&e[18])+o+2),o++}function rn(e,t,n,i){const r=n[i]<0,s=n[i+1],a=e[r?-n[i]:n[i]];if(r){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}const sn=-1;class an{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function on(e,t,n){const i=ut(e);let r=0;for(;r<n.length;){const s=n[r];if("number"==typeof s){if(0!==s)break;r++;const a=n[r++],o=n[r++],l=n[r++];i?e.setAttribute(t,o,l,a):t.setAttributeNS(a,o,l)}else{const a=s,o=n[++r];cn(a)?i&&e.setProperty(t,a,o):i?e.setAttribute(t,a,o):t.setAttribute(a,o),r++}}return r}function ln(e){return 3===e||4===e||6===e}function cn(e){return 64===e.charCodeAt(0)}function hn(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?n=r:0===n||un(e,n,r,null,-1===n||2===n?t[++i]:null)}}return e}function un(e,t,n,i,r){let s=0,a=e.length;if(-1===t)a=-1;else for(;s<e.length;){const n=e[s++];if("number"==typeof n){if(n===t){a=-1;break}if(n>t){a=s-1;break}}}for(;s<e.length;){const t=e[s];if("number"==typeof t)break;if(t===n){if(null===i)return void(null!==r&&(e[s+1]=r));if(i===e[s+1])return void(e[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==a&&(e.splice(a,0,t),s=a+1),e.splice(s++,0,n),null!==i&&e.splice(s++,0,i),null!==r&&e.splice(s++,0,r)}function dn(e){return e!==sn}function pn(e){return 32767&e}function gn(e,t){let n=e>>16,i=t;for(;n>0;)i=i[15],n--;return i}let mn=!0;function fn(e){const t=mn;return mn=e,t}let yn=0;function bn(e,t){const n=wn(e,t);if(-1!==n)return n;const i=t[1];i.firstCreatePass&&(e.injectorIndex=t.length,vn(i.data,e),vn(t,null),vn(i.blueprint,null));const r=Sn(e,t),s=e.injectorIndex;if(dn(r)){const e=pn(r),n=gn(r,t),i=n[1].data;for(let r=0;r<8;r++)t[s+r]=n[e+r]|i[e+r]}return t[s+8]=r,s}function vn(e,t){e.push(0,0,0,0,0,0,0,0,t)}function wn(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Sn(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,i=null,r=t;for(;null!==r;){const e=r[1],t=e.type;if(i=2===t?e.declTNode:1===t?r[6]:null,null===i)return sn;if(n++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return sn}function Tn(e,t,n){!function(e,t,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(Fe)&&(i=n[Fe]),null==i&&(i=n[Fe]=yn++);const r=255&i;t.data[e+(r>>5)]|=1<<r}(e,t,n)}function kn(e,t,n){if(n&ye.Optional)return e;oe(t,"NodeInjector")}function Cn(e,t,n,i){if(n&ye.Optional&&void 0===i&&(i=null),0==(n&(ye.Self|ye.Host))){const r=e[9],s=ve(void 0);try{return r?r.get(t,i,n&ye.Optional):we(t,i,n&ye.Optional)}finally{ve(s)}}return kn(i,t,n)}function xn(e,t,n,i=ye.Default,r){if(null!==e){const s=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Fe)?e[Fe]:void 0;return"number"==typeof t?t>=0?255&t:En:t}(n);if("function"==typeof s){if(!Ut(t,e,i))return i&ye.Host?kn(r,n,i):Cn(t,n,i,r);try{const e=s();if(null!=e||i&ye.Optional)return e;oe(n)}finally{Qt()}}else if("number"==typeof s){let r=null,a=wn(e,t),o=sn,l=i&ye.Host?t[16][6]:null;for((-1===a||i&ye.SkipSelf)&&(o=-1===a?Sn(e,t):t[a+8],o!==sn&&Pn(i,!1)?(r=t[1],a=pn(o),t=gn(o,t)):a=-1);-1!==a;){const e=t[1];if(On(s,a,e.data)){const e=In(a,t,n,r,i,l);if(e!==_n)return e}o=t[a+8],o!==sn&&Pn(i,t[1].data[a+8]===l)&&On(s,a,t)?(r=e,a=pn(o),t=gn(o,t)):a=-1}}}return Cn(t,n,i,r)}const _n={};function En(){return new Ln(It(),_t())}function In(e,t,n,i,r,s){const a=t[1],o=a.data[e+8],l=An(o,a,n,null==i?et(o)&&mn:i!=a&&0!=(3&o.type),r&ye.Host&&s===o);return null!==l?jn(t,a,l,o):_n}function An(e,t,n,i,r){const s=e.providerIndexes,a=t.data,o=1048575&s,l=e.directiveStart,c=s>>20,h=r?o+c:e.directiveEnd;for(let u=i?o:o+c;u<h;u++){const e=a[u];if(u<l&&n===e||u>=l&&e.type===n)return u}if(r){const e=a[l];if(e&&nt(e)&&e.type===n)return l}return null}function jn(e,t,n,i){let r=e[n];const s=t.data;if(r instanceof an){const a=r;a.resolving&&function(e,t){throw new re("200",`Circular dependency in DI detected for ${e}`)}(ae(s[n]));const o=fn(a.canSeeViewProviders);a.resolving=!0;const l=a.injectImpl?ve(a.injectImpl):null;Ut(e,i,ye.Default);try{r=e[n]=a.factory(void 0,s,e,i),t.firstCreatePass&&n>=i.directiveStart&&function(e,t,n){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){const i=at(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,i)}r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,r),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s))}(n,s[n],t)}finally{null!==l&&ve(l),fn(o),a.resolving=!1,Qt()}}return r}function On(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function Pn(e,t){return!(e&ye.Self||e&ye.Host&&t)}class Ln{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return xn(this._tNode,this._lView,e,void 0,t)}}function Rn(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const e=n.length;let i=0;for(;i<e;){const r=n[i];if(ln(r))break;if(0===r)i+=2;else if("number"==typeof r)for(i++;i<e&&"string"==typeof n[i];)i++;else{if(r===t)return n[i+1];i+=2}}}return null}(It(),e)}const Nn="__parameters__";function Mn(e,t,n){return Se(()=>{const i=function(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}(t);function r(...e){if(this instanceof r)return i.apply(this,e),this;const t=new r(...e);return n.annotation=t,n;function n(e,n,i){const r=e.hasOwnProperty(Nn)?e[Nn]:Object.defineProperty(e,Nn,{value:[]})[Nn];for(;r.length<=i;)r.push(null);return(r[i]=r[i]||[]).push(t),e}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}class Dn{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=le({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Fn=new Dn("AnalyzeForEntryComponents"),Hn=Function;function Bn(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let i=e[n];Array.isArray(i)?(t===e&&(t=e.slice(0,n)),Bn(i,t)):t!==e&&t.push(i)}return t}function qn(e,t){e.forEach(e=>Array.isArray(e)?qn(e,t):t(e))}function Un(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Jn(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Vn(e,t){const n=[];for(let i=0;i<e;i++)n.push(t);return n}function Wn(e,t,n){let i=Qn(e,t);return i>=0?e[1|i]=n:(i=~i,function(e,t,n,i){let r=e.length;if(r==t)e.push(n,i);else if(1===r)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;)e[r]=e[r-2],r--;e[t]=n,e[t+1]=i}}(e,i,t,n)),i}function zn(e,t){const n=Qn(e,t);if(n>=0)return e[1|n]}function Qn(e,t){return function(e,t,n){let i=0,r=e.length>>1;for(;r!==i;){const n=i+(r-i>>1),s=e[n<<1];if(t===s)return n<<1;s>t?r=n:i=n+1}return~(r<<1)}(e,t)}const Gn={},$n=/\n/gm,Xn="__source",Yn=K({provide:String,useValue:K});let Kn;function Zn(e){const t=Kn;return Kn=e,t}function ei(e,t=ye.Default){if(void 0===Kn)throw new Error("inject() must be called from an injection context");return null===Kn?we(e,void 0,t):Kn.get(e,t&ye.Optional?null:void 0,t)}function ti(e,t=ye.Default){return(be||ei)(ie(e),t)}function ni(e){const t=[];for(let n=0;n<e.length;n++){const i=ie(e[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let e,n=ye.Default;for(let t=0;t<i.length;t++){const r=i[t],s=r.__NG_DI_FLAG__;"number"==typeof s?-1===s?e=r.token:n|=s:e=r}t.push(ti(e,n))}else t.push(ti(i))}return t}function ii(e,t){return e.__NG_DI_FLAG__=t,e.prototype.__NG_DI_FLAG__=t,e}const ri=ii(Mn("Inject",e=>({token:e})),-1),si=ii(Mn("Optional"),8),ai=ii(Mn("SkipSelf"),4);let oi;function li(e){var t;return(null===(t=function(){if(void 0===oi&&(oi=null,Ie.trustedTypes))try{oi=Ie.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(t){}return oi}())||void 0===t?void 0:t.createHTML(e))||e}class ci{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class hi extends ci{getTypeName(){return"HTML"}}class ui extends ci{getTypeName(){return"Style"}}class di extends ci{getTypeName(){return"Script"}}class pi extends ci{getTypeName(){return"URL"}}class gi extends ci{getTypeName(){return"ResourceURL"}}function mi(e){return e instanceof ci?e.changingThisBreaksApplicationSecurity:e}function fi(e,t){const n=yi(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function yi(e){return e instanceof ci&&e.getTypeName()||null}class bi{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(li(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class vi{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const t=this.inertDocument.createElement("body");e.appendChild(t)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=li(e),t;const n=this.inertDocument.createElement("body");return n.innerHTML=li(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const n=t.item(i).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const wi=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Si=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ti(e){return(e=String(e)).match(wi)||e.match(Si)?e:"unsafe:"+e}function ki(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Ci(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const xi=ki("area,br,col,hr,img,wbr"),_i=ki("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ei=ki("rp,rt"),Ii=Ci(Ei,_i),Ai=Ci(xi,Ci(_i,ki("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ci(Ei,ki("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ii),ji=ki("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Oi=ki("srcset"),Pi=Ci(ji,Oi,ki("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ki("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Li=ki("script,style,template");class Ri{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Ai.hasOwnProperty(t))return this.sanitizedSomething=!0,!Li.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let r=0;r<n.length;r++){const e=n.item(r),t=e.name,s=t.toLowerCase();if(!Pi.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let a=e.value;ji[s]&&(a=Ti(a)),Oi[s]&&(i=a,a=(i=String(i)).split(",").map(e=>Ti(e.trim())).join(", ")),this.buf.push(" ",t,'="',Di(a),'"')}var i;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Ai.hasOwnProperty(t)&&!xi.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Di(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const Ni=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Mi=/([^\#-~ |!])/g;function Di(e){return e.replace(/&/g,"&amp;").replace(Ni,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Mi,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Fi;function Hi(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Bi=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}({});function qi(e){const t=function(){const e=_t();return e&&e[12]}();return t?t.sanitize(Bi.URL,e)||"":fi(e,"URL")?mi(e):Ti(se(e))}function Ui(e){return e.ngDebugContext}function Ji(e){return e.ngOriginalError}function Vi(e,...t){e.error(...t)}class Wi{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),i=function(e){return e.ngErrorLogger||Vi}(e);i(this._console,"ERROR",e),t&&i(this._console,"ORIGINAL ERROR",t),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?Ui(e)?Ui(e):this._findContext(Ji(e)):null}_findOriginalError(e){let t=Ji(e);for(;t&&Ji(t);)t=Ji(t);return t}}function zi(e,t){e.__ngContext__=t}const Qi=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ie))();function Gi(e){return e instanceof Function?e():e}var $i=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}({});function Xi(e,t){return(void 0)(e,t)}function Yi(e){const t=e[3];return Ke(t)?t[3]:t}function Ki(e){return er(e[13])}function Zi(e){return er(e[4])}function er(e){for(;null!==e&&!Ke(e);)e=e[4];return e}function tr(e,t,n,i,r){if(null!=i){let s,a=!1;Ke(i)?s=i:Ye(i)&&(a=!0,i=i[0]);const o=pt(i);0===e&&null!==n?null==r?cr(t,n,o):lr(t,n,o,r||null,!0):1===e&&null!==n?lr(t,n,o,r||null,!0):2===e?function(e,t,n){const i=ur(e,t);i&&function(e,t,n,i){ut(e)?e.removeChild(t,n,i):t.removeChild(n)}(e,i,t,n)}(t,o,a):3===e&&t.destroyNode(o),null!=s&&function(e,t,n,i,r){const s=n[7];s!==pt(n)&&tr(t,e,i,s,r);for(let a=Xe;a<n.length;a++){const r=n[a];vr(r[1],r,e,t,i,s)}}(t,e,s,n,r)}}function nr(e,t,n){return ut(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function ir(e,t){const n=e[9],i=n.indexOf(t),r=t[3];1024&t[2]&&(t[2]&=-1025,kt(r,-1)),n.splice(i,1)}function rr(e,t){if(e.length<=Xe)return;const n=Xe+t,i=e[n];if(i){const s=i[17];null!==s&&s!==e&&ir(s,i),t>0&&(e[n-1][4]=i[4]);const a=Jn(e,Xe+t);vr(i[1],r=i,r[11],2,null,null),r[0]=null,r[6]=null;const o=a[19];null!==o&&o.detachView(a[1]),i[3]=null,i[4]=null,i[2]&=-129}var r;return i}function sr(e,t){if(!(256&t[2])){const n=t[11];ut(n)&&n.destroyNode&&vr(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return ar(e[1],e);for(;t;){let n=null;if(Ye(t))n=t[13];else{const e=t[10];e&&(n=e)}if(!n){for(;t&&!t[4]&&t!==e;)Ye(t)&&ar(t[1],t),t=t[3];null===t&&(t=e),Ye(t)&&ar(t[1],t),n=t&&t[4]}t=n}}(t)}}function ar(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let i=0;i<n.length;i+=2){const e=t[n[i]];if(!(e instanceof an)){const t=n[i+1];if(Array.isArray(t))for(let n=0;n<t.length;n+=2){const i=e[t[n]],r=t[n+1];try{r.call(i)}finally{}}else try{t.call(e)}finally{}}}}(e,t),function(e,t){const n=e.cleanup,i=t[7];let r=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const e=n[s+1],a="function"==typeof e?e(t):pt(t[e]),o=i[r=n[s+2]],l=n[s+3];"boolean"==typeof l?a.removeEventListener(n[s],o,l):l>=0?i[r=l]():i[r=-l].unsubscribe(),s+=2}else{const e=i[r=n[s+1]];n[s].call(e)}if(null!==i){for(let e=r+1;e<i.length;e++)(0,i[e])();t[7]=null}}(e,t),1===t[1].type&&ut(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&Ke(t[3])){n!==t[3]&&ir(n,t);const i=t[19];null!==i&&i.detachView(e)}}}function or(e,t,n){return function(e,t,n){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return n[0];if(2&i.flags){const t=e.data[i.directiveStart].encapsulation;if(t===ke.None||t===ke.Emulated)return null}return mt(i,n)}(e,t.parent,n)}function lr(e,t,n,i,r){ut(e)?e.insertBefore(t,n,i,r):t.insertBefore(n,i,r)}function cr(e,t,n){ut(e)?e.appendChild(t,n):t.appendChild(n)}function hr(e,t,n,i,r){null!==i?lr(e,t,n,i,r):cr(e,t,n)}function ur(e,t){return ut(e)?e.parentNode(t):t.parentNode}function dr(e,t,n){return pr(e,t,n)}let pr=function(e,t,n){return 40&e.type?mt(e,n):null};function gr(e,t,n,i){const r=or(e,i,t),s=t[11],a=dr(i.parent||t[6],i,t);if(null!=r)if(Array.isArray(n))for(let o=0;o<n.length;o++)hr(s,r,n[o],a,!1);else hr(s,r,n,a,!1)}function mr(e,t){if(null!==t){const n=t.type;if(3&n)return mt(t,e);if(4&n)return yr(-1,e[t.index]);if(8&n){const n=t.child;if(null!==n)return mr(e,n);{const n=e[t.index];return Ke(n)?yr(-1,n):pt(n)}}if(32&n)return Xi(t,e)()||pt(e[t.index]);{const n=fr(e,t);return null!==n?Array.isArray(n)?n[0]:mr(Yi(e[16]),n):mr(e,t.next)}}return null}function fr(e,t){return null!==t?e[16][6].projection[t.projection]:null}function yr(e,t){const n=Xe+e+1;if(n<t.length){const e=t[n],i=e[1].firstChild;if(null!==i)return mr(e,i)}return t[7]}function br(e,t,n,i,r,s,a){for(;null!=n;){const o=i[n.index],l=n.type;if(a&&0===t&&(o&&zi(pt(o),i),n.flags|=4),64!=(64&n.flags))if(8&l)br(e,t,n.child,i,r,s,!1),tr(t,e,r,o,s);else if(32&l){const a=Xi(n,i);let l;for(;l=a();)tr(t,e,r,l,s);tr(t,e,r,o,s)}else 16&l?wr(e,t,i,n,r,s):tr(t,e,r,o,s);n=a?n.projectionNext:n.next}}function vr(e,t,n,i,r,s){br(n,i,e.firstChild,t,r,s,!1)}function wr(e,t,n,i,r,s){const a=n[16],o=a[6].projection[i.projection];if(Array.isArray(o))for(let l=0;l<o.length;l++)tr(t,e,r,o[l],s);else br(e,t,o,a[3],r,s,!0)}function Sr(e,t,n){ut(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Tr(e,t,n){ut(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function kr(e,t,n){let i=e.length;for(;;){const r=e.indexOf(t,n);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){const n=t.length;if(r+n===i||e.charCodeAt(r+n)<=32)return r}n=r+1}}const Cr="ng-template";function xr(e,t,n){let i=0;for(;i<e.length;){let r=e[i++];if(n&&"class"===r){if(r=e[i],-1!==kr(r.toLowerCase(),t,0))return!0}else if(1===r){for(;i<e.length&&"string"==typeof(r=e[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function _r(e){return 4===e.type&&e.value!==Cr}function Er(e,t,n){return t===(4!==e.type||n?e.value:Cr)}function Ir(e,t,n){let i=4;const r=e.attrs||[],s=function(e){for(let t=0;t<e.length;t++)if(ln(e[t]))return t;return e.length}(r);let a=!1;for(let o=0;o<t.length;o++){const l=t[o];if("number"!=typeof l){if(!a)if(4&i){if(i=2|1&i,""!==l&&!Er(e,l,n)||""===l&&1===t.length){if(Ar(i))return!1;a=!0}}else{const c=8&i?l:t[++o];if(8&i&&null!==e.attrs){if(!xr(e.attrs,c,n)){if(Ar(i))return!1;a=!0}continue}const h=jr(8&i?"class":l,r,_r(e),n);if(-1===h){if(Ar(i))return!1;a=!0;continue}if(""!==c){let e;e=h>s?"":r[h+1].toLowerCase();const t=8&i?e:null;if(t&&-1!==kr(t,c,0)||2&i&&c!==e){if(Ar(i))return!1;a=!0}}}}else{if(!a&&!Ar(i)&&!Ar(l))return!1;if(a&&Ar(l))continue;a=!1,i=l|1&i}}return Ar(i)||a}function Ar(e){return 0==(1&e)}function jr(e,t,n,i){if(null===t)return-1;let r=0;if(i||!n){let n=!1;for(;r<t.length;){const i=t[r];if(i===e)return r;if(3===i||6===i)n=!0;else{if(1===i||2===i){let e=t[++r];for(;"string"==typeof e;)e=t[++r];continue}if(4===i)break;if(0===i){r+=4;continue}}r+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function Or(e,t,n=!1){for(let i=0;i<t.length;i++)if(Ir(e,t[i],n))return!0;return!1}function Pr(e,t){return e?":not("+t.trim()+")":t}function Lr(e){let t=e[0],n=1,i=2,r="",s=!1;for(;n<e.length;){let a=e[n];if("string"==typeof a)if(2&i){const t=e[++n];r+="["+a+(t.length>0?'="'+t+'"':"")+"]"}else 8&i?r+="."+a:4&i&&(r+=" "+a);else""===r||Ar(a)||(t+=Pr(s,r),r=""),i=a,s=s||!Ar(i);n++}return""!==r&&(t+=Pr(s,r)),t}const Rr={};function Nr(e){Mr(Et(),_t(),$t()+e,Lt())}function Mr(e,t,n,i){if(!i)if(3==(3&t[2])){const i=e.preOrderCheckHooks;null!==i&&Zt(t,i,n)}else{const i=e.preOrderHooks;null!==i&&en(t,i,0,n)}Xt(n)}function Dr(e,t){return e<<17|t<<2}function Fr(e){return e>>17&32767}function Hr(e){return 2|e}function Br(e){return(131068&e)>>2}function qr(e,t){return-131069&e|t<<2}function Ur(e){return 1|e}function Jr(e,t){const n=e.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const r=n[i],s=n[i+1];if(-1!==s){const n=e.data[s];Bt(r),n.contentQueries(2,t[s],s)}}}function Vr(e,t,n,i,r,s,a,o,l,c){const h=t.blueprint.slice();return h[0]=r,h[2]=140|i,Tt(h),h[3]=h[15]=e,h[8]=n,h[10]=a||e&&e[10],h[11]=o||e&&e[11],h[12]=l||e&&e[12]||null,h[9]=c||e&&e[9]||null,h[6]=s,h[16]=2==t.type?e[16]:h,h}function Wr(e,t,n,i,r){let s=e.data[t];if(null===s)s=function(e,t,n,i,r){const s=At(),a=Ot(),o=e.data[t]=function(e,t,n,i,r,s){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?s:s&&s.parent,n,t,i,r);return null===e.firstChild&&(e.firstChild=o),null!==s&&(a?null==s.child&&null!==o.parent&&(s.child=o):null===s.next&&(s.next=o)),o}(e,t,n,i,r),Ct.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=i,s.attrs=r;const e=function(){const e=Ct.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===e?-1:e.injectorIndex}return jt(s,!0),s}function zr(e,t,n,i){if(0===n)return-1;const r=t.length;for(let s=0;s<n;s++)t.push(i),e.blueprint.push(i),e.data.push(null);return r}function Qr(e,t,n){Jt(t);try{const i=e.viewQuery;null!==i&&bs(1,i,n);const r=e.template;null!==r&&Xr(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Jr(e,t),e.staticViewQueries&&bs(2,e.viewQuery,n);const s=e.components;null!==s&&function(e,t){for(let n=0;n<t.length;n++)ps(e,t[n])}(t,s)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),i}finally{t[2]&=-5,Gt()}}function Gr(e,t,n,i){const r=t[2];if(256==(256&r))return;Jt(t);const s=Lt();try{Tt(t),Ct.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&Xr(e,t,n,2,i);const a=3==(3&r);if(!s)if(a){const n=e.preOrderCheckHooks;null!==n&&Zt(t,n,null)}else{const n=e.preOrderHooks;null!==n&&en(t,n,0,null),tn(t,0)}if(function(e){for(let t=Ki(e);null!==t;t=Zi(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const n=e[t],i=n[3];0==(1024&n[2])&&kt(i,1),n[2]|=1024}}}(t),function(e){for(let t=Ki(e);null!==t;t=Zi(t))for(let e=Xe;e<t.length;e++){const n=t[e],i=n[1];wt(n)&&Gr(i,n,i.template,n[8])}}(t),null!==e.contentQueries&&Jr(e,t),!s)if(a){const n=e.contentCheckHooks;null!==n&&Zt(t,n)}else{const n=e.contentHooks;null!==n&&en(t,n,1),tn(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let e=0;e<n.length;e++){const i=n[e];if(i<0)Xt(~i);else{const r=i,s=n[++e],a=n[++e];Dt(s,r),a(2,t[r])}}}finally{Xt(-1)}}(e,t);const o=e.components;null!==o&&function(e,t){for(let n=0;n<t.length;n++)us(e,t[n])}(t,o);const l=e.viewQuery;if(null!==l&&bs(2,l,i),!s)if(a){const n=e.viewCheckHooks;null!==n&&Zt(t,n)}else{const n=e.viewHooks;null!==n&&en(t,n,2),tn(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),s||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,kt(t[3],-1))}finally{Gt()}}function $r(e,t,n,i){const r=t[10],s=!Lt(),a=vt(t);try{s&&!a&&r.begin&&r.begin(),a&&Qr(e,t,i),Gr(e,t,n,i)}finally{s&&!a&&r.end&&r.end()}}function Xr(e,t,n,i,r){const s=$t(),a=2&i;try{Xt(-1),a&&t.length>$e&&Mr(e,t,$e,Lt()),n(i,r)}finally{Xt(s)}}function Yr(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Kr(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Kr(e,t,n,i,r,s,a,o,l,c){const h=$e+i,u=h+r,d=function(e,t){const n=[];for(let i=0;i<t;i++)n.push(i<e?null:Rr);return n}(h,u),p="function"==typeof c?c():c;return d[1]={type:e,blueprint:d,template:n,queries:null,viewQuery:o,declTNode:t,data:d.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:u,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1}}function Zr(e,t,n,i){const r=ws(t);null===n?r.push(i):(r.push(n),e.firstCreatePass&&Ss(e).push(i,r.length-1))}function es(e,t,n){for(let i in e)if(e.hasOwnProperty(i)){const r=e[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(t,r):n[i]=[t,r]}return n}function ts(e,t,n,i,r,s,a,o){const l=mt(t,n);let c,h=t.inputs;var u;!o&&null!=h&&(c=h[i])?(ks(e,n,c,i,r),et(t)&&function(e,t){const n=yt(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(i="class"===(u=i)?"className":"for"===u?"htmlFor":"formaction"===u?"formAction":"innerHtml"===u?"innerHTML":"readonly"===u?"readOnly":"tabindex"===u?"tabIndex":u,r=null!=a?a(r,t.value||"",i):r,ut(s)?s.setProperty(l,i,r):cn(i)||(l.setProperty?l.setProperty(i,r):l[i]=r))}function ns(e,t,n,i,r,s){const a=s.hostBindings;if(a){let n=e.hostBindingOpCodes;null===n&&(n=e.hostBindingOpCodes=[]);const s=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(i,r,a)}}function is(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function rs(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function ss(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;nt(t)&&(n[""]=e)}}function as(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function os(e,t,n,i,r){e.data[i]=r;const s=r.factory||(r.factory=it(r.type)),a=new an(s,nt(r),null);e.blueprint[i]=a,n[i]=a,ns(e,t,0,i,zr(e,n,r.hostVars,Rr),r)}function ls(e,t,n){const i=mt(t,e),r=Yr(n),s=e[10],a=gs(e,Vr(e,r,null,n.onPush?64:16,i,t,s,s.createRenderer(i,n),null,null));e[t.index]=a}function cs(e,t,n,i,r,s){const a=s[t];if(null!==a){const e=i.setInput;for(let t=0;t<a.length;){const r=a[t++],s=a[t++],o=a[t++];null!==e?i.setInput(n,o,r,s):n[s]=o}}}function hs(e,t){let n=null,i=0;for(;i<t.length;){const r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;e.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,e[r],t[i+1])),i+=2}else i+=2;else i+=4}return n}function us(e,t){const n=yt(t,e);if(wt(n)){const e=n[1];80&n[2]?Gr(e,n,e.template,n[8]):n[5]>0&&ds(n)}}function ds(e){for(let n=Ki(e);null!==n;n=Zi(n))for(let e=Xe;e<n.length;e++){const t=n[e];if(1024&t[2]){const e=t[1];Gr(e,t,e.template,t[8])}else t[5]>0&&ds(t)}const t=e[1].components;if(null!==t)for(let n=0;n<t.length;n++){const i=yt(t[n],e);wt(i)&&i[5]>0&&ds(i)}}function ps(e,t){const n=yt(t,e),i=n[1];!function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(i,n),Qr(i,n,n[8])}function gs(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function ms(e){for(;e;){e[2]|=64;const t=Yi(e);if(0!=(512&e[2])&&!t)return e;e=t}return null}function fs(e,t,n){const i=t[10];i.begin&&i.begin();try{Gr(e,t,e.template,n)}catch(r){throw Ts(t,r),r}finally{i.end&&i.end()}}function ys(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],i=bt(n),r=i[1];$r(r,i,r.template,n)}}(e[8])}function bs(e,t,n){Bt(0),t(e,n)}const vs=(()=>Promise.resolve(null))();function ws(e){return e[7]||(e[7]=[])}function Ss(e){return e.cleanup||(e.cleanup=[])}function Ts(e,t){const n=e[9],i=n?n.get(Wi,null):null;i&&i.handleError(t)}function ks(e,t,n,i,r){for(let s=0;s<n.length;){const a=n[s++],o=n[s++],l=t[a],c=e.data[a];null!==c.setInput?c.setInput(l,r,i,o):l[o]=r}}function Cs(e,t,n){let i=n?e.styles:null,r=n?e.classes:null,s=0;if(null!==t)for(let a=0;a<t.length;a++){const e=t[a];"number"==typeof e?s=e:1==s?r=ee(r,e):2==s&&(i=ee(i,e+": "+t[++a]+";"))}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}const xs=new Dn("INJECTOR",-1);class _s{get(e,t=Gn){if(t===Gn){const t=new Error(`NullInjectorError: No provider for ${Z(e)}!`);throw t.name="NullInjectorError",t}return t}}const Es=new Dn("Set Injector scope."),Is={},As={},js=[];let Os;function Ps(){return void 0===Os&&(Os=new _s),Os}function Ls(e,t=null,n=null,i){return new Rs(e,n,t||Ps(),i)}class Rs{constructor(e,t,n,i=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];t&&qn(t,n=>this.processProvider(n,e,t)),qn([e],e=>this.processInjectorType(e,[],r)),this.records.set(xs,Ms(void 0,this));const s=this.records.get(Es);this.scope=null!=s?s.value:null,this.source=i||("object"==typeof e?null:Z(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=Gn,n=ye.Default){this.assertNotDestroyed();const i=Zn(this);try{if(!(n&ye.SkipSelf)){let t=this.records.get(e);if(void 0===t){const n=("function"==typeof(r=e)||"object"==typeof r&&r instanceof Dn)&&he(e);t=n&&this.injectableDefInScope(n)?Ms(Ns(e),Is):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(n&ye.Self?Ps():this.parent).get(e,t=n&ye.Optional&&t===Gn?null:t)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(Z(e)),i)throw s;return function(e,t,n,i){const r=e.ngTempTokenPath;throw t[Xn]&&r.unshift(t[Xn]),e.message=function(e,t,n,i=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let r=Z(t);if(Array.isArray(t))r=t.map(Z).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let i=t[n];e.push(n+":"+("string"==typeof i?JSON.stringify(i):Z(i)))}r=`{${e.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${e.replace($n,"\n  ")}`}("\n"+e.message,r,n,i),e.ngTokenPath=r,e.ngTempTokenPath=null,e}(s,e,"R3InjectorError",this.source)}throw s}finally{Zn(i)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,n)=>e.push(Z(n))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=ie(e)))return!1;let i=de(e);const r=null==i&&e.ngModule||void 0,s=void 0===r?e:r,a=-1!==n.indexOf(s);if(void 0!==r&&(i=de(r)),null==i)return!1;if(null!=i.imports&&!a){let e;n.push(s);try{qn(i.imports,i=>{this.processInjectorType(i,t,n)&&(void 0===e&&(e=[]),e.push(i))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:n,providers:i}=e[t];qn(i,e=>this.processProvider(e,n,i||js))}}this.injectorDefTypes.add(s);const o=it(s)||(()=>new s);this.records.set(s,Ms(o,Is));const l=i.providers;if(null!=l&&!a){const t=e;qn(l,e=>this.processProvider(e,t,l))}return void 0!==r&&void 0!==e.providers}processProvider(e,t,n){let i=Fs(e=ie(e))?e:ie(e&&e.provide);const r=function(e,t,n){return Ds(e)?Ms(void 0,e.useValue):Ms(function(e,t,n){let i;if(Fs(e)){const t=ie(e);return it(t)||Ns(t)}if(Ds(e))i=()=>ie(e.useValue);else if((r=e)&&r.useFactory)i=()=>e.useFactory(...ni(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))i=()=>ti(ie(e.useExisting));else{const t=ie(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return it(t)||Ns(t);i=()=>new t(...ni(e.deps))}var r;return i}(e),Is)}(e);if(Fs(e)||!0!==e.multi)this.records.get(i);else{let t=this.records.get(i);t||(t=Ms(void 0,Is,!0),t.factory=()=>ni(t.multi),this.records.set(i,t)),i=e,t.multi.push(e)}this.records.set(i,r)}hydrate(e,t){var n;return t.value===Is&&(t.value=As,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}}function Ns(e){const t=he(e),n=null!==t?t.factory:it(e);if(null!==n)return n;if(e instanceof Dn)throw new Error(`Token ${Z(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const n=Vn(t,"?");throw new Error(`Can't resolve all parameters for ${Z(e)}: (${n.join(", ")}).`)}const n=function(e){const t=e&&(e[pe]||e[me]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function Ms(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Ds(e){return null!==e&&"object"==typeof e&&Yn in e}function Fs(e){return"function"==typeof e}const Hs=function(e,t,n){return function(e,t=null,n=null,i){const r=Ls(e,t,n,i);return r._resolveInjectorDefTypes(),r}({name:n},t,e,n)};let Bs=(()=>{class e{static create(e,t){return Array.isArray(e)?Hs(e,t,""):Hs(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=Gn,e.NULL=new _s,e.\u0275prov=le({token:e,providedIn:"any",factory:()=>ti(xs)}),e.__NG_ELEMENT_ID__=-1,e})();function qs(e,t){Kt(bt(e)[1],It())}let Us=null;function Js(){if(!Us){const e=Ie.Symbol;if(e&&e.iterator)Us=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Us=n)}}}return Us}function Vs(e){return!!Ws(e)&&(Array.isArray(e)||!(e instanceof Map)&&Js()in e)}function Ws(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function zs(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Qs(e,t,n,i){const r=_t();return zs(r,Nt(),t)&&(Et(),function(e,t,n,i,r,s){const a=mt(e,t);!function(e,t,n,i,r,s,a){if(null==s)ut(e)?e.removeAttribute(t,r,n):t.removeAttribute(r);else{const o=null==a?se(s):a(s,i||"",r);ut(e)?e.setAttribute(t,r,o,n):n?t.setAttributeNS(n,r,o):t.setAttribute(r,o)}}(t[11],a,s,e.value,n,i,r)}(Yt(),r,e,t,n,i)),Qs}function Gs(e,t=ye.Default){const n=_t();return null===n?ti(e,t):xn(It(),n,ie(e),t)}function $s(e,t,n){const i=_t();return zs(i,Nt(),t)&&ts(Et(),Yt(),i,e,t,i[11],n,!1),$s}function Xs(e,t,n,i,r){const s=r?"class":"style";ks(e,n,t.inputs[s],s,i)}function Ys(e,t,n,i){const r=_t(),s=Et(),a=$e+e,o=r[11],l=r[a]=nr(o,t,Ct.lFrame.currentNamespace),c=s.firstCreatePass?function(e,t,n,i,r,s,a){const o=t.consts,l=Wr(t,e,2,r,St(o,s));return function(e,t,n,i){let r=!1;if(xt()){const s=function(e,t,n){const i=e.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const a=i[s];Or(n,a.selectors,!1)&&(r||(r=[]),Tn(bn(n,t),e,a.type),nt(a)?(rs(e,n),r.unshift(a)):r.push(a))}return r}(e,t,n),a=null===i?null:{"":-1};if(null!==s){r=!0,as(n,e.data.length,s.length);for(let e=0;e<s.length;e++){const t=s[e];t.providersResolver&&t.providersResolver(t)}let i=!1,o=!1,l=zr(e,t,s.length,null);for(let r=0;r<s.length;r++){const c=s[r];n.mergedAttrs=hn(n.mergedAttrs,c.hostAttrs),os(e,n,t,l,c),ss(l,c,a),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const h=c.type.prototype;!i&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),i=!0),o||!h.ngOnChanges&&!h.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),o=!0),l++}!function(e,t){const n=t.directiveEnd,i=e.data,r=t.attrs,s=[];let a=null,o=null;for(let l=t.directiveStart;l<n;l++){const e=i[l],n=e.inputs,c=null===r||_r(t)?null:hs(n,r);s.push(c),a=es(n,l,a),o=es(e.outputs,l,o)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=a,t.outputs=o}(e,n)}a&&function(e,t,n){if(t){const i=e.localNames=[];for(let e=0;e<t.length;e+=2){const r=n[t[e+1]];if(null==r)throw new re("301",`Export of name '${t[e+1]}' not found!`);i.push(t[e],r)}}}(n,i,a)}n.mergedAttrs=hn(n.mergedAttrs,n.attrs)}(t,n,l,St(o,a)),null!==l.attrs&&Cs(l,l.attrs,!1),null!==l.mergedAttrs&&Cs(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(a,s,r,0,t,n,i):s.data[a];jt(c,!0);const h=c.mergedAttrs;null!==h&&on(o,l,h);const u=c.classes;null!==u&&Tr(o,l,u);const d=c.styles;null!==d&&Sr(o,l,d),64!=(64&c.flags)&&gr(s,r,l,c),0===Ct.lFrame.elementDepthCount&&zi(l,r),Ct.lFrame.elementDepthCount++,tt(c)&&(function(e,t,n){xt()&&(function(e,t,n,i){const r=n.directiveStart,s=n.directiveEnd;e.firstCreatePass||bn(n,t),zi(i,t);const a=n.initialInputs;for(let o=r;o<s;o++){const i=e.data[o],s=nt(i);s&&ls(t,n,i);const l=jn(t,e,o,n);zi(l,t),null!==a&&cs(0,o-r,l,i,0,a),s&&(yt(n.index,t)[8]=l)}}(e,t,n,mt(n,t)),128==(128&n.flags)&&function(e,t,n){const i=n.directiveStart,r=n.directiveEnd,s=n.index,a=Ct.lFrame.currentDirectiveIndex;try{Xt(s);for(let n=i;n<r;n++){const i=e.data[n],r=t[n];Ft(n),null===i.hostBindings&&0===i.hostVars&&null===i.hostAttrs||is(i,r)}}finally{Xt(-1),Ft(a)}}(e,t,n))}(s,r,c),function(e,t,n){if(Ze(t)){const i=t.directiveEnd;for(let r=t.directiveStart;r<i;r++){const t=e.data[r];t.contentQueries&&t.contentQueries(1,n[r],r)}}}(s,c,r)),null!==i&&function(e,t,n=mt){const i=t.localNames;if(null!==i){let r=t.index+1;for(let s=0;s<i.length;s+=2){const a=i[s+1],o=-1===a?n(t,e):e[a];e[r++]=o}}}(r,c)}function Ks(){let e=It();Ot()?Pt():(e=e.parent,jt(e,!1));const t=e;Ct.lFrame.elementDepthCount--;const n=Et();n.firstCreatePass&&(Kt(n,e),Ze(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Xs(n,t,_t(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Xs(n,t,_t(),t.stylesWithoutHost,!1)}function Zs(e,t,n,i){Ys(e,t,n,i),Ks()}function ea(e){return!!e&&"function"==typeof e.then}function ta(e,t,n=!1,i){const r=_t(),s=Et(),a=It();return function(e,t,n,i,r,s,a=!1,o){const l=tt(i),c=e.firstCreatePass&&Ss(e),h=ws(t);let u=!0;if(3&i.type){const d=mt(i,t),p=o?o(d):Ae,g=p.target||d,m=h.length,f=o?e=>o(pt(e[i.index])).target:i.index;if(ut(n)){let a=null;if(!o&&l&&(a=function(e,t,n,i){const r=e.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const e=r[s];if(e===n&&r[s+1]===i){const e=t[7],n=r[s+2];return e.length>n?e[n]:null}"string"==typeof e&&(s+=2)}return null}(e,t,r,i.index)),null!==a)(a.__ngLastListenerFn__||a).__ngNextListenerFn__=s,a.__ngLastListenerFn__=s,u=!1;else{s=ia(i,t,0,s,!1);const e=n.listen(p.name||g,r,s);h.push(s,e),c&&c.push(r,f,m,m+1)}}else s=ia(i,t,0,s,!0),g.addEventListener(r,s,a),h.push(s),c&&c.push(r,f,m,a)}else s=ia(i,t,0,s,!1);const d=i.outputs;let p;if(u&&null!==d&&(p=d[r])){const e=p.length;if(e)for(let n=0;n<e;n+=2){const e=t[p[n]][p[n+1]].subscribe(s),a=h.length;h.push(s,e),c&&c.push(r,i.index,a,-(a+1))}}}(s,r,r[11],a,e,t,n,i),ta}function na(e,t,n,i){try{return!1!==n(i)}catch(r){return Ts(e,r),!1}}function ia(e,t,n,i,r){return function n(s){if(s===Function)return i;const a=2&e.flags?yt(e.index,t):t;0==(32&t[2])&&ms(a);let o=na(t,0,i,s),l=n.__ngNextListenerFn__;for(;l;)o=na(t,0,l,s)&&o,l=l.__ngNextListenerFn__;return r&&!1===o&&(s.preventDefault(),s.returnValue=!1),o}}function ra(e,t,n,i,r){const s=e[n+1],a=null===t;let o=i?Fr(s):Br(s),l=!1;for(;0!==o&&(!1===l||a);){const n=e[o+1];sa(e[o],t)&&(l=!0,e[o+1]=i?Ur(n):Hr(n)),o=i?Fr(n):Br(n)}l&&(e[n+1]=i?Hr(s):Ur(s))}function sa(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Qn(e,t)>=0}const aa={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function oa(e){return e.substring(aa.key,aa.keyEnd)}function la(e,t){const n=aa.textEnd;return n===t?-1:(t=aa.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,aa.key=t,n),ca(e,t,n))}function ca(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function ha(e,t){return function(e,t,n,i){const r=_t(),s=Et(),a=Mt(2);s.firstUpdatePass&&ga(s,e,a,true),t!==Rr&&zs(r,a,t)&&ya(s,s.data[$t()],r,r[11],e,r[a+1]=function(e,t){return null==e||"object"==typeof e&&(e=Z(mi(e))),e}(t),true,a)}(e,t),ha}function ua(e){!function(e,t,n,i){const r=Et(),s=Mt(2);r.firstUpdatePass&&ga(r,null,s,i);const a=_t();if(n!==Rr&&zs(a,s,n)){const o=r.data[$t()];if(wa(o,i)&&!pa(r,s)){let e=o.classesWithoutHost;null!==e&&(n=ee(e,n||"")),Xs(r,o,a,n,i)}else!function(e,t,n,i,r,s,a,o){r===Rr&&(r=je);let l=0,c=0,h=0<r.length?r[0]:null,u=0<s.length?s[0]:null;for(;null!==h||null!==u;){const a=l<r.length?r[l+1]:void 0,d=c<s.length?s[c+1]:void 0;let p,g=null;h===u?(l+=2,c+=2,a!==d&&(g=u,p=d)):null===u||null!==h&&h<u?(l+=2,g=h):(c+=2,g=u,p=d),null!==g&&ya(e,t,n,i,g,p,true,o),h=l<r.length?r[l]:null,u=c<s.length?s[c]:null}}(r,o,a,a[11],a[s+1],a[s+1]=function(e,t,n){if(null==n||""===n)return je;const i=[],r=mi(n);if(Array.isArray(r))for(let s=0;s<r.length;s++)e(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&e(i,s,r[s]);else"string"==typeof r&&t(i,r);return i}(e,t,n),0,s)}}(Wn,da,e,!0)}function da(e,t){for(let n=function(e){return function(e){aa.key=0,aa.keyEnd=0,aa.value=0,aa.valueEnd=0,aa.textEnd=e.length}(e),la(e,ca(e,0,aa.textEnd))}(t);n>=0;n=la(t,n))Wn(e,oa(t),!0)}function pa(e,t){return t>=e.expandoStartIndex}function ga(e,t,n,i){const r=e.data;if(null===r[n+1]){const s=r[$t()],a=pa(e,n);wa(s,i)&&null===t&&!a&&(t=!1),t=function(e,t,n,i){const r=function(e){const t=Ct.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let s=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(n=fa(n=ma(null,e,t,n,i),t.attrs,i),s=null);else{const a=t.directiveStylingLast;if(-1===a||e[a]!==r)if(n=ma(r,e,t,n,i),null===s){let n=function(e,t,n){const i=n?t.classBindings:t.styleBindings;if(0!==Br(i))return e[Fr(i)]}(e,t,i);void 0!==n&&Array.isArray(n)&&(n=ma(null,e,t,n[1],i),n=fa(n,t.attrs,i),function(e,t,n,i){e[Fr(n?t.classBindings:t.styleBindings)]=i}(e,t,i,n))}else s=function(e,t,n){let i;const r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)i=fa(i,e[s].hostAttrs,n);return fa(i,t.attrs,n)}(e,t,i)}return void 0!==s&&(i?t.residualClasses=s:t.residualStyles=s),n}(r,s,t,i),function(e,t,n,i,r,s){let a=s?t.classBindings:t.styleBindings,o=Fr(a),l=Br(a);e[i]=n;let c,h=!1;if(Array.isArray(n)){const e=n;c=e[1],(null===c||Qn(e,c)>0)&&(h=!0)}else c=n;if(r)if(0!==l){const t=Fr(e[o+1]);e[i+1]=Dr(t,o),0!==t&&(e[t+1]=qr(e[t+1],i)),e[o+1]=131071&e[o+1]|i<<17}else e[i+1]=Dr(o,0),0!==o&&(e[o+1]=qr(e[o+1],i)),o=i;else e[i+1]=Dr(l,0),0===o?o=i:e[l+1]=qr(e[l+1],i),l=i;h&&(e[i+1]=Hr(e[i+1])),ra(e,c,i,!0),ra(e,c,i,!1),function(e,t,n,i,r){const s=r?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&Qn(s,t)>=0&&(n[i+1]=Ur(n[i+1]))}(t,c,e,i,s),a=Dr(o,l),s?t.classBindings=a:t.styleBindings=a}(r,s,t,n,a,i)}}function ma(e,t,n,i,r){let s=null;const a=n.directiveEnd;let o=n.directiveStylingLast;for(-1===o?o=n.directiveStart:o++;o<a&&(s=t[o],i=fa(i,s.hostAttrs,r),s!==e);)o++;return null!==e&&(n.directiveStylingLast=o),i}function fa(e,t,n){const i=n?1:2;let r=-1;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?r=a:r===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Wn(e,a,!!n||t[++s]))}return void 0===e?null:e}function ya(e,t,n,i,r,s,a,o){if(!(3&t.type))return;const l=e.data,c=l[o+1];va(1==(1&c)?ba(l,t,n,r,Br(c),a):void 0)||(va(s)||2==(2&c)&&(s=ba(l,null,n,r,o,a)),function(e,t,n,i,r){const s=ut(e);if(t)r?s?e.addClass(n,i):n.classList.add(i):s?e.removeClass(n,i):n.classList.remove(i);else{let t=-1===i.indexOf("-")?void 0:$i.DashCase;if(null==r)s?e.removeStyle(n,i,t):n.style.removeProperty(i);else{const a="string"==typeof r&&r.endsWith("!important");a&&(r=r.slice(0,-10),t|=$i.Important),s?e.setStyle(n,i,r,t):n.style.setProperty(i,r,a?"important":"")}}}(i,a,gt($t(),n),r,s))}function ba(e,t,n,i,r,s){const a=null===t;let o;for(;r>0;){const t=e[r],s=Array.isArray(t),l=s?t[1]:t,c=null===l;let h=n[r+1];h===Rr&&(h=c?je:void 0);let u=c?zn(h,i):l===i?h:void 0;if(s&&!va(u)&&(u=zn(t,i)),va(u)&&(o=u,a))return o;const d=e[r+1];r=a?Fr(d):Br(d)}if(null!==t){let e=s?t.residualClasses:t.residualStyles;null!=e&&(o=zn(e,i))}return o}function va(e){return void 0!==e}function wa(e,t){return 0!=(e.flags&(t?16:32))}function Sa(e,t=""){const n=_t(),i=Et(),r=e+$e,s=i.firstCreatePass?Wr(i,r,1,t,null):i.data[r],a=n[r]=function(e,t){return ut(e)?e.createText(t):e.createTextNode(t)}(n[11],t);gr(i,n,a,s),jt(s,!1)}function Ta(e){return ka("",e,""),Ta}function ka(e,t,n){const i=_t(),r=function(e,t,n,i){return zs(e,Nt(),n)?t+se(n)+i:Rr}(i,e,t,n);return r!==Rr&&function(e,t,n){const i=gt(t,e);!function(e,t,n){ut(e)?e.setValue(t,n):t.textContent=n}(e[11],i,n)}(i,$t(),r),ka}function Ca(e,t,n){const i=_t();return zs(i,Nt(),t)&&ts(Et(),Yt(),i,e,t,i[11],n,!0),Ca}const xa=void 0;var _a=["en",[["a","p"],["AM","PM"],xa],[["AM","PM"],xa,xa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],xa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],xa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",xa,"{1} 'at' {0}",xa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let Ea={};function Ia(e){return e in Ea||(Ea[e]=Ie.ng&&Ie.ng.common&&Ie.ng.common.locales&&Ie.ng.common.locales[e]),Ea[e]}var Aa=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}({});const ja="en-US";let Oa=ja;function Pa(e){var t,n;n="Expected localeId to be defined",null==(t=e)&&function(e,t,n,i){throw new Error(`ASSERTION ERROR: ${e} [Expected=> null != ${t} <=Actual]`)}(n,t),"string"==typeof e&&(Oa=e.toLowerCase().replace(/_/g,"-"))}class La{}class Ra{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${Z(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(e)}}let Na=(()=>{class e{}return e.NULL=new Ra,e})();function Ma(...e){}function Da(e,t){return new Ha(mt(e,t))}const Fa=function(){return Da(It(),_t())};let Ha=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=Fa,e})();function Ba(e){return e instanceof Ha?e.nativeElement:e}class qa{}let Ua=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Ja(),e})();const Ja=function(){const e=_t(),t=yt(It().index,e);return function(e){return e[11]}(Ye(t)?t:e)};let Va=(()=>{class e{}return e.\u0275prov=le({token:e,providedIn:"root",factory:()=>null}),e})();class Wa{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const za=new Wa("11.2.14");class Qa{constructor(){}supports(e){return Vs(e)}create(e){return new $a(e)}}const Ga=(e,t)=>t;class $a{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Ga}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,i=0,r=null;for(;t||n;){const s=!n||t&&t.currentIndex<Za(n,i,r)?t:n,a=Za(s,i,r),o=s.currentIndex;if(s===n)i--,n=n._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{r||(r=[]);const e=a-i,t=o-i;if(e!=t){for(let n=0;n<e;n++){const i=n<r.length?r[n]:r[n]=0,s=i+n;t<=s&&s<e&&(r[n]=i+1)}r[s.previousIndex]=t-e}}a!==o&&e(s,a,o)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Vs(e))throw new Error(`Error trying to diff '${Z(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,i,r=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],i=this._trackByFn(t,n),null!==r&&Object.is(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,n,i,t)),Object.is(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,i,t),s=!0),r=r._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Js()]();let i;for(;!(i=n.next()).done;)t(i.value)}}(e,e=>{i=this._trackByFn(t,e),null!==r&&Object.is(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,e,i,t)),Object.is(r.item,e)||this._addIdentityChange(r,e)):(r=this._mismatch(r,e,i,t),s=!0),r=r._next,t++}),this.length=t;return this._truncate(r),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,i){let r;return null===e?r=this._itTail:(r=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,r,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,r,i)):e=this._addAfter(new Xa(t,n),r,i),e}_verifyReinsertion(e,t,n,i){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?e=this._reinsertAfter(r,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,r=e._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Ka),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ka),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Xa{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ya{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class Ka{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new Ya,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Za(e,t,n){const i=e.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+t+r}class eo{constructor(){}supports(e){return e instanceof Map||Ws(e)}create(){return new to}}class to{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Ws(e)))throw new Error(`Error trying to diff '${Z(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const i=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,i)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}const n=new no(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class no{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function io(){return new ro([new Qa])}let ro=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||io()),deps:[[e,new ai,new si]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.\u0275prov=le({token:e,providedIn:"root",factory:io}),e})();function so(){return new ao([new eo])}let ao=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||so()),deps:[[e,new ai,new si]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=le({token:e,providedIn:"root",factory:so}),e})();function oo(e,t,n,i,r=!1){for(;null!==n;){const s=t[n.index];if(null!==s&&i.push(pt(s)),Ke(s))for(let e=Xe;e<s.length;e++){const t=s[e],n=t[1].firstChild;null!==n&&oo(t[1],t,n,i)}const a=n.type;if(8&a)oo(e,t,n.child,i);else if(32&a){const e=Xi(n,t);let r;for(;r=e();)i.push(r)}else if(16&a){const e=fr(t,n);if(Array.isArray(e))i.push(...e);else{const n=Yi(t[16]);oo(n[1],n,e,i,!0)}}n=r?n.projectionNext:n.next}return i}class lo{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return oo(t,e,t.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Ke(e)){const t=e[8],n=t?t.indexOf(this):-1;n>-1&&(rr(e,n),Jn(t,n))}this._attachedToViewContainer=!1}sr(this._lView[1],this._lView)}onDestroy(e){Zr(this._lView[1],this._lView,null,e)}markForCheck(){ms(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){fs(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){Rt(!0);try{fs(e,t,n)}finally{Rt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,vr(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class co extends lo{constructor(e){super(e),this._view=e}detectChanges(){ys(this._view)}checkNoChanges(){!function(e){Rt(!0);try{ys(e)}finally{Rt(!1)}}(this._view)}get context(){return null}}const ho=function(e=!1){return function(e,t,n){if(!n&&et(e)){const n=yt(e.index,t);return new lo(n,n)}return 47&e.type?new lo(t[16],t):null}(It(),_t(),e)};let uo=(()=>{class e{}return e.__NG_ELEMENT_ID__=ho,e.__ChangeDetectorRef__=!0,e})();const po=[new eo],go=new ro([new Qa]),mo=new ao(po),fo=function(){return wo(It(),_t())};let yo=(()=>{class e{}return e.__NG_ELEMENT_ID__=fo,e})();const bo=yo,vo=class extends bo{constructor(e,t,n){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=Vr(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const i=this._declarationLView[19];return null!==i&&(n[19]=i.createEmbeddedView(t)),Qr(t,n,e),new lo(n)}};function wo(e,t){return 4&e.type?new vo(t,e,Da(e,t)):null}class So{}class To{}const ko=function(){return Ao(It(),_t())};let Co=(()=>{class e{}return e.__NG_ELEMENT_ID__=ko,e})();const xo=Co,_o=class extends xo{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return Da(this._hostTNode,this._hostLView)}get injector(){return new Ln(this._hostTNode,this._hostLView)}get parentInjector(){const e=Sn(this._hostTNode,this._hostLView);if(dn(e)){const t=gn(e,this._hostLView),n=pn(e);return new Ln(t[1].data[n+8],t)}return new Ln(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=Eo(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Xe}createEmbeddedView(e,t,n){const i=e.createEmbeddedView(t||{});return this.insert(i,n),i}createComponent(e,t,n,i,r){const s=n||this.parentInjector;if(!r&&null==e.ngModule&&s){const e=s.get(So,null);e&&(r=e)}const a=e.create(s,i,void 0,r);return this.insert(a.hostView,t),a}insert(e,t){const n=e._lView,i=n[1];if(Ke(n[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=n[3],i=new _o(t,t[6],t[3]);i.detach(i.indexOf(e))}}const r=this._adjustIndex(t),s=this._lContainer;!function(e,t,n,i){const r=Xe+i,s=n.length;i>0&&(n[r-1][4]=t),i<s-Xe?(t[4]=n[r],Un(n,Xe+i,t)):(n.push(t),t[4]=null),t[3]=n;const a=t[17];null!==a&&n!==a&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(a,t);const o=t[19];null!==o&&o.insertView(e),t[2]|=128}(i,n,s,r);const a=yr(r,s),o=n[11],l=ur(o,s[7]);return null!==l&&function(e,t,n,i,r,s){i[0]=r,i[6]=t,vr(e,i,n,1,r,s)}(i,s[6],o,n,l,a),e.attachToViewContainerRef(),Un(Io(s),r,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=Eo(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),n=rr(this._lContainer,t);n&&(Jn(Io(this._lContainer),t),sr(n[1],n))}detach(e){const t=this._adjustIndex(e,-1),n=rr(this._lContainer,t);return n&&null!=Jn(Io(this._lContainer),t)?new lo(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function Eo(e){return e[8]}function Io(e){return e[8]||(e[8]=[])}function Ao(e,t){let n;const i=t[e.index];if(Ke(i))n=i;else{let r;if(8&e.type)r=pt(i);else{const n=t[11];r=n.createComment("");const i=mt(e,t);lr(n,ur(n,i),r,function(e,t){return ut(e)?e.nextSibling(t):t.nextSibling}(n,i),!1)}t[e.index]=n=new Array(i,!0,!1,t,null,0,e,r,null,null),gs(t,n)}return new _o(n,e,t)}const jo={};class Oo extends Na{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Qe(e);return new Ro(t,this.ngModule)}}function Po(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const Lo=new Dn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Qi});class Ro extends La{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(Lr).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return Po(this.componentDef.inputs)}get outputs(){return Po(this.componentDef.outputs)}create(e,t,n,i){const r=(i=i||this.ngModule)?function(e,t){return{get:(n,i,r)=>{const s=e.get(n,jo,r);return s!==jo||i===jo?s:t.get(n,i,r)}}}(e,i.injector):e,s=r.get(qa,dt),a=r.get(Va,null),o=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=n?function(e,t,n){if(ut(e))return e.selectRootElement(t,n===ke.ShadowDom);let i="string"==typeof t?e.querySelector(t):t;return i.textContent="",i}(o,n,this.componentDef.encapsulation):nr(s.createRenderer(null,this.componentDef),l,function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(l)),h=this.componentDef.onPush?576:528,u={components:[],scheduler:Qi,clean:vs,playerHandler:null,flags:0},d=Kr(0,null,null,1,0,null,null,null,null,null),p=Vr(null,d,u,h,null,null,s,o,a,r);let g,m;Jt(p);try{const e=function(e,t,n,i,r,s){const a=n[1];n[20]=e;const o=Wr(a,20,2,"#host",null),l=o.mergedAttrs=t.hostAttrs;null!==l&&(Cs(o,l,!0),null!==e&&(on(r,e,l),null!==o.classes&&Tr(r,e,o.classes),null!==o.styles&&Sr(r,e,o.styles)));const c=i.createRenderer(e,t),h=Vr(n,Yr(t),null,t.onPush?64:16,n[20],o,i,c,null,null);return a.firstCreatePass&&(Tn(bn(o,n),a,t.type),rs(a,o),as(o,n.length,1)),gs(n,h),n[20]=h}(c,this.componentDef,p,s,o);if(c)if(n)on(o,c,["ng-version",za.full]);else{const{attrs:e,classes:t}=function(e){const t=[],n=[];let i=1,r=2;for(;i<e.length;){let s=e[i];if("string"==typeof s)2===r?""!==s&&t.push(s,e[++i]):8===r&&n.push(s);else{if(!Ar(r))break;r=s}i++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);e&&on(o,c,e),t&&t.length>0&&Tr(o,c,t.join(" "))}if(m=ft(d,$e),void 0!==t){const e=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const i=t[n];e.push(null!=i?Array.from(i):null)}}g=function(e,t,n,i,r){const s=n[1],a=function(e,t,n){const i=It();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),os(e,i,t,zr(e,t,1,null),n));const r=jn(t,e,i.directiveStart,i);zi(r,t);const s=mt(i,t);return s&&zi(s,t),r}(s,n,t);if(i.components.push(a),e[8]=a,r&&r.forEach(e=>e(a,t)),t.contentQueries){const e=It();t.contentQueries(1,a,e.directiveStart)}const o=It();return!s.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Xt(o.index),ns(n[1],o,0,o.directiveStart,o.directiveEnd,t),is(t,a)),a}(e,this.componentDef,p,u,[qs]),Qr(d,p,null)}finally{Gt()}return new No(this.componentType,g,Da(m,p),p,m)}}class No extends class{}{constructor(e,t,n,i,r){super(),this.location=n,this._rootLView=i,this._tNode=r,this.instance=t,this.hostView=this.changeDetectorRef=new co(i),this.componentType=e}get injector(){return new Ln(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const Mo=new Map;class Do extends So{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Oo(this);const n=Ge(e),i=e[Me]||null;i&&Pa(i),this._bootstrapComponents=Gi(n.bootstrap),this._r3Injector=Ls(e,t,[{provide:So,useValue:this},{provide:Na,useValue:this.componentFactoryResolver}],Z(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=Bs.THROW_IF_NOT_FOUND,n=ye.Default){return e===Bs||e===So||e===xs?this:this._r3Injector.get(e,t,n)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Fo extends To{constructor(e){super(),this.moduleType=e,null!==Ge(e)&&function(e){const t=new Set;!function e(n){const i=Ge(n,!0),r=i.id;null!==r&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${Z(t)} vs ${Z(t.name)}`)}(r,Mo.get(r),n),Mo.set(r,n));const s=Gi(i.imports);for(const a of s)t.has(a)||(t.add(a),e(a))}(e)}(e)}create(e){return new Do(this.moduleType,e)}}function Ho(e){return t=>{setTimeout(e,void 0,t)}}const Bo=class extends k{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){var i,r,s;let a=e,o=t||(()=>null),l=n;if(e&&"object"==typeof e){const t=e;a=null===(i=t.next)||void 0===i?void 0:i.bind(t),o=null===(r=t.error)||void 0===r?void 0:r.bind(t),l=null===(s=t.complete)||void 0===s?void 0:s.bind(t)}this.__isAsync&&(o=Ho(o),a&&(a=Ho(a)),l&&(l=Ho(l)));const c=super.subscribe({next:a,error:o,complete:l});return e instanceof u&&e.add(c),c}};function qo(){return this._results[Js()]()}class Uo{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Js(),n=Uo.prototype;n[t]||(n[t]=qo)}get changes(){return this._changes||(this._changes=new Bo)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const n=this;n.dirty=!1;const i=Bn(e);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],s=t[i];if(n&&(r=n(r),s=n(s)),s!==r)return!1}return!0}(n._results,i,t))&&(n._results=i,n.length=i.length,n.last=i[this.length-1],n.first=i[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Jo{constructor(e){this.queryList=e,this.matches=null}clone(){return new Jo(this.queryList)}setDirty(){this.queryList.setDirty()}}class Vo{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let e=0;e<n;e++){const n=t.getByIndex(e);i.push(this.queries[n.indexInDeclarationView].clone())}return new Vo(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Zo(e,t).matches&&this.queries[t].setDirty()}}class Wo{constructor(e,t,n=null){this.predicate=e,this.flags=t,this.read=n}}class zo{constructor(e=[]){this.queries=e}elementStart(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const i=null!==t?t.length:0,r=this.getByIndex(n).embeddedTView(e,i);r&&(r.indexInDeclarationView=n,null!==t?t.push(r):t=[r])}return null!==t?new zo(t):null}template(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Qo{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Qo(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let i=0;i<n.length;i++){const r=n[i];this.matchTNodeWithReadOption(e,t,Go(t,r)),this.matchTNodeWithReadOption(e,t,An(t,e,r,!1,!1))}else n===yo?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,An(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(null!==n){const i=this.metadata.read;if(null!==i)if(i===Ha||i===Co||i===yo&&4&t.type)this.addMatch(t.index,-2);else{const n=An(t,e,i,!1,!1);null!==n&&this.addMatch(t.index,n)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Go(e,t){const n=e.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1];return null}function $o(e,t,n,i){return-1===n?function(e,t){return 11&e.type?Da(e,t):4&e.type?wo(e,t):null}(t,e):-2===n?function(e,t,n){return n===Ha?Da(t,e):n===yo?wo(t,e):n===Co?Ao(t,e):void 0}(e,t,i):jn(e,e[1],n,t)}function Xo(e,t,n,i){const r=t[19].queries[i];if(null===r.matches){const i=e.data,s=n.matches,a=[];for(let e=0;e<s.length;e+=2){const r=s[e];a.push(r<0?null:$o(t,i[r],s[e+1],n.metadata.read))}r.matches=a}return r.matches}function Yo(e,t,n,i){const r=e.queries.getByIndex(n),s=r.matches;if(null!==s){const a=Xo(e,t,r,n);for(let e=0;e<s.length;e+=2){const n=s[e];if(n>0)i.push(a[e/2]);else{const r=s[e+1],a=t[-n];for(let e=Xe;e<a.length;e++){const t=a[e];t[17]===t[3]&&Yo(t[1],t,r,i)}if(null!==a[9]){const e=a[9];for(let t=0;t<e.length;t++){const n=e[t];Yo(n[1],n,r,i)}}}}}return i}function Ko(e){const t=_t(),n=Et(),i=Ht();Bt(i+1);const r=Zo(n,i);if(e.dirty&&vt(t)===(2==(2&r.metadata.flags))){if(null===r.matches)e.reset([]);else{const s=r.crossesNgTemplate?Yo(n,t,i,[]):Xo(n,t,r,i);e.reset(s,Ba),e.notifyOnChanges()}return!0}return!1}function Zo(e,t){return e.queries.getByIndex(t)}const el=new Dn("Application Initializer");let tl=(()=>{class e{constructor(e){this.appInits=e,this.resolve=Ma,this.reject=Ma,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();ea(t)&&e.push(t)}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(ti(el,8))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();const nl=new Dn("AppId"),il={provide:nl,useFactory:function(){return`${rl()}${rl()}${rl()}`},deps:[]};function rl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const sl=new Dn("Platform Initializer"),al=new Dn("Platform ID"),ol=new Dn("appBootstrapListener");let ll=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();const cl=new Dn("LocaleId"),hl=new Dn("DefaultCurrencyCode");class ul{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const dl=function(e){return new Fo(e)},pl=dl,gl=function(e){return Promise.resolve(dl(e))},ml=function(e){const t=dl(e),n=Gi(Ge(e).declarations).reduce((e,t)=>{const n=Qe(t);return n&&e.push(new Ro(n)),e},[]);return new ul(t,n)},fl=ml,yl=function(e){return Promise.resolve(ml(e))};let bl=(()=>{class e{constructor(){this.compileModuleSync=pl,this.compileModuleAsync=gl,this.compileModuleAndAllComponentsSync=fl,this.compileModuleAndAllComponentsAsync=yl}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();const vl=(()=>Promise.resolve(0))();function wl(e){"undefined"==typeof Zone?vl.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Sl{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Bo(!1),this.onMicrotaskEmpty=new Bo(!1),this.onStable=new Bo(!1),this.onError=new Bo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!n&&t,i.shouldCoalesceRunChangeDetection=n,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let e=Ie.requestAnimationFrame,t=Ie.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Ie,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Cl(e),kl(e)},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Cl(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,s,a,o)=>{try{return xl(e),n.invokeTask(r,s,a,o)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),_l(e)}},onInvoke:(n,i,r,s,a,o,l)=>{try{return xl(e),n.invoke(r,s,a,o,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),_l(e)}},onHasTask:(t,n,i,r)=>{t.hasTask(i,r),n===i&&("microTask"==r.change?(e._hasPendingMicrotasks=r.microTask,Cl(e),kl(e)):"macroTask"==r.change&&(e.hasPendingMacrotasks=r.macroTask))},onHandleError:(t,n,i,r)=>(t.handleError(i,r),e.runOutsideAngular(()=>e.onError.emit(r)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Sl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Sl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,i){const r=this._inner,s=r.scheduleEventTask("NgZoneEvent: "+i,e,Tl,Ma,Ma);try{return r.runTask(s,t,n)}finally{r.cancelTask(s)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}const Tl={};function kl(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Cl(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function xl(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function _l(e){e._nesting--,kl(e)}class El{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Bo,this.onMicrotaskEmpty=new Bo,this.onStable=new Bo,this.onError=new Bo}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,i){return e.apply(t,n)}}let Il=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Sl.assertNotInAngularZone(),wl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())wl(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let i=-1;t&&t>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==i),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}return e.\u0275fac=function(t){return new(t||e)(ti(Sl))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})(),Al=(()=>{class e{constructor(){this._applications=new Map,Pl.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return Pl.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();class jl{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}let Ol,Pl=new jl,Ll=!0,Rl=!1;const Nl=new Dn("AllowMultipleToken");class Ml{constructor(e,t){this.name=e,this.token=t}}function Dl(e,t,n=[]){const i=`Platform: ${t}`,r=new Dn(i);return(t=[])=>{let s=Fl();if(!s||s.injector.get(Nl,!1))if(e)e(n.concat(t).concat({provide:r,useValue:!0}));else{const e=n.concat(t).concat({provide:r,useValue:!0},{provide:Es,useValue:"platform"});!function(e){if(Ol&&!Ol.destroyed&&!Ol.injector.get(Nl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ol=e.get(Hl);const t=e.get(sl,null);t&&t.forEach(e=>e())}(Bs.create({providers:e,name:i}))}return function(e){const t=Fl();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(r)}}function Fl(){return Ol&&!Ol.destroyed?Ol:null}let Hl=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e,t){let n;return n="noop"===e?new El:("zone.js"===e?void 0:e)||new Sl({enableLongStackTrace:(Rl=!0,Ll),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(t?t.ngZone:void 0,{ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1}),i=[{provide:Sl,useValue:n}];return n.run(()=>{const t=Bs.create({providers:i,parent:this.injector,name:e.moduleType.name}),r=e.create(t),s=r.injector.get(Wi,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const e=n.onError.subscribe({next:e=>{s.handleError(e)}});r.onDestroy(()=>{Ul(this._modules,r),e.unsubscribe()})}),function(e,t,n){try{const i=n();return ea(i)?i.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}(s,n,()=>{const e=r.injector.get(tl);return e.runInitializers(),e.donePromise.then(()=>(Pa(r.injector.get(cl,ja)||ja),this._moduleDoBootstrap(r),r))})})}bootstrapModule(e,t=[]){const n=Bl({},t);return function(e,t,n){const i=new Fo(n);return Promise.resolve(i)}(0,0,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(ql);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${Z(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(ti(Bs))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();function Bl(e,t){return Array.isArray(t)?t.reduce(Bl,e):Object.assign(Object.assign({},e),t)}let ql=(()=>{class e{constructor(e,t,n,i,r){this._zone=e,this._injector=t,this._exceptionHandler=n,this._componentFactoryResolver=i,this._initStatus=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new b(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),a=new b(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{Sl.assertNotInAngularZone(),wl(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Sl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=function(...e){let t=Number.POSITIVE_INFINITY,n=null,i=e[e.length-1];return x(i)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof i&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof b?e[0]:J(t)(V(e,n))}(s,a.pipe(e=>{return W()((t=Y,function(e){let n;n="function"==typeof t?t:function(){return t};const i=Object.create(e,$);return i.source=e,i.subjectFactory=n,i})(e));var t}))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof La?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const i=n.isBoundToModule?void 0:this._injector.get(So),r=n.create(Bs.NULL,[],t||n.selector,i),s=r.location.nativeElement,a=r.injector.get(Il,null),o=a&&r.injector.get(Al);return a&&o&&o.registerApplication(s,a),r.onDestroy(()=>{this.detachView(r.hostView),Ul(this.components,r),o&&o.unregisterApplication(s)}),this._loadComponent(r),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;Ul(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(ol,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(ti(Sl),ti(Bs),ti(Wi),ti(Na),ti(tl))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();function Ul(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Jl{}class Vl{}const Wl={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let zl=(()=>{class e{constructor(e,t){this._compiler=e,this._config=t||Wl}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[t,i]=e.split("#");return void 0===i&&(i="default"),n("zn8P")(t).then(e=>e[i]).then(e=>Ql(e,t,i)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,i]=e.split("#"),r="NgFactory";return void 0===i&&(i="default",r=""),n("zn8P")(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[i+r]).then(e=>Ql(e,t,i))}}return e.\u0275fac=function(t){return new(t||e)(ti(bl),ti(Vl,8))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();function Ql(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}const Gl=Dl(null,"core",[{provide:al,useValue:"unknown"},{provide:Hl,deps:[Bs]},{provide:Al,deps:[]},{provide:ll,deps:[]}]),$l=[{provide:ql,useClass:ql,deps:[Sl,Bs,Wi,Na,tl]},{provide:Lo,deps:[Sl],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:tl,useClass:tl,deps:[[new si,el]]},{provide:bl,useClass:bl,deps:[]},il,{provide:ro,useFactory:function(){return go},deps:[]},{provide:ao,useFactory:function(){return mo},deps:[]},{provide:cl,useFactory:function(e){return Pa(e=e||"undefined"!=typeof $localize&&$localize.locale||ja),e},deps:[[new ri(cl),new si,new ai]]},{provide:hl,useValue:"USD"}];let Xl=(()=>{class e{constructor(e){}}return e.\u0275fac=function(t){return new(t||e)(ti(ql))},e.\u0275mod=Ve({type:e}),e.\u0275inj=ce({providers:$l}),e})(),Yl=null;function Kl(){return Yl}const Zl=new Dn("DocumentToken");let ec=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=le({factory:tc,token:e,providedIn:"platform"}),e})();function tc(){return ti(ic)}const nc=new Dn("Location Initialized");let ic=(()=>{class e extends ec{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=Kl().getLocation(),this._history=Kl().getHistory()}getBaseHrefFromDOM(){return Kl().getBaseHref(this._doc)}onPopState(e){Kl().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}onHashChange(e){Kl().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){rc()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){rc()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(ti(Zl))},e.\u0275prov=le({factory:sc,token:e,providedIn:"platform"}),e})();function rc(){return!!window.history.pushState}function sc(){return new ic(ti(Zl))}function ac(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function oc(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function lc(e){return e&&"?"!==e[0]?"?"+e:e}let cc=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=le({factory:hc,token:e,providedIn:"root"}),e})();function hc(e){const t=ti(Zl).location;return new dc(ti(ec),t&&t.origin||"")}const uc=new Dn("appBaseHref");let dc=(()=>{class e extends cc{constructor(e,t){if(super(),this._platformLocation=e,null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ac(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+lc(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,i){const r=this.prepareExternalUrl(n+lc(i));this._platformLocation.pushState(e,t,r)}replaceState(e,t,n,i){const r=this.prepareExternalUrl(n+lc(i));this._platformLocation.replaceState(e,t,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return e.\u0275fac=function(t){return new(t||e)(ti(ec),ti(uc,8))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})(),pc=(()=>{class e extends cc{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",null!=t&&(this._baseHref=t)}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=ac(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,i){let r=this.prepareExternalUrl(n+lc(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(e,t,r)}replaceState(e,t,n,i){let r=this.prepareExternalUrl(n+lc(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return e.\u0275fac=function(t){return new(t||e)(ti(ec),ti(uc,8))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})(),gc=(()=>{class e{constructor(e,t){this._subject=new Bo,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=oc(fc(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+lc(t))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,fc(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+lc(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+lc(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)}))}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}return e.\u0275fac=function(t){return new(t||e)(ti(cc),ti(ec))},e.normalizeQueryParams=lc,e.joinWithSlash=ac,e.stripTrailingSlash=oc,e.\u0275prov=le({factory:mc,token:e,providedIn:"root"}),e})();function mc(){return new gc(ti(cc),ti(ec))}function fc(e){return e.replace(/\/index.html$/,"")}var yc=function(e){return e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other",e}({});class bc{}let vc=(()=>{class e extends bc{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(function(e){return function(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=Ia(t);if(n)return n;const i=t.split("-")[0];if(n=Ia(i),n)return n;if("en"===i)return _a;throw new Error(`Missing locale data for the locale "${e}".`)}(e)[Aa.PluralCase]}(t||this.locale)(e)){case yc.Zero:return"zero";case yc.One:return"one";case yc.Two:return"two";case yc.Few:return"few";case yc.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(ti(cl))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})(),wc=(()=>{class e{constructor(e,t,n){this._ngEl=e,this._differs=t,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,t){const[n,i]=e.split(".");null!=(t=null!=t&&i?`${t}${i}`:t)?this._renderer.setStyle(this._ngEl.nativeElement,n,t):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(e){e.forEachRemovedItem(e=>this._setStyle(e.key,null)),e.forEachAddedItem(e=>this._setStyle(e.key,e.currentValue)),e.forEachChangedItem(e=>this._setStyle(e.key,e.currentValue))}}return e.\u0275fac=function(t){return new(t||e)(Gs(Ha),Gs(ao),Gs(Ua))},e.\u0275dir=ze({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),e})(),Sc=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ve({type:e}),e.\u0275inj=ce({providers:[{provide:bc,useClass:vc}]}),e})(),Tc=(()=>{class e{}return e.\u0275prov=le({token:e,providedIn:"root",factory:()=>new kc(ti(Zl),window)}),e})();class kc{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=n.currentNode;for(;i;){const e=i.shadowRoot;if(e){const n=e.getElementById(t)||e.querySelector(`[name="${t}"]`);if(n)return n}i=n.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Cc(this.window.history)||Cc(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Cc(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class xc extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var e;e=new xc,Yl||(Yl=e)}getProperty(e,t){return e[t]}log(e){window.console&&window.console.log&&window.console.log(e)}logGroup(e){window.console&&window.console.group&&window.console.group(e)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){return e.parentNode&&e.parentNode.removeChild(e),e}getValue(e){return e.value}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(e){const t=Ec||(Ec=document.querySelector("base"),Ec)?Ec.getAttribute("href"):null;return null==t?null:(n=t,_c||(_c=document.createElement("a")),_c.setAttribute("href",n),"/"===_c.pathname.charAt(0)?_c.pathname:"/"+_c.pathname);var n}resetBaseElement(){Ec=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(e){return function(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[i,r]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(i.trim()===t)return decodeURIComponent(r)}return null}(document.cookie,e)}}let _c,Ec=null;const Ic=new Dn("TRANSITION_ID"),Ac=[{provide:el,useFactory:function(e,t,n){return()=>{n.get(tl).donePromise.then(()=>{const n=Kl();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(t=>t.getAttribute("ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[Ic,Zl,Bs],multi:!0}];class jc{static init(){var e;e=new jc,Pl=e}addToWindow(e){Ie.getAngularTestability=(t,n=!0)=>{const i=e.findTestabilityInTree(t,n);if(null==i)throw new Error("Could not find testability for element.");return i},Ie.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ie.getAllAngularRootElements=()=>e.getAllRootElements(),Ie.frameworkStabilizers||(Ie.frameworkStabilizers=[]),Ie.frameworkStabilizers.push(e=>{const t=Ie.getAllAngularTestabilities();let n=t.length,i=!1;const r=function(t){i=i||t,n--,0==n&&e(i)};t.forEach(function(e){e.whenStable(r)})})}findTestabilityInTree(e,t,n){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:n?Kl().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}const Oc=new Dn("EventManagerPlugins");let Pc=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let i=0;i<n.length;i++){const t=n[i];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}return e.\u0275fac=function(t){return new(t||e)(ti(Oc),ti(Sl))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();class Lc{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const i=Kl().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,n)}}let Rc=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})(),Nc=(()=>{class e extends Rc{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,t,n){e.forEach(e=>{const i=this._doc.createElement("style");i.textContent=e,n.push(t.appendChild(i))})}addHost(e){const t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}removeHost(e){const t=this._hostNodes.get(e);t&&t.forEach(Mc),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((t,n)=>{this._addStylesToHost(e,n,t)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Mc))}}return e.\u0275fac=function(t){return new(t||e)(ti(Zl))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();function Mc(e){Kl().remove(e)}const Dc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Fc=/%COMP%/g;function Hc(e,t,n){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Hc(e,r,n):(r=r.replace(Fc,e),n.push(r))}return n}function Bc(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let qc=(()=>{class e{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Uc(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case ke.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new Jc(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case 1:case ke.ShadowDom:return new Vc(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=Hc(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(ti(Pc),ti(Nc),ti(nl))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();class Uc{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Dc[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,i){if(i){t=i+":"+t;const r=Dc[i];r?e.setAttributeNS(r,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const i=Dc[n];i?e.removeAttributeNS(i,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,i){i&($i.DashCase|$i.Important)?e.style.setProperty(t,n,i&$i.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&$i.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Bc(n)):this.eventManager.addEventListener(e,t,Bc(n))}}class Jc extends Uc{constructor(e,t,n,i){super(e),this.component=n;const r=Hc(i+"-"+n.id,n.styles,[]);t.addStyles(r),this.contentAttr="_ngcontent-%COMP%".replace(Fc,i+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Fc,i+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class Vc extends Uc{constructor(e,t,n,i){super(e),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const r=Hc(i.id,i.styles,[]);for(let s=0;s<r.length;s++){const e=document.createElement("style");e.textContent=r[s],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Wc=(()=>{class e extends Lc{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,n){return e.addEventListener(t,n,!1),()=>this.removeEventListener(e,t,n)}removeEventListener(e,t,n){return e.removeEventListener(t,n)}}return e.\u0275fac=function(t){return new(t||e)(ti(Zl))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();const zc=["alt","control","meta","shift"],Qc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Gc={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},$c={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let Xc=(()=>{class e extends Lc{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,i){const r=e.parseEventName(n),s=e.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Kl().onAndCancel(t,r.domEventName,s))}static parseEventName(t){const n=t.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;const r=e._normalizeKey(n.pop());let s="";if(zc.forEach(e=>{const t=n.indexOf(e);t>-1&&(n.splice(t,1),s+=e+".")}),s+=r,0!=n.length||0===r.length)return null;const a={};return a.domEventName=i,a.fullKey=s,a}static getEventFullKey(e){let t="",n=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&Gc.hasOwnProperty(t)&&(t=Gc[t]))}return Qc[t]||t}(e);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),zc.forEach(i=>{i!=n&&(0,$c[i])(e)&&(t+=i+".")}),t+=n,t}static eventCallback(t,n,i){return r=>{e.getEventFullKey(r)===t&&i.runGuarded(()=>n(r))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e.\u0275fac=function(t){return new(t||e)(ti(Zl))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})(),Yc=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=le({factory:function(){return ti(Kc)},token:e,providedIn:"root"}),e})(),Kc=(()=>{class e extends Yc{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case Bi.NONE:return t;case Bi.HTML:return fi(t,"HTML")?mi(t):function(e,t){let n=null;try{Fi=Fi||function(e){const t=new vi(e);return function(){try{return!!(new window.DOMParser).parseFromString(li(""),"text/html")}catch(e){return!1}}()?new bi(t):t}(e);let i=t?String(t):"";n=Fi.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=n.innerHTML,n=Fi.getInertBodyElement(i)}while(i!==s);return li((new Ri).sanitizeChildren(Hi(n)||n))}finally{if(n){const e=Hi(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}(this._doc,String(t)).toString();case Bi.STYLE:return fi(t,"Style")?mi(t):t;case Bi.SCRIPT:if(fi(t,"Script"))return mi(t);throw new Error("unsafe value used in a script context");case Bi.URL:return yi(t),fi(t,"URL")?mi(t):Ti(String(t));case Bi.RESOURCE_URL:if(fi(t,"ResourceURL"))return mi(t);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return new hi(e)}bypassSecurityTrustStyle(e){return new ui(e)}bypassSecurityTrustScript(e){return new di(e)}bypassSecurityTrustUrl(e){return new pi(e)}bypassSecurityTrustResourceUrl(e){return new gi(e)}}return e.\u0275fac=function(t){return new(t||e)(ti(Zl))},e.\u0275prov=le({factory:function(){return e=ti(xs),new Kc(e.get(Zl));var e},token:e,providedIn:"root"}),e})();const Zc=Dl(Gl,"browser",[{provide:al,useValue:"browser"},{provide:sl,useValue:function(){xc.makeCurrent(),jc.init()},multi:!0},{provide:Zl,useFactory:function(){return function(e){ht=e}(document),document},deps:[]}]),eh=[[],{provide:Es,useValue:"root"},{provide:Wi,useFactory:function(){return new Wi},deps:[]},{provide:Oc,useClass:Wc,multi:!0,deps:[Zl,Sl,al]},{provide:Oc,useClass:Xc,multi:!0,deps:[Zl]},[],{provide:qc,useClass:qc,deps:[Pc,Nc,nl]},{provide:qa,useExisting:qc},{provide:Rc,useExisting:Nc},{provide:Nc,useClass:Nc,deps:[Zl]},{provide:Il,useClass:Il,deps:[Sl]},{provide:Pc,useClass:Pc,deps:[Oc,Sl]},[]];let th=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:nl,useValue:t.appId},{provide:Ic,useExisting:nl},Ac]}}}return e.\u0275fac=function(t){return new(t||e)(ti(e,12))},e.\u0275mod=Ve({type:e}),e.\u0275inj=ce({providers:eh,imports:[Sc,Xl]}),e})();function nh(...e){let t=e[e.length-1];return x(t)?(e.pop(),N(e,t)):V(e)}"undefined"!=typeof window&&window;class ih extends k{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new w;return this._value}next(e){super.next(this._value=e)}}class rh extends g{notifyNext(e,t,n,i,r){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class sh extends g{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function ah(e,t,n,i,r=new sh(e,n,i)){if(!r.closed)return t instanceof b?t.subscribe(r):R(t)(r)}const oh={};class lh{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new ch(e,this.resultSelector))}}class ch extends rh{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(oh),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++)this.add(ah(this,e[n],void 0,n))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n){const i=this.values,r=this.toRespond?i[n]===oh?--this.toRespond:this.toRespond:0;i[n]=t,0===r&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}const hh=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})();function uh(...e){return J(1)(nh(...e))}const dh=new b(e=>e.complete());function ph(e){return e?function(e){return new b(t=>e.schedule(()=>t.complete()))}(e):dh}function gh(e){return new b(t=>{let n;try{n=e()}catch(i){return void t.error(i)}return(n?M(n):ph()).subscribe(t)})}function mh(e,t){return"function"==typeof t?n=>n.pipe(mh((n,i)=>M(e(n,i)).pipe(_((e,r)=>t(n,e,i,r))))):t=>t.lift(new fh(e))}class fh{constructor(e){this.project=e}call(e,t){return t.subscribe(new yh(e,this.project))}}class yh extends F{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(i){return void this.destination.error(i)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const n=new D(this),i=this.destination;i.add(n),this.innerSubscription=H(e,n),this.innerSubscription!==n&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const bh=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})();function vh(e){return t=>0===e?ph():t.lift(new wh(e))}class wh{constructor(e){if(this.total=e,this.total<0)throw new bh}call(e,t){return t.subscribe(new Sh(e,this.total))}}class Sh extends g{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}function Th(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new kh(e,t,n))}}class kh{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new Ch(e,this.accumulator,this.seed,this.hasSeed))}}class Ch extends g{constructor(e,t,n,i){super(e),this.accumulator=t,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(i){this.destination.error(i)}this.seed=n,this.destination.next(n)}}function xh(e,t){return function(n){return n.lift(new _h(e,t))}}class _h{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Eh(e,this.predicate,this.thisArg))}}class Eh extends g{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}function Ih(e){return function(t){const n=new Ah(e),i=t.lift(n);return n.caught=i}}class Ah{constructor(e){this.selector=e}call(e,t){return t.subscribe(new jh(e,this.selector,this.caught))}}class jh extends F{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const i=new D(this);this.add(i);const r=H(n,i);r!==i&&this.add(r)}}}function Oh(e,t){return B(e,t,1)}function Ph(e){return function(t){return 0===e?ph():t.lift(new Lh(e))}}class Lh{constructor(e){if(this.total=e,this.total<0)throw new bh}call(e,t){return t.subscribe(new Rh(e,this.total))}}class Rh extends g{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,i=this.count++;t.length<n?t.push(e):t[i%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,i=this.ring;for(let r=0;r<n;r++){const r=t++%n;e.next(i[r])}}e.complete()}}function Nh(e=Fh){return t=>t.lift(new Mh(e))}class Mh{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new Dh(e,this.errorFactory))}}class Dh extends g{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function Fh(){return new hh}function Hh(e=null){return t=>t.lift(new Bh(e))}class Bh{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new qh(e,this.defaultValue))}}class qh extends g{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Uh(e,t){const n=arguments.length>=2;return i=>i.pipe(e?xh((t,n)=>e(t,n,i)):y,vh(1),n?Hh(t):Nh(()=>new hh))}function Jh(){}function Vh(e,t,n){return function(i){return i.lift(new Wh(e,t,n))}}class Wh{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new zh(e,this.nextOrObserver,this.error,this.complete))}}class zh extends g{constructor(e,t,n,r){super(e),this._tapNext=Jh,this._tapError=Jh,this._tapComplete=Jh,this._tapError=n||Jh,this._tapComplete=r||Jh,i(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||Jh,this._tapError=t.error||Jh,this._tapComplete=t.complete||Jh)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}class Qh{constructor(e){this.callback=e}call(e,t){return t.subscribe(new Gh(e,this.callback))}}class Gh extends g{constructor(e,t){super(e),this.add(new u(t))}}class $h{constructor(e,t){this.id=e,this.url=t}}class Xh extends $h{constructor(e,t,n="imperative",i=null){super(e,t),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Yh extends $h{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Kh extends $h{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Zh extends $h{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class eu extends $h{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tu extends $h{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nu extends $h{constructor(e,t,n,i,r){super(e,t),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class iu extends $h{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ru extends $h{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class su{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class au{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ou{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lu{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cu{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hu{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uu{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const du="primary";class pu{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function gu(e){return new pu(e)}function mu(e){const t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function fu(e,t,n){const i=n.path.split("/");if(i.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||i.length<e.length))return null;const r={};for(let s=0;s<i.length;s++){const t=i[s],n=e[s];if(t.startsWith(":"))r[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function yu(e,t){const n=e?Object.keys(e):void 0,i=t?Object.keys(t):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!bu(e[r],t[r]))return!1;return!0}function bu(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),i=[...t].sort();return n.every((e,t)=>i[t]===e)}return e===t}function vu(e){return Array.prototype.concat.apply([],e)}function wu(e){return e.length>0?e[e.length-1]:null}function Su(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Tu(e){return(t=e)&&"function"==typeof t.subscribe?e:ea(e)?M(Promise.resolve(e)):nh(e);var t}function ku(e,t,n){return n?function(e,t){return yu(e,t)}(e.queryParams,t.queryParams)&&Cu(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>bu(e[n],t[n]))}(e.queryParams,t.queryParams)&&xu(e.root,t.root)}function Cu(e,t){if(!ju(e.segments,t.segments))return!1;if(e.numberOfChildren!==t.numberOfChildren)return!1;for(const n in t.children){if(!e.children[n])return!1;if(!Cu(e.children[n],t.children[n]))return!1}return!0}function xu(e,t){return _u(e,t,t.segments)}function _u(e,t,n){if(e.segments.length>n.length)return!!ju(e.segments.slice(0,n.length),n)&&!t.hasChildren();if(e.segments.length===n.length){if(!ju(e.segments,n))return!1;for(const n in t.children){if(!e.children[n])return!1;if(!xu(e.children[n],t.children[n]))return!1}return!0}{const i=n.slice(0,e.segments.length),r=n.slice(e.segments.length);return!!ju(e.segments,i)&&!!e.children.primary&&_u(e.children.primary,t,r)}}class Eu{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gu(this.queryParams)),this._queryParamMap}toString(){return Lu.serialize(this)}}class Iu{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Su(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ru(this)}}class Au{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=gu(this.parameters)),this._parameterMap}toString(){return qu(this)}}function ju(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}class Ou{}class Pu{parse(e){const t=new zu(e);return new Eu(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var t;return`/${Nu(e.root,!0)}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${Du(t)}=${Du(e)}`).join("&"):`${Du(t)}=${Du(n)}`});return t.length?`?${t.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const Lu=new Pu;function Ru(e){return e.segments.map(e=>qu(e)).join("/")}function Nu(e,t){if(!e.hasChildren())return Ru(e);if(t){const t=e.children.primary?Nu(e.children.primary,!1):"",n=[];return Su(e.children,(e,t)=>{t!==du&&n.push(`${t}:${Nu(e,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}{const t=function(e,t){let n=[];return Su(e.children,(e,i)=>{i===du&&(n=n.concat(t(e,i)))}),Su(e.children,(e,i)=>{i!==du&&(n=n.concat(t(e,i)))}),n}(e,(t,n)=>n===du?[Nu(e.children.primary,!1)]:[`${n}:${Nu(t,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${Ru(e)}/${t[0]}`:`${Ru(e)}/(${t.join("//")})`}}function Mu(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Du(e){return Mu(e).replace(/%3B/gi,";")}function Fu(e){return Mu(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Hu(e){return decodeURIComponent(e)}function Bu(e){return Hu(e.replace(/\+/g,"%20"))}function qu(e){return`${Fu(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${Fu(e)}=${Fu(t[e])}`).join("")}`;var t}const Uu=/^[^\/()?;=#]+/;function Ju(e){const t=e.match(Uu);return t?t[0]:""}const Vu=/^[^=?&#]+/,Wu=/^[^?&#]+/;class zu{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Iu([],{}):new Iu([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new Iu(e,t)),n}parseSegment(){const e=Ju(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Au(Hu(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Ju(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=Ju(this.remaining);e&&(n=e,this.capture(n))}e[Hu(t)]=Hu(n)}parseQueryParam(e){const t=function(e){const t=e.match(Vu);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(Wu);return t?t[0]:""}(this.remaining);e&&(n=e,this.capture(n))}const i=Bu(t),r=Bu(n);if(e.hasOwnProperty(i)){let t=e[i];Array.isArray(t)||(t=[t],e[i]=t),t.push(r)}else e[i]=r}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Ju(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let r;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):e&&(r=du);const s=this.parseChildren();t[r]=1===Object.keys(s).length?s.primary:new Iu([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Qu{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Gu(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=Gu(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=$u(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return $u(e,this._root).map(e=>e.value)}}function Gu(e,t){if(e===t.value)return t;for(const n of t.children){const t=Gu(e,n);if(t)return t}return null}function $u(e,t){if(e===t.value)return[t];for(const n of t.children){const i=$u(e,n);if(i.length)return i.unshift(t),i}return[]}class Xu{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Yu(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class Ku extends Qu{constructor(e,t){super(e),this.snapshot=t,rd(this,e)}toString(){return this.snapshot.toString()}}function Zu(e,t){const n=function(e,t){const n=new nd([],{},{},"",{},du,t,null,e.root,-1,{});return new id("",new Xu(n,[]))}(e,t),i=new ih([new Au("",{})]),r=new ih({}),s=new ih({}),a=new ih({}),o=new ih(""),l=new ed(i,r,a,o,s,du,t,n.root);return l.snapshot=n.root,new Ku(new Xu(l,[]),n)}class ed{constructor(e,t,n,i,r,s,a,o){this.url=e,this.params=t,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=s,this.component=a,this._futureSnapshot=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(_(e=>gu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(_(e=>gu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function td(e,t="emptyOnly"){const n=e.pathFromRoot;let i=0;if("always"!==t)for(i=n.length-1;i>=1;){const e=n[i],t=n[i-1];if(e.routeConfig&&""===e.routeConfig.path)i--;else{if(t.component)break;i--}}return function(e){return e.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(i))}class nd{constructor(e,t,n,i,r,s,a,o,l,c,h){this.url=e,this.params=t,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=s,this.component=a,this.routeConfig=o,this._urlSegment=l,this._lastPathIndex=c,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=gu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class id extends Qu{constructor(e,t){super(t),this.url=e,rd(this,t)}toString(){return sd(this._root)}}function rd(e,t){t.value._routerState=e,t.children.forEach(t=>rd(e,t))}function sd(e){const t=e.children.length>0?` { ${e.children.map(sd).join(", ")} } `:"";return`${e.value}${t}`}function ad(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,yu(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),yu(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!yu(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),yu(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function od(e,t){var n,i;return yu(e.params,t.params)&&ju(n=e.url,i=t.url)&&n.every((e,t)=>yu(e.parameters,i[t].parameters))&&!(!e.parent!=!t.parent)&&(!e.parent||od(e.parent,t.parent))}function ld(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=t.value;const r=function(e,t,n){return t.children.map(t=>{for(const i of n.children)if(e.shouldReuseRoute(t.value,i.value.snapshot))return ld(e,t,i);return ld(e,t)})}(e,t,n);return new Xu(i,r)}{if(e.shouldAttach(t.value)){const n=e.retrieve(t.value);if(null!==n){const e=n.route;return cd(t,e),e}}const n=new ed(new ih((i=t.value).url),new ih(i.params),new ih(i.queryParams),new ih(i.fragment),new ih(i.data),i.outlet,i.component,i),r=t.children.map(t=>ld(e,t));return new Xu(n,r)}var i}function cd(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(let n=0;n<e.children.length;++n)cd(e.children[n],t.children[n])}function hd(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function ud(e){return"object"==typeof e&&null!=e&&e.outlets}function dd(e,t,n,i,r){let s={};return i&&Su(i,(e,t)=>{s[t]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),new Eu(n.root===e?t:pd(n.root,e,t),s,r)}function pd(e,t,n){const i={};return Su(e.children,(e,r)=>{i[r]=e===t?n:pd(e,t,n)}),new Iu(e.segments,i)}class gd{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&hd(n[0]))throw new Error("Root segment cannot have matrix parameters");const i=n.find(ud);if(i&&i!==wu(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class md{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function fd(e,t,n){if(e||(e=new Iu([],{})),0===e.segments.length&&e.hasChildren())return yd(e,t,n);const i=function(e,t,n){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=n.length)return s;const t=e.segments[r],a=n[i];if(ud(a))break;const o=`${a}`,l=i<n.length-1?n[i+1]:null;if(r>0&&void 0===o)break;if(o&&l&&"object"==typeof l&&void 0===l.outlets){if(!Sd(o,l,t))return s;i+=2}else{if(!Sd(o,{},t))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){const t=new Iu(e.segments.slice(0,i.pathIndex),{});return t.children.primary=new Iu(e.segments.slice(i.pathIndex),e.children),yd(t,0,r)}return i.match&&0===r.length?new Iu(e.segments,{}):i.match&&!e.hasChildren()?bd(e,t,n):i.match?yd(e,0,r):bd(e,t,n)}function yd(e,t,n){if(0===n.length)return new Iu(e.segments,{});{const i=function(e){return ud(e[0])?e[0].outlets:{[du]:e}}(n),r={};return Su(i,(n,i)=>{"string"==typeof n&&(n=[n]),null!==n&&(r[i]=fd(e.children[i],t,n))}),Su(e.children,(e,t)=>{void 0===i[t]&&(r[t]=e)}),new Iu(e.segments,r)}}function bd(e,t,n){const i=e.segments.slice(0,t);let r=0;for(;r<n.length;){const s=n[r];if(ud(s)){const e=vd(s.outlets);return new Iu(i,e)}if(0===r&&hd(n[0])){i.push(new Au(e.segments[t].path,wd(n[0]))),r++;continue}const a=ud(s)?s.outlets.primary:`${s}`,o=r<n.length-1?n[r+1]:null;a&&o&&hd(o)?(i.push(new Au(a,wd(o))),r+=2):(i.push(new Au(a,{})),r++)}return new Iu(i,{})}function vd(e){const t={};return Su(e,(e,n)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[n]=bd(new Iu([],{}),0,e))}),t}function wd(e){const t={};return Su(e,(e,n)=>t[n]=`${e}`),t}function Sd(e,t,n){return e==n.path&&yu(t,n.parameters)}class Td{constructor(e,t,n,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=i}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),ad(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const i=Yu(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,i[t],n),delete i[t]}),Su(i,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const i=e.value,r=t?t.value:null;if(i===r)if(i.component){const r=n.getContext(i.outlet);r&&this.deactivateChildRoutes(e,t,r.children)}else this.deactivateChildRoutes(e,t,n);else r&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:i})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet),i=n&&e.value.component?n.children:t,r=Yu(e);for(const s of Object.keys(r))this.deactivateRouteAndItsChildren(r[s],i);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(e,t,n){const i=Yu(t);e.children.forEach(e=>{this.activateRoutes(e,i[e.value.outlet],n),this.forwardEvent(new hu(e.value.snapshot))}),e.children.length&&this.forwardEvent(new lu(e.value.snapshot))}activateRoutes(e,t,n){const i=e.value,r=t?t.value:null;if(ad(i),i===r)if(i.component){const r=n.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,r.children)}else this.activateChildRoutes(e,t,n);else if(i.component){const t=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const e=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),kd(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(i.snapshot),r=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=i,t.resolver=r,t.outlet&&t.outlet.activateWith(i,r),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function kd(e){ad(e.value),e.children.forEach(kd)}class Cd{constructor(e,t){this.routes=e,this.module=t}}function xd(e){return"function"==typeof e}function _d(e){return e instanceof Eu}const Ed=Symbol("INITIAL_VALUE");function Id(){return mh(e=>function(...e){let t,n;return x(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&l(e[0])&&(e=e[0]),V(e,n).lift(new lh(t))}(e.map(e=>e.pipe(vh(1),function(...e){const t=e[e.length-1];return x(t)?(e.pop(),n=>uh(e,n,t)):t=>uh(e,t)}(Ed)))).pipe(Th((e,t)=>{let n=!1;return t.reduce((e,i,r)=>{if(e!==Ed)return e;if(i===Ed&&(n=!0),!n){if(!1===i)return i;if(r===t.length-1||_d(i))return i}return e},e)},Ed),xh(e=>e!==Ed),_(e=>_d(e)?e:!0===e),vh(1)))}let Ad=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&Zs(0,"router-outlet")},directives:function(){return[Cp]},encapsulation:2}),e})();function jd(e,t=""){for(let n=0;n<e.length;n++){const i=e[n];Od(i,Pd(t,i))}}function Od(e,t){e.children&&jd(e.children,t)}function Pd(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function Ld(e){const t=e.children&&e.children.map(Ld),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==du&&(n.component=Ad),n}function Rd(e){return e.outlet||du}function Nd(e,t){const n=e.filter(e=>Rd(e)===t);return n.push(...e.filter(e=>Rd(e)!==t)),n}const Md={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Dd(e,t,n){var i;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},Md):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const r=(t.matcher||fu)(n,e,t);if(!r)return Object.assign({},Md);const s={};Su(r.posParams,(e,t)=>{s[t]=e.path});const a=r.consumed.length>0?Object.assign(Object.assign({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:a,positionalParamSegments:null!==(i=r.posParams)&&void 0!==i?i:{}}}function Fd(e,t,n,i,r="corrected"){if(n.length>0&&function(e,t,n){return n.some(n=>Hd(e,t,n)&&Rd(n)!==du)}(e,n,i)){const r=new Iu(t,function(e,t,n,i){const r={};r.primary=i,i._sourceSegment=e,i._segmentIndexShift=t.length;for(const s of n)if(""===s.path&&Rd(s)!==du){const n=new Iu([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,r[Rd(s)]=n}return r}(e,t,i,new Iu(n,e.children)));return r._sourceSegment=e,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>Hd(e,t,n))}(e,n,i)){const s=new Iu(e.segments,function(e,t,n,i,r,s){const a={};for(const o of i)if(Hd(e,n,o)&&!r[Rd(o)]){const n=new Iu([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===s?e.segments.length:t.length,a[Rd(o)]=n}return Object.assign(Object.assign({},r),a)}(e,t,n,i,e.children,r));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}const s=new Iu(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function Hd(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function Bd(e,t,n,i){return!!(Rd(e)===i||i!==du&&Hd(t,n,e))&&("**"===e.path||Dd(t,e,n).matched)}function qd(e,t,n){return 0===t.length&&!e.children[n]}class Ud{constructor(e){this.segmentGroup=e||null}}class Jd{constructor(e){this.urlTree=e}}function Vd(e){return new b(t=>t.error(new Ud(e)))}function Wd(e){return new b(t=>t.error(new Jd(e)))}function zd(e){return new b(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class Qd{constructor(e,t,n,i,r){this.configLoader=t,this.urlSerializer=n,this.urlTree=i,this.config=r,this.allowRedirects=!0,this.ngModule=e.get(So)}apply(){const e=Fd(this.urlTree.root,[],[],this.config).segmentGroup,t=new Iu(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,du).pipe(_(e=>this.createUrlTree(Gd(e),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ih(e=>{if(e instanceof Jd)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof Ud)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,du).pipe(_(t=>this.createUrlTree(Gd(t),e.queryParams,e.fragment))).pipe(Ih(e=>{if(e instanceof Ud)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const i=e.segments.length>0?new Iu([],{[du]:e}):e;return new Eu(i,t,n)}expandSegmentGroup(e,t,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(_(e=>new Iu([],e))):this.expandSegment(e,n,t,n.segments,i,!0)}expandChildren(e,t,n){const i=[];for(const r of Object.keys(n.children))"primary"===r?i.unshift(r):i.push(r);return M(i).pipe(Oh(i=>{const r=n.children[i],s=Nd(t,i);return this.expandSegmentGroup(e,s,r,i).pipe(_(e=>({segment:e,outlet:i})))}),Th((e,t)=>(e[t.outlet]=t.segment,e),{}),function(e,t){const n=arguments.length>=2;return i=>i.pipe(e?xh((t,n)=>e(t,n,i)):y,Ph(1),n?Hh(t):Nh(()=>new hh))}())}expandSegment(e,t,n,i,r,s){return M(n).pipe(Oh(a=>this.expandSegmentAgainstRoute(e,t,n,a,i,r,s).pipe(Ih(e=>{if(e instanceof Ud)return nh(null);throw e}))),Uh(e=>!!e),Ih((e,n)=>{if(e instanceof hh||"EmptyError"===e.name){if(qd(t,i,r))return nh(new Iu([],{}));throw new Ud(t)}throw e}))}expandSegmentAgainstRoute(e,t,n,i,r,s,a){return Bd(i,t,r,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,r,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,i,r,s):Vd(t):Vd(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,i,r,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,i,r,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,i){const r=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Wd(r):this.lineralizeSegments(n,r).pipe(B(n=>{const r=new Iu(n,{});return this.expandSegment(e,r,t,n,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,i,r,s){const{matched:a,consumedSegments:o,lastChild:l,positionalParamSegments:c}=Dd(t,i,r);if(!a)return Vd(t);const h=this.applyRedirectCommands(o,i.redirectTo,c);return i.redirectTo.startsWith("/")?Wd(h):this.lineralizeSegments(i,h).pipe(B(i=>this.expandSegment(e,t,n,i.concat(r.slice(l)),s,!1)))}matchSegmentAgainstRoute(e,t,n,i,r){if("**"===n.path)return n.loadChildren?(n._loadedConfig?nh(n._loadedConfig):this.configLoader.load(e.injector,n)).pipe(_(e=>(n._loadedConfig=e,new Iu(i,{})))):nh(new Iu(i,{}));const{matched:s,consumedSegments:a,lastChild:o}=Dd(t,n,i);if(!s)return Vd(t);const l=i.slice(o);return this.getChildConfig(e,n,i).pipe(B(e=>{const i=e.module,s=e.routes,{segmentGroup:o,slicedSegments:c}=Fd(t,a,l,s),h=new Iu(o.segments,o.children);if(0===c.length&&h.hasChildren())return this.expandChildren(i,s,h).pipe(_(e=>new Iu(a,e)));if(0===s.length&&0===c.length)return nh(new Iu(a,{}));const u=Rd(n)===r;return this.expandSegment(i,h,s,c,u?du:r,!0).pipe(_(e=>new Iu(a.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?nh(new Cd(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?nh(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe(B(n=>n?this.configLoader.load(e.injector,t).pipe(_(e=>(t._loadedConfig=e,e))):function(e){return new b(t=>t.error(mu(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):nh(new Cd([],e))}runCanLoadGuards(e,t,n){const i=t.canLoad;return i&&0!==i.length?nh(i.map(i=>{const r=e.get(i);let s;if(function(e){return e&&xd(e.canLoad)}(r))s=r.canLoad(t,n);else{if(!xd(r))throw new Error("Invalid CanLoad guard");s=r(t,n)}return Tu(s)})).pipe(Id(),Vh(e=>{if(!_d(e))return;const t=mu(`Redirecting to "${this.urlSerializer.serialize(e)}"`);throw t.url=e,t}),_(e=>!0===e)):nh(!0)}lineralizeSegments(e,t){let n=[],i=t.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return nh(n);if(i.numberOfChildren>1||!i.children.primary)return zd(e.redirectTo);i=i.children.primary}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,i){const r=this.createSegmentGroup(e,t.root,n,i);return new Eu(r,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return Su(e,(e,i)=>{if("string"==typeof e&&e.startsWith(":")){const r=e.substring(1);n[i]=t[r]}else n[i]=e}),n}createSegmentGroup(e,t,n,i){const r=this.createSegments(e,t.segments,n,i);let s={};return Su(t.children,(t,r)=>{s[r]=this.createSegmentGroup(e,t,n,i)}),new Iu(r,s)}createSegments(e,t,n,i){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,i):this.findOrReturn(t,n))}findPosParam(e,t,n){const i=n[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let n=0;for(const i of t){if(i.path===e.path)return t.splice(n),i;n++}return e}}function Gd(e){const t={};for(const n of Object.keys(e.children)){const i=Gd(e.children[n]);(i.segments.length>0||i.hasChildren())&&(t[n]=i)}return function(e){if(1===e.numberOfChildren&&e.children.primary){const t=e.children.primary;return new Iu(e.segments.concat(t.segments),t.children)}return e}(new Iu(e.segments,t))}class $d{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Xd{constructor(e,t){this.component=e,this.route=t}}function Yd(e,t,n){const i=e._root;return Zd(i,t?t._root:null,n,[i.value])}function Kd(e,t,n){const i=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:n).get(e)}function Zd(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Yu(t);return e.children.forEach(e=>{!function(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=t?t.value:null,o=n?n.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const l=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!ju(e.url,t.url);case"pathParamsOrQueryParamsChange":return!ju(e.url,t.url)||!yu(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!od(e,t)||!yu(e.queryParams,t.queryParams);case"paramsChange":default:return!od(e,t)}}(a,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new $d(i)):(s.data=a.data,s._resolvedData=a._resolvedData),Zd(e,t,s.component?o?o.children:null:n,i,r),l&&o&&o.outlet&&o.outlet.isActivated&&r.canDeactivateChecks.push(new Xd(o.outlet.component,a))}else a&&ep(t,o,r),r.canActivateChecks.push(new $d(i)),Zd(e,null,s.component?o?o.children:null:n,i,r)}(e,s[e.value.outlet],n,i.concat([e.value]),r),delete s[e.value.outlet]}),Su(s,(e,t)=>ep(e,n.getContext(t),r)),r}function ep(e,t,n){const i=Yu(e),r=e.value;Su(i,(e,i)=>{ep(e,r.component?t?t.children.getContext(i):null:t,n)}),n.canDeactivateChecks.push(new Xd(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class tp{}function np(e){return new b(t=>t.error(e))}class ip{constructor(e,t,n,i,r,s){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=s}recognize(){const e=Fd(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,du);if(null===t)return null;const n=new nd([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},du,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Xu(n,t),r=new id(this.url,i);return this.inheritParamsAndData(r._root),r}inheritParamsAndData(e){const t=e.value,n=td(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=[];for(const r of Object.keys(t.children)){const i=t.children[r],s=Nd(e,r),a=this.processSegmentGroup(s,i,r);if(null===a)return null;n.push(...a)}const i=sp(n);return i.sort((e,t)=>e.value.outlet===du?-1:t.value.outlet===du?1:e.value.outlet.localeCompare(t.value.outlet)),i}processSegment(e,t,n,i){for(const r of e){const e=this.processSegmentAgainstRoute(r,t,n,i);if(null!==e)return e}return qd(t,n,i)?[]:null}processSegmentAgainstRoute(e,t,n,i){if(e.redirectTo||!Bd(e,t,n,i))return null;let r,s=[],a=[];if("**"===e.path){const i=n.length>0?wu(n).parameters:{};r=new nd(n,i,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,lp(e),Rd(e),e.component,e,ap(t),op(t)+n.length,cp(e))}else{const i=Dd(t,e,n);if(!i.matched)return null;s=i.consumedSegments,a=n.slice(i.lastChild),r=new nd(s,i.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,lp(e),Rd(e),e.component,e,ap(t),op(t)+s.length,cp(e))}const o=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:l,slicedSegments:c}=Fd(t,s,a,o.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const e=this.processChildren(o,l);return null===e?null:[new Xu(r,e)]}if(0===o.length&&0===c.length)return[new Xu(r,[])];const h=Rd(e)===i,u=this.processSegment(o,l,c,h?du:i);return null===u?null:[new Xu(r,u)]}}function rp(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function sp(e){const t=[],n=new Set;for(const i of e){if(!rp(i)){t.push(i);continue}const e=t.find(e=>i.value.routeConfig===e.value.routeConfig);void 0!==e?(e.children.push(...i.children),n.add(e)):t.push(i)}for(const i of n){const e=sp(i.children);t.push(new Xu(i.value,e))}return t.filter(e=>!n.has(e))}function ap(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function op(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function lp(e){return e.data||{}}function cp(e){return e.resolve||{}}function hp(e){return mh(t=>{const n=e(t);return n?M(n).pipe(_(()=>t)):nh(t)})}class up extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const dp=new Dn("ROUTES");class pp{constructor(e,t,n,i){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const n=this.loadModuleFactory(t.loadChildren).pipe(_(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const i=n.create(e);return new Cd(vu(i.injector.get(dp,void 0,ye.Self|ye.Optional)).map(Ld),i)}),Ih(e=>{throw t._loader$=void 0,e}));return t._loader$=new G(n,()=>new k).pipe(W()),t._loader$}loadModuleFactory(e){return"string"==typeof e?M(this.loader.load(e)):Tu(e()).pipe(B(e=>e instanceof To?nh(e):M(this.compiler.compileModuleAsync(e))))}}class gp{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new mp,this.attachRef=null}}class mp{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new gp,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class fp{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function yp(e){throw e}function bp(e,t,n){return t.parse("/")}function vp(e,t){return nh(null)}let wp=(()=>{class e{constructor(e,t,n,i,r,s,a,o){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=i,this.config=o,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new k,this.errorHandler=yp,this.malformedUriErrorHandler=bp,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:vp,afterPreactivation:vp},this.urlHandlingStrategy=new fp,this.routeReuseStrategy=new up,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=r.get(So),this.console=r.get(ll);const l=r.get(Sl);this.isNgZoneEnabled=l instanceof Sl&&Sl.isInAngularZone(),this.resetConfig(o),this.currentUrlTree=new Eu(new Iu([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new pp(s,a,e=>this.triggerEvent(new su(e)),e=>this.triggerEvent(new au(e))),this.routerState=Zu(this.currentUrlTree,this.rootComponentType),this.transitions=new ih({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const t=this.events;return e.pipe(xh(e=>0!==e.id),_(e=>Object.assign(Object.assign({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),mh(e=>{let n=!1,i=!1;return nh(e).pipe(Vh(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),mh(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return nh(e).pipe(mh(e=>{const n=this.transitions.getValue();return t.next(new Xh(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?dh:Promise.resolve(e)}),(i=this.ngModule.injector,r=this.configLoader,s=this.urlSerializer,a=this.config,mh(e=>function(e,t,n,i,r){return new Qd(e,t,n,i,r).apply()}(i,r,s,e.extractedUrl,a).pipe(_(t=>Object.assign(Object.assign({},e),{urlAfterRedirects:t}))))),Vh(e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,t,n,i,r){return B(s=>function(e,t,n,i,r="emptyOnly",s="legacy"){try{const a=new ip(e,t,n,i,r,s).recognize();return null===a?np(new tp):nh(a)}catch(a){return np(a)}}(e,t,s.urlAfterRedirects,n(s.urlAfterRedirects),i,r).pipe(_(e=>Object.assign(Object.assign({},s),{targetSnapshot:e}))))}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),Vh(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects);const n=new eu(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));var i,r,s,a;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:i,source:r,restoredState:s,extras:a}=e,o=new Xh(n,this.serializeUrl(i),r,s);t.next(o);const l=Zu(i,this.rootComponentType).snapshot;return nh(Object.assign(Object.assign({},e),{targetSnapshot:l,urlAfterRedirects:i,extras:Object.assign(Object.assign({},a),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),dh}),hp(e=>{const{targetSnapshot:t,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:s,replaceUrl:a}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!a})}),Vh(e=>{const t=new tu(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),_(e=>Object.assign(Object.assign({},e),{guards:Yd(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return B(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:a}}=n;return 0===a.length&&0===s.length?nh(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,i){return M(e).pipe(B(e=>function(e,t,n,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?nh(s.map(s=>{const a=Kd(s,t,r);let o;if(function(e){return e&&xd(e.canDeactivate)}(a))o=Tu(a.canDeactivate(e,t,n,i));else{if(!xd(a))throw new Error("Invalid CanDeactivate guard");o=Tu(a(e,t,n,i))}return o.pipe(Uh())})).pipe(Id()):nh(!0)}(e.component,e.route,n,t,i)),Uh(e=>!0!==e,!0))}(a,i,r,e).pipe(B(n=>n&&"boolean"==typeof n?function(e,t,n,i){return M(t).pipe(Oh(t=>uh(function(e,t){return null!==e&&t&&t(new ou(e)),nh(!0)}(t.route.parent,i),function(e,t){return null!==e&&t&&t(new cu(e)),nh(!0)}(t.route,i),function(e,t,n){const i=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>gh(()=>nh(t.guards.map(r=>{const s=Kd(r,t.node,n);let a;if(function(e){return e&&xd(e.canActivateChild)}(s))a=Tu(s.canActivateChild(i,e));else{if(!xd(s))throw new Error("Invalid CanActivateChild guard");a=Tu(s(i,e))}return a.pipe(Uh())})).pipe(Id())));return nh(r).pipe(Id())}(e,t.path,n),function(e,t,n){const i=t.routeConfig?t.routeConfig.canActivate:null;return i&&0!==i.length?nh(i.map(i=>gh(()=>{const r=Kd(i,t,n);let s;if(function(e){return e&&xd(e.canActivate)}(r))s=Tu(r.canActivate(t,e));else{if(!xd(r))throw new Error("Invalid CanActivate guard");s=Tu(r(t,e))}return s.pipe(Uh())}))).pipe(Id()):nh(!0)}(e,t.route,n))),Uh(e=>!0!==e,!0))}(i,s,e,t):nh(n)),_(e=>Object.assign(Object.assign({},n),{guardsResult:e})))})}(this.ngModule.injector,e=>this.triggerEvent(e)),Vh(e=>{if(_d(e.guardsResult)){const t=mu(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}const t=new nu(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),xh(e=>{if(!e.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Kh(e.id,this.serializeUrl(e.extractedUrl),"");return t.next(n),e.resolve(!1),!1}return!0}),hp(e=>{if(e.guards.canActivateChecks.length)return nh(e).pipe(Vh(e=>{const t=new iu(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),mh(e=>{let n=!1;return nh(e).pipe((i=this.paramsInheritanceStrategy,r=this.ngModule.injector,B(e=>{const{targetSnapshot:t,guards:{canActivateChecks:n}}=e;if(!n.length)return nh(e);let s=0;return M(n).pipe(Oh(e=>function(e,t,n,i){return function(e,t,n,i){const r=Object.keys(e);if(0===r.length)return nh({});const s={};return M(r).pipe(B(r=>function(e,t,n,i){const r=Kd(e,t,i);return Tu(r.resolve?r.resolve(t,n):r(t,n))}(e[r],t,n,i).pipe(Vh(e=>{s[r]=e}))),Ph(1),B(()=>Object.keys(s).length===r.length?nh(s):dh))}(e._resolve,e,t,i).pipe(_(t=>(e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),td(e,n).resolve),null)))}(e.route,t,i,r)),Vh(()=>s++),Ph(1),B(t=>s===n.length?nh(e):dh))})),Vh({next:()=>n=!0,complete:()=>{if(!n){const n=new Kh(e.id,this.serializeUrl(e.extractedUrl),"At least one route resolver didn't emit any value.");t.next(n),e.resolve(!1)}}}));var i,r}),Vh(e=>{const t=new ru(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),hp(e=>{const{targetSnapshot:t,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:s,replaceUrl:a}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!a})}),_(e=>{const t=function(e,t,n){const i=ld(e,t._root,n?n._root:void 0);return new Ku(i,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),Vh(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),(s=this.rootContexts,a=this.routeReuseStrategy,o=e=>this.triggerEvent(e),_(e=>(new Td(a,e.targetRouterState,e.currentRouterState,o).activate(s),e))),Vh({next(){n=!0},complete(){n=!0}}),(r=()=>{if(!n&&!i){this.resetUrlToCurrentUrlTree();const n=new Kh(e.id,this.serializeUrl(e.extractedUrl),`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`);t.next(n),e.resolve(!1)}this.currentNavigation=null},e=>e.lift(new Qh(r))),Ih(n=>{if(i=!0,(r=n)&&r.ngNavigationCancelingError){const i=_d(n.url);i||(this.navigated=!0,this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));const r=new Kh(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(r),i?setTimeout(()=>{const t=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(t,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const i=new Zh(e.id,this.serializeUrl(e.extractedUrl),n);t.next(i);try{e.resolve(this.errorHandler(n))}catch(s){e.reject(s)}}var r;return dh}));var r,s,a,o}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const t=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,t)&&setTimeout(()=>{const{source:e,state:n,urlTree:i}=t,r={replaceUrl:!0};if(n){const e=Object.assign({},n);delete e.navigationId,0!==Object.keys(e).length&&(r.state=e)}this.scheduleNavigation(i,e,n,r)},0),this.lastLocationChangeInfo=t}))}extractLocationChangeInfoFromEvent(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,t){if(!e)return!0;const n=t.urlTree.toString()===e.urlTree.toString();return!(t.transitionId===e.transitionId&&n&&("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){jd(e),this.config=e.map(Ld),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,t={}){const{relativeTo:n,queryParams:i,fragment:r,queryParamsHandling:s,preserveFragment:a}=t,o=n||this.routerState.root,l=a?this.currentUrlTree.fragment:r;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=i||null}return null!==c&&(c=this.removeEmptyProps(c)),function(e,t,n,i,r){if(0===n.length)return dd(t.root,t.root,t,i,r);const s=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new gd(!0,0,e);let t=0,n=!1;const i=e.reduce((e,i,r)=>{if("object"==typeof i&&null!=i){if(i.outlets){const t={};return Su(i.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(i.segmentPath)return[...e,i.segmentPath]}return"string"!=typeof i?[...e,i]:0===r?(i.split("/").forEach((i,r)=>{0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?t++:""!=i&&e.push(i))}),e):[...e,i]},[]);return new gd(n,t,i)}(n);if(s.toRoot())return dd(t.root,new Iu([],{}),t,i,r);const a=function(e,t,n){if(e.isAbsolute)return new md(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){const e=n.snapshot._urlSegment;return new md(e,e===t.root,0)}const i=hd(e.commands[0])?0:1;return function(e,t,n){let i=e,r=t,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new md(i,!1,r-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,e.numberOfDoubleDots)}(s,t,e),o=a.processChildren?yd(a.segmentGroup,a.index,s.commands):fd(a.segmentGroup,a.index,s.commands);return dd(a.segmentGroup,o,t,i,r)}(o,this.currentUrlTree,e,c,l)}navigateByUrl(e,t={skipLocationChange:!1}){const n=_d(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){if(_d(e))return ku(this.currentUrlTree,e,t);const n=this.parseUrl(e);return ku(this.currentUrlTree,n,t)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const i=e[n];return null!=i&&(t[n]=i),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.events.next(new Yh(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,i,r){if(this.disposed)return Promise.resolve(!1);const s=this.getTransition(),a="imperative"!==t&&"imperative"===(null==s?void 0:s.source),o=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===e.toString();if(a&&o)return Promise.resolve(!0);let l,c,h;r?(l=r.resolve,c=r.reject,h=r.promise):h=new Promise((e,t)=>{l=e,c=t});const u=++this.navigationId;return this.setTransition({id:u,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:i,resolve:l,reject:c,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(e=>Promise.reject(e))}setBrowserUrl(e,t,n,i){const r=this.urlSerializer.serialize(e);i=i||{},this.location.isCurrentPathEqualTo(r)||t?this.location.replaceState(r,"",Object.assign(Object.assign({},i),{navigationId:n})):this.location.go(r,"",Object.assign(Object.assign({},i),{navigationId:n}))}resetStateAndUrl(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return e.\u0275fac=function(t){return new(t||e)(ti(Hn),ti(Ou),ti(mp),ti(gc),ti(Bs),ti(Jl),ti(bl),ti(void 0))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})(),Sp=(()=>{class e{constructor(e,t,n,i,r){this.router=e,this.route=t,this.commands=[],this.onChanges=new k,null==n&&i.setAttribute(r.nativeElement,"tabindex","0")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}onClick(){const e={skipLocationChange:kp(this.skipLocationChange),replaceUrl:kp(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:kp(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(Gs(wp),Gs(ed),Rn("tabindex"),Gs(Ua),Gs(Ha))},e.\u0275dir=ze({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&ta("click",function(){return t.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[st]}),e})(),Tp=(()=>{class e{constructor(e,t,n){this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.onChanges=new k,this.subscription=e.events.subscribe(e=>{e instanceof Yh&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,n,i,r){if(0!==e||t||n||i||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:kp(this.skipLocationChange),replaceUrl:kp(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:kp(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(Gs(wp),Gs(ed),Gs(cc))},e.\u0275dir=ze({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&ta("click",function(e){return t.onClick(e.button,e.ctrlKey,e.shiftKey,e.altKey,e.metaKey)}),2&e&&(Ca("href",t.href,qi),Qs("target",t.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[st]}),e})();function kp(e){return""===e||!!e}let Cp=(()=>{class e{constructor(e,t,n,i,r){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=r,this.activated=null,this._activatedRoute=null,this.activateEvents=new Bo,this.deactivateEvents=new Bo,this.name=i||du,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new xp(e,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(Gs(mp),Gs(Co),Gs(Na),Rn("name"),Gs(uo))},e.\u0275dir=ze({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class xp{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===ed?this.route:e===mp?this.childContexts:this.parent.get(e,t)}}class _p{}class Ep{preload(e,t){return nh(null)}}let Ip=(()=>{class e{constructor(e,t,n,i,r){this.router=e,this.injector=i,this.preloadingStrategy=r,this.loader=new pp(t,n,t=>e.triggerEvent(new su(t)),t=>e.triggerEvent(new au(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(xh(e=>e instanceof Yh),Oh(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(So);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const i of t)if(i.loadChildren&&!i.canLoad&&i._loadedConfig){const e=i._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else i.loadChildren&&!i.canLoad?n.push(this.preloadConfig(e,i)):i.children&&n.push(this.processRoutes(e,i.children));return M(n).pipe(J(),_(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>(t._loadedConfig?nh(t._loadedConfig):this.loader.load(e.injector,t)).pipe(B(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(ti(wp),ti(Jl),ti(bl),ti(Bs),ti(_p))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})(),Ap=(()=>{class e{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Xh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Yh&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof uu&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new uu(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(ti(wp),ti(Tc),ti(void 0))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();const jp=new Dn("ROUTER_CONFIGURATION"),Op=new Dn("ROUTER_FORROOT_GUARD"),Pp=[gc,{provide:Ou,useClass:Pu},{provide:wp,useFactory:function(e,t,n,i,r,s,a,o={},l,c){const h=new wp(null,e,t,n,i,r,s,vu(a));if(l&&(h.urlHandlingStrategy=l),c&&(h.routeReuseStrategy=c),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(o,h),o.enableTracing){const e=Kl();h.events.subscribe(t=>{e.logGroup(`Router Event: ${t.constructor.name}`),e.log(t.toString()),e.log(t),e.logGroupEnd()})}return h},deps:[Ou,mp,gc,Bs,Jl,bl,dp,jp,[class{},new si],[class{},new si]]},mp,{provide:ed,useFactory:function(e){return e.routerState.root},deps:[wp]},{provide:Jl,useClass:zl},Ip,Ep,class{preload(e,t){return t().pipe(Ih(()=>nh(null)))}},{provide:jp,useValue:{enableTracing:!1}}];function Lp(){return new Ml("Router",wp)}let Rp=(()=>{class e{constructor(e,t){}static forRoot(t,n){return{ngModule:e,providers:[Pp,Fp(t),{provide:Op,useFactory:Dp,deps:[[wp,new si,new ai]]},{provide:jp,useValue:n||{}},{provide:cc,useFactory:Mp,deps:[ec,[new ri(uc),new si],jp]},{provide:Ap,useFactory:Np,deps:[wp,Tc,jp]},{provide:_p,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Ep},{provide:Ml,multi:!0,useFactory:Lp},[Hp,{provide:el,multi:!0,useFactory:Bp,deps:[Hp]},{provide:Up,useFactory:qp,deps:[Hp]},{provide:ol,multi:!0,useExisting:Up}]]}}static forChild(t){return{ngModule:e,providers:[Fp(t)]}}}return e.\u0275fac=function(t){return new(t||e)(ti(Op,8),ti(wp,8))},e.\u0275mod=Ve({type:e}),e.\u0275inj=ce({}),e})();function Np(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new Ap(e,t,n)}function Mp(e,t,n={}){return n.useHash?new pc(e,t):new dc(e,t)}function Dp(e){return"guarded"}function Fp(e){return[{provide:Fn,multi:!0,useValue:e},{provide:dp,multi:!0,useValue:e}]}let Hp=(()=>{class e{constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new k}appInitializer(){return this.injector.get(nc,Promise.resolve(null)).then(()=>{let e=null;const t=new Promise(t=>e=t),n=this.injector.get(wp),i=this.injector.get(jp);return"disabled"===i.initialNavigation?(n.setUpLocationChangeListener(),e(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?nh(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()):e(!0),t})}bootstrapListener(e){const t=this.injector.get(jp),n=this.injector.get(Ip),i=this.injector.get(Ap),r=this.injector.get(wp),s=this.injector.get(ql);e===s.components[0]&&("enabledNonBlocking"!==t.initialNavigation&&void 0!==t.initialNavigation||r.initialNavigation(),n.setUpPreloading(),i.init(),r.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return e.\u0275fac=function(t){return new(t||e)(ti(Bs))},e.\u0275prov=le({token:e,factory:e.\u0275fac}),e})();function Bp(e){return e.appInitializer.bind(e)}function qp(e){return e.bootstrapListener.bind(e)}const Up=new Dn("Router Initializer");let Jp=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-angularbinding"]],decls:11,vars:0,consts:[["href","https://github.com/jfspps/AngularDataBinding","target","_blank"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Angular binding"),Ks(),Ys(2,"p"),Sa(3," This project explains how to utlitise Angular binding methods between components. The key relationship is that between a parent component and a child component. While relationships are established between immediate 'family members', data-binding can be chained between 'grandparents' and 'grandchildren' if required. This approach is fine for simple bindings but is generally simplified for larger projects with the use of Angular services (demonstrated elsewhere).\n"),Ks(),Ys(4,"p"),Sa(5," Property binding with [property] and its decorators @Input and @Output are demonstrated. Event binding is covered by using (event). The decorators @ViewChild and @ContentChild are also briefy explored.\n"),Ks(),Ys(6,"p"),Sa(7," The GitHub repo is "),Ys(8,"a",0),Sa(9,"here"),Ks(),Sa(10,".\n"),Ks())},styles:[""]}),e})(),Vp=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-angulardbpage"]],decls:25,vars:0,consts:[[1,"row"],[1,"col-3"],["src","assets/images/icons8-angularjs.svg"],[1,"list-group"],["type","button","routerLink","firstDemo",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-warning"],["type","button","routerLink","binding",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-warning"],["type","button","routerLink","directives",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-warning"],["type","button","routerLink","services",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-warning"],["type","button","routerLink","routing",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-warning"],["src","assets/images/database.svg"],["type","button","routerLink","SQL",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-secondary"],[1,"col-9"]],template:function(e,t){1&e&&(Ys(0,"div",0),Ys(1,"div",1),Ys(2,"h4"),Zs(3,"img",2),Sa(4," Angular"),Ks(),Ys(5,"div",3),Ys(6,"button",4),Sa(7,"First demo"),Ks(),Ys(8,"button",5),Sa(9,"Data-binding"),Ks(),Ys(10,"button",6),Sa(11,"Directives"),Ks(),Ys(12,"button",7),Sa(13,"Services"),Ks(),Ys(14,"button",8),Sa(15,"Routing"),Ks(),Ks(),Zs(16,"hr"),Ys(17,"h4"),Zs(18,"img",9),Sa(19," Databases"),Ks(),Ys(20,"div",3),Ys(21,"button",10),Sa(22,"MySQL notes"),Ks(),Ks(),Ks(),Ys(23,"div",11),Zs(24,"router-outlet"),Ks(),Ks())},directives:[Sp,Cp],styles:[""]}),e})(),Wp=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-angulardemo"]],decls:15,vars:0,consts:[["href","https://github.com/jfspps/angularDemo/blob/main/Instructions.md","target","_blank"],["href","https://github.com/jfspps/angularDemo/blob/main/Angular.md","target","_blank"],["href","https://github.com/jfspps/angularDemo","target","_blank"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Angular first demo"),Ks(),Ys(2,"p"),Sa(3," This is my first Angular demo project, showing how components (modules) are related. It also shows how to "),Ys(4,"a",0),Sa(5,"set up new Angular projects"),Ks(),Sa(6," (relevant to the course) and "),Ys(7,"a",1),Sa(8,"how Angular projects are loaded"),Ks(),Sa(9,".\n"),Ks(),Ys(10,"p"),Sa(11," The GitHub repo is "),Ys(12,"a",2),Sa(13,"here"),Ks(),Sa(14,".\n"),Ks())},styles:[""]}),e})(),zp=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-angulardirectives"]],decls:9,vars:0,consts:[["href","https://github.com/jfspps/AngularDirectives","target","_blank"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Angular directives"),Ks(),Ys(2,"p"),Sa(3," This project highlights a number of inbuilt Angular directives, such as NgClass, NgStyle, NgIf, NgFor and NgSwitch, and how to build custom directives (e.g. changing HTML element attributes). Official events handled with @HostListener or DOM properties passed to a component with @HostBinding are also demonstrated.\n"),Ks(),Ys(4,"p"),Sa(5," The GitHub repo is "),Ys(6,"a",0),Sa(7,"here"),Ks(),Sa(8,".\n"),Ks())},styles:[""]}),e})(),Qp=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-angularrouting"]],decls:24,vars:0,consts:[["href","https://github.com/jfspps/AngularRouting","target","_blank"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Angular routing"),Ks(),Ys(2,"p"),Sa(3," This project shows how one implements routing in an Angular app, along with some background to absolute and relative paths in Angular. Aspects covered include: "),Ks(),Ys(4,"ul"),Ys(5,"li"),Sa(6,"routerLinks"),Ks(),Ys(7,"li"),Sa(8,"router-outlets (tags)"),Ks(),Ys(9,"li"),Sa(10,'how to build "/" type routes with routerLinkActiveOptions'),Ks(),Ys(11,"li"),Sa(12,"navigating Angular apps with javascript listeners"),Ks(),Ys(13,"li"),Sa(14,"passing route parameters (user's database ID, for example)"),Ks(),Ys(15,"li"),Sa(16,"refreshing all related components (with subscribe()) by monitoring the URL"),Ks(),Ys(17,"li"),Sa(18,"a brief demo of (faked) authentication with CanActivate and CanDeactivate"),Ks(),Ks(),Ys(19,"p"),Sa(20," The GitHub repo is "),Ys(21,"a",0),Sa(22,"here"),Ks(),Sa(23,".\n"),Ks())},styles:[""]}),e})(),Gp=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-angularservices"]],decls:9,vars:0,consts:[["href","https://github.com/jfspps/AngularServicesDemo","target","_blank"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Angular services"),Ks(),Ys(2,"p"),Sa(3," Services are an alternative way of sharing data between components. They are visible only to the component it is injected into along with their child components.\n"),Ks(),Ys(4,"p"),Sa(5," The GitHub repo is "),Ys(6,"a",0),Sa(7,"here"),Ks(),Sa(8,".\n"),Ks())},styles:[""]}),e})(),$p=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-sqlnotes"]],decls:64,vars:0,consts:[["routerLink","/dockerPage/dockerSQL"],["href","https://www.javahelps.com/2019/08/install-mysql-8-on-ubuntulinux-mint.html"],["href","https://medium.com/@shivraj.jadhav82/mysql-setup-on-linux-mint-948470115d5"],["href","https://stackoverflow.com/questions/52111129/mysql-workbench-not-opening-on-ubuntu"],[1,"commands"],["href","https://linuxize.com/post/how-to-create-mysql-user-accounts-and-grant-privileges/","target","_blank"],["href","https://jfspps.github.io/MySQL-notes","target","_blank"],["href","https://github.com/jfspps/MySQL-notes","target","_blank"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Installing MySQL and MySQL workbench"),Ks(),Ys(2,"p"),Sa(3," For details relating to Docker and MySQL, go "),Ys(4,"a",0),Sa(5,"here"),Ks(),Sa(6,".\n"),Ks(),Ys(7,"p"),Sa(8," To install MySQL server, go "),Ys(9,"a",1),Sa(10,"here"),Ks(),Sa(11," (Linux Mint 20 is based on Ubuntu Focal Fossa). Then go "),Ys(12,"a",2),Sa(13,"here"),Ks(),Sa(14," for MySQL workbench (community). The following "),Ys(15,"a",3),Sa(16,"link"),Ks(),Sa(17," may prove useful thereafter.\n"),Ks(),Ys(18,"h5"),Sa(19,"Adding users"),Ks(),Ys(20,"p"),Sa(21," Running MysQL workbench from the console, as "),Ys(22,"span",4),Sa(23,"$ mysql-workbench"),Ks(),Sa(24," will return more debug info, as opposed to running from the GUI.\n"),Ks(),Ys(25,"p"),Sa(26," Users are stored in mysql.user, with "),Ys(27,"span",4),Sa(28,"SELECT host, user FROM mysql.user;"),Ks(),Sa(29,". The user table contains many more columns, if desired.\n"),Ks(),Ys(30,"p"),Sa(31," To check for password requirements, enter "),Ys(32,"span",4),Sa(33,"SHOW VARIABLES LIKE 'validate_password%';"),Ks(),Sa(34,". Change the password policy with "),Ys(35,"span",4),Sa(36,"SET GLOBAL validate_password.policy=LOW;"),Ks(),Sa(37,", for example.\n"),Ks(),Ys(38,"p"),Sa(39," To add new users, follow "),Ys(40,"a",5),Sa(41,"this"),Ks(),Sa(42,". The key commands are:\n"),Ks(),Ys(43,"ul"),Ys(44,"li"),Ys(45,"span",4),Sa(46,"CREATE USER 'userName'@'localhost' IDENTIFIED BY 'userPassword';"),Ks(),Sa(47,", substituting the relevant fields. This assigns the user to the localhost only. To assign to any host, substitute 'localhost' for '%'. "),Ks(),Ys(48,"li"),Sa(49," To grant a user with all privileges on all databases, use "),Ys(50,"span",4),Sa(51,"GRANT ALL PRIVILEGES ON *.* TO 'userName'@'localhost';"),Ks(),Ks(),Ks(),Ys(52,"h5"),Sa(53,"MySQL notes"),Ks(),Ys(54,"p"),Sa(55," These are my course notes on MySQL database methods. The GitHub Pages landing page is "),Ys(56,"a",6),Sa(57,"here"),Ks(),Sa(58,".\n"),Ks(),Ys(59,"p"),Sa(60," The GitHub repo is "),Ys(61,"a",7),Sa(62,"here"),Ks(),Sa(63,".\n"),Ks())},directives:[Tp],styles:[".commands[_ngcontent-%COMP%]{color:#008b8b;padding:2px}"]}),e})(),Xp=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-adtalgorithmspage"]],decls:12,vars:0,consts:[["href","https://jfspps.github.io/Data-Structures-and-Algorithms","target","_blank"],["href","https://github.com/jfspps/Data-Structures-and-Algorithms","target","_blank"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"ADTs and Algorithms in C/C++"),Ks(),Ys(2,"p"),Sa(3," My notes from an abstract data structures and algorithms course in C and C++. The GitHub pages landing page is "),Ys(4,"a",0),Sa(5,"here"),Ks(),Sa(6,".\n"),Ks(),Ys(7,"p"),Sa(8," The GitHub repo is "),Ys(9,"a",1),Sa(10,"here"),Ks(),Sa(11,".\n"),Ks())},styles:[""]}),e})(),Yp=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-bashslide"]],decls:9,vars:0,consts:[["href","https://github.com/jfspps/BashSlide","target","_blank"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"BashSlide"),Ks(),Ys(2,"p"),Sa(3," This command line utility presents a set of instructions showing how to use Bash commands. The output is drawn from text files, where the user is free to edit the text and subsequently the output shown at the prompt.\n"),Ks(),Ys(4,"p"),Sa(5," The GitHub repo is "),Ys(6,"a",0),Sa(7,"here"),Ks(),Sa(8,".\n"),Ks())},styles:[""]}),e})(),Kp=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-computationspage"]],decls:9,vars:0,consts:[["href","https://github.com/jfspps/Programming-for-computations-Python","target","_blank"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Programming for Computations"),Ks(),Ys(2,"p"),Sa(3," My notes following a book with the same title.\n"),Ks(),Ys(4,"p"),Sa(5," The GitHub repo is "),Ys(6,"a",0),Sa(7,"here"),Ks(),Sa(8,".\n"),Ks())},styles:[""]}),e})(),Zp=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-cpythonpage"]],decls:19,vars:0,consts:[[1,"row"],[1,"col-3"],["src","assets/images/icons8-c++.svg"],[1,"list-group"],["type","button","routerLink","algorithmsInC",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-info"],["type","button","routerLink","bashSlide",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-info"],["src","assets/images/icons8-python.svg"],["type","button","routerLink","computations",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-success"],[1,"col-9"]],template:function(e,t){1&e&&(Ys(0,"div",0),Ys(1,"div",1),Ys(2,"h4"),Zs(3,"img",2),Sa(4," C/C++"),Ks(),Ys(5,"div",3),Ys(6,"button",4),Sa(7,"Data structures and algorithms"),Ks(),Ys(8,"button",5),Sa(9,"BashSlide"),Ks(),Ks(),Zs(10,"hr"),Ys(11,"h4"),Zs(12,"img",6),Sa(13," Python"),Ks(),Ys(14,"div",3),Ys(15,"button",7),Sa(16,"Programming for computations"),Ks(),Ks(),Ks(),Ys(17,"div",8),Zs(18,"router-outlet"),Ks(),Ks())},directives:[Sp,Cp],styles:[""]}),e})(),eg=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-home"]],decls:7,vars:0,consts:[["href","https://github.com/jfspps/howtos","target","_blank"]],template:function(e,t){1&e&&(Ys(0,"p"),Sa(1," HowTos is an Angular application which lists a number of projects that I have written while following along online tutorials. The main purpose is to index each project for future reference, either from the point of view as a starting template or a demonstration of some feature. In addition to the tutorial projects are my notes on various programming topics which I also refer to.\n"),Ks(),Ys(2,"p"),Sa(3," The GitHub repo for HowTos is "),Ys(4,"a",0),Sa(5,"here"),Ks(),Sa(6,".\n"),Ks())},styles:[""]}),e})(),tg=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-androidbuttonpage"]],decls:9,vars:0,consts:[["href","https://github.com/jfspps/AndroidButtonApp","target","_blank"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Android button app"),Ks(),Ys(2,"p"),Sa(3," A simple demo showing how to handle onClick() events and listeners. This demo also enables the state of the program to be saved whenever the user, for example, changes the orientation of the screen.\n"),Ks(),Ys(4,"p"),Sa(5," The GitHub repo is "),Ys(6,"a",0),Sa(7,"here"),Ks(),Sa(8,".\n"),Ks())},styles:[""]}),e})(),ng=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-androidcalculatorpage"]],decls:9,vars:0,consts:[["href","https://github.com/jfspps/AndroidCalculator","target","_blank"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Android Calculator app"),Ks(),Ys(2,"p"),Sa(3," A simple calculator app. In this example, separate portrait and landscape layouts are prepared along with application of fundamental arithmetic operations.\n"),Ks(),Ys(4,"p"),Sa(5," The GitHub repo is "),Ys(6,"a",0),Sa(7,"here"),Ks(),Sa(8,".\n"),Ks())},styles:[""]}),e})(),ig=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-androidcontentproviderspage"]],decls:9,vars:0,consts:[["href","https://github.com/jfspps/AndroidContentProviderDemo","target","_blank"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Android content providers demo"),Ks(),Ys(2,"p"),Sa(3," Android content providers control how data applications access data stored by the current application as well as other applications installed. These classes also handle the permissions required. This particular demo shows how to extract Phone contacts and display them in a TextView.\n"),Ks(),Ys(4,"p"),Sa(5," The GitHub repo is "),Ys(6,"a",0),Sa(7,"here"),Ks(),Sa(8,".\n"),Ks())},styles:[""]}),e})(),rg=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-androidflickrpage"]],decls:26,vars:0,consts:[["href","https://github.com/jfspps/AndroidFlickrBrowser","target","_blank"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Android Flickr browser"),Ks(),Ys(2,"p"),Sa(3," This app downloads from the Flickr feed https://www.flickr.com/services/feeds/photos_public.gne?format=json&nojsoncallback=1&lang=zh-hk. It downloads the image and extracts the metadata from a JSON list.\n"),Ks(),Ys(4,"p"),Sa(5," This program highlights the Android lifecycle and the use of callbacks at each stage. In addition, the UI and business logic run on different threads, introducing the ASyncTask class. Other Android features covered include:\n"),Ks(),Ys(6,"ul"),Ys(7,"li"),Sa(8,"RecyclerViews"),Ks(),Ys(9,"li"),Sa(10,"image ViewHolder"),Ks(),Ys(11,"li"),Sa(12,"GestureDetectors to manage user interaction"),Ks(),Ys(13,"li"),Sa(14,"Toolbars"),Ks(),Ys(15,"li"),Sa(16,"Text search facilities and SearchManager"),Ks(),Ys(17,"li"),Sa(18,"SharedPreferences compared to Bundles"),Ks(),Ys(19,"li"),Sa(20,"Implementing 'not found' type responses to search requests"),Ks(),Ks(),Ys(21,"p"),Sa(22," The GitHub repo is "),Ys(23,"a",0),Sa(24,"here"),Ks(),Sa(25,".\n"),Ks())},styles:[""]}),e})(),sg=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-androidrssreaderpage"]],decls:9,vars:0,consts:[["href","https://github.com/jfspps/AndroidRSSReader","target","_blank"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Android RSS reader"),Ks(),Ys(2,"p"),Sa(3," This app downloads RSS feeds as XML files and therefore introduces the XMLPullParser class. Resources are managed by an Adapter class before being sent to the view. A ViewHolder class is utilised to store processed views and avoid the need to query again (important for users with capped data subscriptions). Download frequency and screen rotations are also handled to minimise user costs.\n"),Ks(),Ys(4,"p"),Sa(5," The GitHub repo is "),Ys(6,"a",0),Sa(7,"here"),Ks(),Sa(8,".\n"),Ks())},styles:[""]}),e})(),ag=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-androidtasktimerpage"]],decls:23,vars:0,consts:[["href","https://github.com/jfspps/SQLiteAndroidDemo","target","_blank"],["href","https://github.com/jfspps/AndroidTaskTimer","target","_blank"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Android task timer"),Ks(),Ys(2,"p"),Sa(3," This app stores user tasks and logs times and dates, and process task duration. This project introduces the use of SQLite3 (a simpler demo is given "),Ys(4,"a",0),Sa(5,"here"),Ks(),Sa(6,"). A number of new features are explored:\n"),Ks(),Ys(7,"ul"),Ys(8,"li"),Sa(9,"Database entity column names"),Ks(),Ys(10,"li"),Sa(11,"Building a single instance (singleton) of the database"),Ks(),Ys(12,"li"),Sa(13,"Provisional handling of database versions"),Ks(),Ys(14,"li"),Sa(15,"Implementation of a custom AppProvider class that extends Android's ContentProvider class for database processing"),Ks(),Ks(),Ys(16,"p"),Sa(17," This demo is still in development.\n"),Ks(),Ys(18,"p"),Sa(19," The GitHub repo is "),Ys(20,"a",1),Sa(21,"here"),Ks(),Sa(22,".\n"),Ks())},styles:[""]}),e})(),og=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-androidyoutubepage"]],decls:9,vars:0,consts:[["href","https://github.com/jfspps/AndroidYouTubeApp","target","_blank"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Android YouTube app"),Ks(),Ys(2,"p"),Sa(3," This app loads a YouTube video and playlist (Spitting Image). This demo shows how Google API keys are needed to utilise the YouTubePlayer library (along with the functions it provides). In addition, onInitializationSuccess() and onInitializeFailure() as well as Intent (a description of an operation about to be performed) code is set out. The option to play the video in-app or as a standalone app is provided.\n"),Ks(),Ys(4,"p"),Sa(5," The GitHub repo is "),Ys(6,"a",0),Sa(7,"here"),Ks(),Sa(8,".\n"),Ks())},styles:[""]}),e})(),lg=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-javaclientserverpage"]],decls:12,vars:0,consts:[["href","https://github.com/jfspps/ServerDemo","target","_blank"],["href","https://github.com/jfspps/ClientDemo","target","_blank"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Java Client and Server demo"),Ks(),Ys(2,"p"),Sa(3," This demo serves as an introduction to low-level and high-level networking APIs provided by Java SE. This includes TCP and UDP connections for the former, and, URI and URL connections for the latter.\n"),Ks(),Ys(4,"p"),Sa(5," The GitHub repo for the server side app is "),Ys(6,"a",0),Sa(7,"here"),Ks(),Sa(8," and the repo for the client side app is "),Ys(9,"a",1),Sa(10,"here"),Ks(),Sa(11,".\n"),Ks())},styles:[""]}),e})();function cg(e,t){return new b(t?n=>t.schedule(hg,0,{error:e,subscriber:n}):t=>t.error(e))}function hg({error:e,subscriber:t}){t.error(e)}function ug(...e){const t=e[e.length-1];return"function"==typeof t&&e.pop(),V(e,void 0).lift(new dg(t))}class dg{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new pg(e,this.resultSelector))}}class pg extends g{constructor(e,t,n=Object.create(null)){super(e),this.resultSelector=t,this.iterators=[],this.active=0,this.resultSelector="function"==typeof t?t:void 0}_next(e){const t=this.iterators;l(e)?t.push(new mg(e)):t.push("function"==typeof e[O]?new gg(e[O]()):new fg(this.destination,this,e))}_complete(){const e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(let n=0;n<t;n++){let t=e[n];t.stillUnsubscribed?this.destination.add(t.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const e=this.iterators,t=e.length,n=this.destination;for(let s=0;s<t;s++){let t=e[s];if("function"==typeof t.hasValue&&!t.hasValue())return}let i=!1;const r=[];for(let s=0;s<t;s++){let t=e[s],a=t.next();if(t.hasCompleted()&&(i=!0),a.done)return void n.complete();r.push(a.value)}this.resultSelector?this._tryresultSelector(r):n.next(r),i&&n.complete()}_tryresultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}class gg{constructor(e){this.iterator=e,this.nextResult=e.next()}hasValue(){return!0}next(){const e=this.nextResult;return this.nextResult=this.iterator.next(),e}hasCompleted(){const e=this.nextResult;return Boolean(e&&e.done)}}class mg{constructor(e){this.array=e,this.index=0,this.length=0,this.length=e.length}[O](){return this}next(e){const t=this.index++;return t<this.length?{value:this.array[t],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class fg extends F{constructor(e,t,n){super(e),this.parent=t,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[O](){return this}next(){const e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(e){this.buffer.push(e),this.parent.checkIterators()}subscribe(){return H(this.observable,new D(this))}}class yg extends u{constructor(e,t){super()}schedule(e,t=0){return this}}class bg extends yg{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n,i=!1;try{this.work(e)}catch(r){i=!0,n=!!r&&r||new Error(r)}if(i)return this.unsubscribe(),n}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}class vg extends bg{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}}let wg=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();class Sg extends wg{constructor(e,t=wg.now){super(e,()=>Sg.delegate&&Sg.delegate!==this?Sg.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return Sg.delegate&&Sg.delegate!==this?Sg.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}class Tg extends Sg{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,i=-1,r=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++i<r&&(e=t.shift()));if(this.active=!1,n){for(;++i<r&&(e=t.shift());)e.unsubscribe();throw n}}}const kg=new Tg(vg),Cg=new Dn("HIGHLIGHT_OPTIONS");let xg=(()=>{class e{constructor(e,t,n){this._options=n,this._ready=new ih(null),this.ready=this._ready.asObservable().pipe(xh(e=>!!e),_(e=>e),vh(1)),function(e){return"browser"===e}(t)&&e.defaultView.hljs?this._ready.next(e.defaultView.hljs):this._loadLibrary().pipe(mh(t=>this._options&&this._options.lineNumbersLoader?(e.defaultView.hljs=t,this.loadLineNumbers().pipe(Vh(()=>this._ready.next(t)))):(this._ready.next(t),dh)),Ih(e=>(console.error("[HLJS] ",e),dh))).subscribe()}_loadLibrary(){if(this._options){if(this._options.fullLibraryLoader&&this._options.coreLibraryLoader)return cg("The full library and the core library were imported, only one of them should be imported!");if(this._options.fullLibraryLoader&&this._options.languages)return cg("The highlighting languages were imported they are not needed!");if(this._options.coreLibraryLoader&&!this._options.languages)return cg("The highlighting languages were not imported!");if(!this._options.coreLibraryLoader&&this._options.languages)return cg("The core library was not imported!");if(this._options.fullLibraryLoader)return this.loadFullLibrary();if(this._options.coreLibraryLoader&&this._options.languages&&Object.keys(this._options.languages).length)return this.loadCoreLibrary().pipe(mh(e=>this._loadLanguages(e)))}return cg("Highlight.js library was not imported!")}_loadLanguages(e){return ug(...Object.entries(this._options.languages).map(([t,n])=>_g(n()).pipe(Vh(n=>e.registerLanguage(t,n))))).pipe(_(()=>e))}loadCoreLibrary(){return _g(this._options.coreLibraryLoader())}loadFullLibrary(){return _g(this._options.fullLibraryLoader())}loadLineNumbers(){return _g(this._options.lineNumbersLoader())}}return e.\u0275fac=function(t){return new(t||e)(ti(Zl),ti(al),ti(Cg,8))},e.\u0275prov=le({factory:function(){return new e(ti(Zl),ti(al),ti(Cg,8))},token:e,providedIn:"root"}),e})();const _g=e=>M(e).pipe(xh(e=>!!e&&!!e.default),_(e=>e.default));let Eg=(()=>{class e{constructor(e,t){this._loader=e,this._hljs=null,e.ready.pipe().subscribe(e=>{this._hljs=e,t&&t.config&&(e.configure(t.config),e.listLanguages().length<1&&console.error("[HighlightJS]: No languages were registered!"))})}get hljs(){return this._hljs}highlight(e,t,n,i){return this._loader.ready.pipe(_(r=>r.highlight(e,t,n,i)))}highlightAuto(e,t){return this._loader.ready.pipe(_(n=>n.highlightAuto(e,t)))}fixMarkup(e){return this._loader.ready.pipe(_(t=>t.fixMarkup(e)))}highlightBlock(e){return this._loader.ready.pipe(_(t=>t.highlightBlock(e)))}configure(e){return this._loader.ready.pipe(_(t=>t.configure(e)))}initHighlighting(){return this._loader.ready.pipe(_(e=>e.initHighlighting()))}registerLanguage(e,t){return this._loader.ready.pipe(Vh(n=>n.registerLanguage(e,t)))}listLanguages(){return this._loader.ready.pipe(_(e=>e.listLanguages()))}getLanguage(e){return this._loader.ready.pipe(_(t=>t.getLanguage(e)))}lineNumbersBlock(e){return this._loader.ready.pipe(xh(e=>!!e.lineNumbersBlock),Vh(t=>t.lineNumbersBlock(e)))}}return e.\u0275fac=function(t){return new(t||e)(ti(xg),ti(Cg,8))},e.\u0275prov=le({factory:function(){return new e(ti(xg),ti(Cg,8))},token:e,providedIn:"root"}),e})(),Ig=(()=>{class e{constructor(e,t,n,i){this._hljs=t,this._sanitizer=n,this._options=i,this.highlighted=new Bo,this._nativeElement=e.nativeElement}ngOnChanges(e){this.code&&e.code&&void 0!==e.code.currentValue&&e.code.currentValue!==e.code.previousValue&&this.highlightElement(this.code,this.languages)}highlightElement(e,t){this.setTextContent(e),this._hljs.highlightAuto(e,t).subscribe(e=>{this.setInnerHTML(e.value),this.lineNumbers&&this._options&&this._options.lineNumbersLoader&&this.addLineNumbers(),this.highlighted.emit(e)})}addLineNumbers(){this.destroyLineNumbersObserver(),kg.schedule(()=>{this._hljs.lineNumbersBlock(this._nativeElement).subscribe(),this._lineNumbersObs=new MutationObserver(()=>{this._nativeElement.firstElementChild&&"TABLE"===this._nativeElement.firstElementChild.tagName.toUpperCase()&&this._nativeElement.classList.add("hljs-line-numbers"),this.destroyLineNumbersObserver()}),this._lineNumbersObs.observe(this._nativeElement,{childList:!0})})}destroyLineNumbersObserver(){this._lineNumbersObs&&(this._lineNumbersObs.disconnect(),this._lineNumbersObs=null)}setTextContent(e){kg.schedule(()=>this._nativeElement.textContent=e)}setInnerHTML(e){kg.schedule(()=>this._nativeElement.innerHTML=this._sanitizer.sanitize(Bi.HTML,e)||"")}}return e.\u0275fac=function(t){return new(t||e)(Gs(Ha),Gs(Eg),Gs(Yc),Gs(Cg,8))},e.\u0275dir=ze({type:e,selectors:[["","highlight",""]],hostVars:2,hostBindings:function(e,t){2&e&&ha("hljs",!0)},inputs:{code:["highlight","code"],languages:"languages",lineNumbers:"lineNumbers"},outputs:{highlighted:"highlighted"},features:[st]}),e})(),Ag=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ve({type:e}),e.\u0275inj=ce({}),e})(),jg=(()=>{class e{constructor(){this.lang=["java"],this.dependencyInjection="\n  // instead of \n  method(){\n    ... \n    Object object = new Object();\n    ...\n  } \n  \n  // use \n  method(Object object){\n    ...\n  }\n  "}ngOnInit(){}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-javadesignpatternspage"]],decls:30,vars:2,consts:[[3,"highlight","languages","highlighted"],["href","https://jfspps.github.io/JavaDesignPatterns","target","_blank"],["href","https://github.com/jfspps/JavaDesignPatterns","target","_blank"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"SOLID design principles"),Ks(),Ys(2,"ul"),Ys(3,"li"),Sa(4,"Single responsibility: a class or method is responsible for one aspect only. Any changes to external objects may change a class (through composition) which adheres to the single responsibility principle but only one change is possible."),Ks(),Ys(5,"li"),Sa(6,"Open-closed: Open means that classes are open for inheritance, with overridable methods. Closed means the existing base classes should not be modified. Quite often such classes are composed of abstract methods which cannot be changed in the class but are defined in child classes."),Ks(),Ys(7,"li"),Sa(8,"The Liskov principle: explains that the behaviour of an object is defined by either its parent class or the parent class above. The Liskov principle is violated when a child class modifies the behaviour or contract of the base class it overrides."),Ks(),Ys(9,"li"),Sa(10,"Interfaces: never force the user to implement methods which it never needs. Interfaces should be divided into smaller, more cohesive interfaces, overall segregating the unrelated methods."),Ks(),Ys(11,"li"),Sa(12,"Dependency Inversion: methods should not have to create objects, instead, new objects should be created externally and passed to them. "),Ys(13,"pre"),Sa(14,"            "),Ys(15,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(16,"\n        "),Ks(),Sa(17," The responsibility of injecting dependencies (that is, data required for functionality) is inverted, and given to other objects and methods."),Ks(),Ks(),Ys(18,"h5"),Sa(19,"Design Patterns in Java"),Ks(),Ys(20,"p"),Sa(21," More detailed notes and code samples from a Design patterns course in Java. The GitHub pages landing page is "),Ys(22,"a",1),Sa(23,"here"),Ks(),Sa(24,".\n"),Ks(),Ys(25,"p"),Sa(26," The GitHub repo is "),Ys(27,"a",2),Sa(28,"here"),Ks(),Sa(29,".\n"),Ks()),2&e&&(Nr(15),$s("highlight",t.dependencyInjection)("languages",t.lang))},directives:[Ig],styles:[""]}),e})(),Og=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-javafxgradle"]],decls:9,vars:0,consts:[["href","https://github.com/jfspps/javaFXGradleDemo","target","_blank"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"JavaFX with Gradle demo"),Ks(),Ys(2,"p"),Sa(3," This project is mainly about getting Gradle to build an app with the JavaFX libraries.\n"),Ks(),Ys(4,"p"),Sa(5," The GitHub repo is "),Ys(6,"a",0),Sa(7,"here"),Ks(),Sa(8,".\n"),Ks())},styles:[""]}),e})(),Pg=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-javapage"]],decls:75,vars:0,consts:[[1,"row"],[1,"col-3"],["src","assets/images/icons8-java.svg"],[1,"list-group"],["type","button","routerLink","javaAbstractInterface",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-success"],["type","button","routerLink","javaStatic",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-success"],["type","button","routerLink","javaSortCollections",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-success"],["type","button","routerLink","javaRegExp",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-success"],["type","button","routerLink","javaIO_1",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-success"],["type","button","routerLink","javaIO_2",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-success"],["type","button","routerLink","javaNIO",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-success"],["type","button","routerLink","javaNIO_2",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-success"],["type","button","routerLink","javaThreads",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-success"],["type","button","routerLink","javaThreadsShareSync",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-success"],["type","button","routerLink","javaThreadSafe",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-success"],["type","button","routerLink","javaDeadlock",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-success"],["type","button","routerLink","javaFairlock",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-success"],["type","button","routerLink","javaLambdas",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-success"],["type","button","routerLink","javaClientServer",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-success"],["type","button","routerLink","javaDesignPatterns",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-secondary"],["type","button","routerLink","javaSingleton",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-secondary"],["type","button","routerLink","javaFactoryMethod",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-secondary"],["type","button","routerLink","javaBuilder",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-secondary"],["type","button","routerLink","javaArrayList",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-secondary"],["type","button","routerLink","javaLinkedList",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-secondary"],["type","button","routerLink","javaStack",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-secondary"],["type","button","routerLink","javaQueue",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-secondary"],["type","button","routerLink","javaBinaryTree",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-secondary"],["type","button","routerLink","javaBinarySearchTree",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-secondary"],["type","button","routerLink","javaBubbleSelection",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-primary"],["type","button","routerLink","javaMergeSort",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-primary"],["type","button","routerLink","javaQuickSort",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-primary"],["type","button","routerLink","javaDFSandBFS",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-primary"],[1,"col-9"]],template:function(e,t){1&e&&(Ys(0,"div",0),Ys(1,"div",1),Ys(2,"h4"),Zs(3,"img",2),Sa(4," Java"),Ks(),Ys(5,"div",3),Ys(6,"button",4),Sa(7,"Interfaces and Abstract classes"),Ks(),Ys(8,"button",5),Sa(9,"static and final"),Ks(),Ys(10,"button",6),Sa(11,"Collections framework"),Ks(),Ys(12,"button",7),Sa(13,"Regular expressions"),Ks(),Ys(14,"button",8),Sa(15,"Java File I/O"),Ks(),Ys(16,"button",9),Sa(17,"Java Binary I/O"),Ks(),Ys(18,"button",10),Sa(19,"Java NIO files"),Ks(),Ys(20,"button",11),Sa(21,"Java NIO file systems"),Ks(),Ys(22,"button",12),Sa(23,"Introducing threads"),Ks(),Ys(24,"button",13),Sa(25,"Thread interference and synchronisation"),Ks(),Ys(26,"button",14),Sa(27,"Handling thread interference"),Ks(),Ys(28,"button",15),Sa(29,"Deadlocks and starvation"),Ks(),Ys(30,"button",16),Sa(31,"Fair and Live locks"),Ks(),Ys(32,"button",17),Sa(33,"Lambda functions"),Ks(),Ys(34,"button",18),Sa(35,"Client-Server demo"),Ks(),Ks(),Zs(36,"hr"),Ys(37,"h5"),Sa(38,"ADTs and design patterns"),Ks(),Ys(39,"div",3),Ys(40,"button",19),Sa(41,"SOLID and design patterns"),Ks(),Ys(42,"button",20),Sa(43,"Singleton pattern"),Ks(),Ys(44,"button",21),Sa(45,"Factory method"),Ks(),Ys(46,"button",22),Sa(47,"Builder pattern"),Ks(),Ys(48,"button",23),Sa(49,"Custom ArrayList"),Ks(),Ys(50,"button",24),Sa(51,"Custom linked list"),Ks(),Ys(52,"button",25),Sa(53,"Custom stack"),Ks(),Ys(54,"button",26),Sa(55,"Custom queue"),Ks(),Ys(56,"button",27),Sa(57,"Custom binary tree"),Ks(),Ys(58,"button",28),Sa(59,"Custom binary search tree"),Ks(),Ks(),Zs(60,"hr"),Ys(61,"h5"),Sa(62,"Algorithms"),Ks(),Ys(63,"div",3),Ys(64,"button",29),Sa(65,"Bubble and selection sort"),Ks(),Ys(66,"button",30),Sa(67,"Merge sort"),Ks(),Ys(68,"button",31),Sa(69,"Quick sort"),Ks(),Ys(70,"button",32),Sa(71,"Depth- and breadth-first search"),Ks(),Ks(),Zs(72,"br"),Ks(),Ys(73,"div",33),Zs(74,"router-outlet"),Ks(),Ks())},directives:[Sp,Cp],styles:[""]}),e})(),Lg=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-javathreadspage"]],decls:37,vars:0,consts:[[1,"commands"],["href","https://github.com/jfspps/JavaThreadsDemo","target","_blank"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Threads in Java"),Ks(),Ys(2,"p"),Sa(3," This project highlights the implementation of separate threads in Java, by either extending a required class from the Thread class or implementing the Runnable interface.\n"),Ks(),Ys(4,"p"),Sa(5," Also included are "),Ys(6,"span",0),Sa(7,"threadX.interrupt()"),Ks(),Sa(8," to interrupt the given threadX and "),Ys(9,"span",0),Sa(10,"threadY.join()"),Ks(),Sa(11,", which enables a one to run right after (and on) the same thread, threadY, after threadY has finished its execution. The "),Ys(12,"span",0),Sa(13,"join()"),Ks(),Sa(14," method is useful when threadY needs to finish something (e.g. completing database transactions). The code which runs after the "),Ys(15,"span",0),Sa(16,"join()"),Ks(),Sa(17," method is executed when threadY has finished.\n"),Ks(),Ys(18,"p"),Sa(19," Entering a parameter to "),Ys(20,"span",0),Sa(21,"join()"),Ks(),Sa(22," sets the timeout for "),Ys(23,"span",0),Sa(24,"threadY.join()"),Ks(),Sa(25," to wait, like "),Ys(26,"span",0),Sa(27,"threadY.join(2000)"),Ks(),Sa(28,". This will set a time limit for the threadY to complete. If the time passes, then the statements proceeding "),Ys(29,"span",0),Sa(30,"join()"),Ks(),Sa(31," will run regardless if threadY finished or not.\n"),Ks(),Ys(32,"p"),Sa(33," The GitHub repo is "),Ys(34,"a",1),Sa(35,"here"),Ks(),Sa(36,".\n"),Ks())},styles:[".commands[_ngcontent-%COMP%]{color:#008b8b;padding:2px}"]}),e})(),Rg=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-springmvcpage"]],decls:9,vars:0,consts:[["href","https://github.com/jfspps/SpringWebApp","target","_blank"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Spring Boot and MVC demo"),Ks(),Ys(2,"p"),Sa(3," This app demonstrates a model, controller and view layer for the implementation of a book list. The project was adopted from Spring Framework Guru. Database relationships (one-to-one, one-to-many etc.) are provided. A bootstrap class populates the in-memory H2 database and can be accessed via the Controller classes with the /authors and /books routes. No unit testing was performed at this stage of the course. "),Ks(),Ys(4,"p"),Sa(5," The GitHub repo is "),Ys(6,"a",0),Sa(7,"here"),Ks(),Sa(8,".\n"),Ks())},styles:[""]}),e})(),Ng=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-springreactivepage"]],decls:9,vars:0,consts:[["href","https://github.com/jfspps/Spring-Reactive-Demo","target","_blank"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Reactive programming with Spring"),Ks(),Ys(2,"p"),Sa(3," This project introduces the Flux and Mono classes as data streams. In addition, WebFlux (instead of Thymeleaf) is used as the templating engine.\n"),Ks(),Ys(4,"p"),Sa(5," The GitHub repo is "),Ys(6,"a",0),Sa(7,"here"),Ks(),Sa(8,".\n"),Ks())},styles:[""]}),e})(),Mg=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-springrestapipage"]],decls:26,vars:0,consts:[["href","https://github.com/jfspps/RestAPI-Spring","target","_blank"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"RESTful web services with Spring"),Ks(),Ys(2,"p"),Sa(3," This app demonstrates the implementation of RESTful APIs with Spring. There are a number of commits in this repo which demonstrate the key areas:\n"),Ks(),Ys(4,"ul"),Ys(5,"li"),Sa(6,"CircleCI integration"),Ks(),Ys(7,"li"),Sa(8,"Automated mapping data transfer objects (DTOs) and client beans with MapStruct, along with DTO converter classes (note that DTO objects in this repo are suffixed with API)."),Ks(),Ys(9,"li"),Sa(10,"Spring bean and DTO services, controllers and repositories (interfaces which extend the JpaRepository)"),Ks(),Ys(11,"li"),Sa(12,"Controller ResponseEntity's and the GET, POST, PUT, PATCH and DELETE requests"),Ks(),Ys(13,"li"),Sa(14,"Handling of 404 (not found) returns"),Ks(),Ys(15,"li"),Sa(16,"API documentation with OpenAPI (formerly, Swagger)"),Ks(),Ys(17,"li"),Sa(18,"Parsing and consumption of JSON and XML feeds"),Ks(),Ys(19,"li"),Sa(20,"XML to Java class conversion with JAXB2, along with fine-tuning of the XSD files"),Ks(),Ks(),Ys(21,"p"),Sa(22," The GitHub repo is "),Ys(23,"a",0),Sa(24,"here"),Ks(),Sa(25,".\n"),Ks())},styles:[""]}),e})(),Dg=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-springsecuritypage"]],decls:32,vars:0,consts:[["href","https://github.com/jfspps/Spring_weblogin","target","_blank"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Spring Security demo"),Ks(),Ys(2,"p"),Sa(3," This demo highlights the stages required to build in authentication and authorisation with Spring. A class, TestRecord, was applied as a test class for authenticated CRUD operations. The key features include:\n"),Ks(),Ys(4,"ul"),Ys(5,"li"),Sa(6,"Building a @Configuration bean by extending WebSecurityConfigurerAdapter to implement usernames and passwords"),Ks(),Ys(7,"li"),Sa(8,"Configuring controller routes and Thymeleaf templates, with and without authentication requirements"),Ks(),Ys(9,"li"),Sa(10,"Building custom Login pages, with 500 (wrong credentials given) response, rememberMe and HTTPS"),Ks(),Ys(11,"li"),Sa(12,"Authority entity (a list of Users with the given authority) and Roles (ADMIN, USER, etc.)"),Ks(),Ys(13,"li"),Sa(14,"User entity, with a list of Authority's (a user may belong to more than one Authority)"),Ks(),Ys(15,"li"),Sa(16,"Role entity, with a list of Users (maps a role name ADMIN or USER etc., to a group of users)"),Ks(),Ys(17,"li"),Sa(18,"Password encryption technologies e.g. BCrypt and Cross-Site Request Forgery (CSRF) protection"),Ks(),Ys(19,"li"),Sa(20,"Custom Spring annotations, with @interface, that handle routing authentication"),Ks(),Ys(21,"li"),Sa(22,"Gradual refactor from WebSecurityConfigurerAdapter extension to UserDetailsService"),Ks(),Ys(23,"li"),Sa(24,"Introduction of Java's Optional's (non-null objects with nullable values)"),Ks(),Ys(25,"li"),Sa(26,"User login/logout timestamps and 403 (forbidden) responses and other properties (lockout, expired, modified)"),Ks(),Ks(),Ys(27,"p"),Sa(28," The GitHub repo is "),Ys(29,"a",0),Sa(30,"here"),Ks(),Sa(31,".\n"),Ks())},styles:[""]}),e})(),Fg=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-page-not-found"]],decls:2,vars:0,template:function(e,t){1&e&&(Ys(0,"h2"),Sa(1,"Page not found"),Ks())},styles:[""]}),e})(),Hg=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-springjmspage"]],decls:20,vars:0,consts:[["href","https://github.com/jfspps/SpringJMSDemo","target","_blank"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Messaging in Spring with Java Messaging Service JMS"),Ks(),Ys(2,"p"),Sa(3," This app demonstrates how messages can be sent between a applications, not all of which need to be Java applications. JMS is the specification (interface) setting the contract for various implementations of JMS, much like how JPA sets the specification and Hibernate sets the implementation. There are numerous implementations of JMS available, including Apache ActiveMQ and RabbitMQ for example.\n"),Ks(),Ys(4,"p"),Sa(5," One can implement messaging (which is asynchronous) as point-to-point, with sender -> queue -> consumer or with a more interconnected publish-subscribe approach. The former is demonstrated here. This project also shows:\n"),Ks(),Ys(6,"ul"),Ys(7,"li"),Sa(8,"Embedded ActiveMQ server (to respond to sent messages)"),Ks(),Ys(9,"li"),Sa(10,"Handling of ActiveMQ server with JmsTemplate"),Ks(),Ys(11,"li"),Sa(12,"Conversion between JSON (with Jackson library) and a JMS Message object"),Ks(),Ys(13,"li"),Sa(14,"Send and receive listeners, along with combined send-and-receive methods"),Ks(),Ks(),Ys(15,"p"),Sa(16," The GitHub repo is "),Ys(17,"a",0),Sa(18,"here"),Ks(),Sa(19,".\n"),Ks())},styles:[""]}),e})(),Bg=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-dockerpage"]],decls:27,vars:0,consts:[[1,"row"],[1,"col-3"],["src","assets/images/icons8-docker.svg"],[1,"list-group"],["type","button","routerLink","dockerCommands",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-info"],["type","button","routerLink","dockerMongo",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-info"],["type","button","routerLink","dockerSQL",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-info"],["type","button","routerLink","dockerCentOS",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-info"],["type","button","routerLink","dockerMavenBuild",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-info"],["src","assets/images/icons8-amazon-web-services.svg"],["type","button","routerLink","AWSIntro",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-warning"],["type","button","routerLink","AWSSpring",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-warning"],[1,"col-9"]],template:function(e,t){1&e&&(Ys(0,"div",0),Ys(1,"div",1),Ys(2,"h4"),Zs(3,"img",2),Sa(4," Docker containers"),Ks(),Ys(5,"div",3),Ys(6,"button",4),Sa(7,"Commands"),Ks(),Ys(8,"button",5),Sa(9,"MongoDB"),Ks(),Ys(10,"button",6),Sa(11,"MySQL"),Ks(),Ys(12,"button",7),Sa(13,"CentOS and Dockerfile"),Ks(),Ys(14,"button",8),Sa(15,"Fabric8"),Ks(),Ks(),Zs(16,"hr"),Ys(17,"h4"),Zs(18,"img",9),Sa(19," AWS"),Ks(),Ys(20,"div",3),Ys(21,"button",10),Sa(22,"Setup"),Ks(),Ys(23,"button",11),Sa(24,"AWS and Spring"),Ks(),Ks(),Ks(),Ys(25,"div",12),Zs(26,"router-outlet"),Ks(),Ks())},directives:[Sp,Cp],styles:[".commands[_ngcontent-%COMP%]{color:#008b8b;padding:2px}"]}),e})(),qg=(()=>{class e{constructor(){this.buildCentOS="docker build -t spring-boot-docker .",this.dockerFile='FROM centos \n RUN yum install -y java-11-openjdk-devel \n VOLUME /tmp \n ADD /spring-boot-web-0.0.1-SNAPSHOT.jar myApp.jar \n RUN sh -c \'touch /myApp.jar\' \n ENTRYPOINT ["java","-Djava.security.egd=file:/dev/./urandom","-jar","/myApp.jar"]',this.runSpringBoot="docker run -d -p 8080:8080 spring-boot-docker"}ngOnInit(){}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-centospage"]],decls:65,vars:3,consts:[[1,"commands"],[3,"highlight","highlighted"],["href","https://hub.docker.com/","target","_blank"],["href","https://spring.io/guides/topicals/spring-boot-docker"]],template:function(e,t){1&e&&(Ys(0,"h4"),Sa(1,"Spring Boot app on CentOS image"),Ks(),Ys(2,"p"),Sa(3," Pull CentOS from Docker hub and then boot up with "),Ys(4,"span",0),Sa(5,"docker run -it --rm centos"),Ks(),Sa(6,". Then install Java 11 (openjdk in this case) with "),Ys(7,"span",0),Sa(8,"yum install java-11-openjdk-devel"),Ks(),Sa(9,".\n"),Ks(),Ys(10,"p"),Sa(11," To build a new Docker image layer (on top of CentOS and then Java) with the CentOS image (non-persistent at present), place the Dockerfile (note the character case) and the fat, full-size JAR from "),Ys(12,"span",0),Sa(13,"/target"),Ks(),Sa(14," in the Spring build, into the same directory and run:\n"),Ks(),Ys(15,"pre"),Sa(16,"    "),Ys(17,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(18,"\n"),Ks(),Ys(19,"p"),Sa(20," Do not miss out the terminal period. The -t parameter tags the image with the name spring-boot-docker. The Docker file is reproduced here:\n"),Ks(),Ys(21,"pre"),Sa(22,"    "),Ys(23,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(24,"\n"),Ks(),Ys(25,"p"),Sa(26,' The Dockerfile is a text file which acts as a script, instructing Docker how to build an image, the file which represents the container. Typically the Dockerfile (note the case: it is "Dockerfile" not "DockerFile" or some other variant) starts by downloading the first layer from '),Ys(27,"a",2),Sa(28,"Docker Hub"),Ks(),Sa(29,", following the "),Ys(30,"span",0),Sa(31,"FROM"),Ks(),Sa(32," command, in this case a CentOS distro. The command "),Ys(33,"span",0),Sa(34,"RUN"),Ks(),Sa(35," is equivalent to a BASH command within the container, which in this case installs the JDK 11 libraries. "),Ys(36,"span",0),Sa(37,"VOLUME"),Ks(),Sa(38," represents scratch space for non-OS binaries, in this case Tomcat, running on the image (optional). "),Ys(39,"span",0),Sa(40,"ADD"),Ks(),Sa(41," simply adds the first file, spring-boot-web-0.0.1-SNAPSHOT.jar, to the container, renaming it as myApp.jar. Another RUN command executes more bash commands. "),Ys(42,"span",0),Sa(43,"ENTRYPOINT"),Ks(),Sa(44," represents the bash command which is executed, with its parameters clearly separated by whitespace as string fragments, when the image is run from the host (optional). In this case, the command would be "),Ys(45,"span",0),Sa(46,"java -Djava.security.egd=file:/dev/./urandom -jar /myApp.jar"),Ks(),Sa(47,". The ENTRYPOINT command helps Tomcat run efficiently (go "),Ys(48,"a",3),Sa(49,"here"),Ks(),Sa(50," for more info).\n"),Ks(),Ys(51,"p"),Sa(52," Overall, a new layer is built on top of the JVM. After build completion, the new image is spring-boot-docker. Then run the new image:\n"),Ks(),Ys(53,"pre"),Sa(54,"    "),Ys(55,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(56,"\n"),Ks(),Ys(57,"p"),Sa(58," Run "),Ys(59,"span",0),Sa(60,"docker ps"),Ks(),Sa(61," to get the image ID and then "),Ys(62,"span",0),Sa(63,"docker logs imageID"),Ks(),Sa(64," to see the Tomcat output you would normally see in the console of IntelliJ.\n"),Ks()),2&e&&(Nr(17),$s("highlight",t.buildCentOS),Nr(6),$s("highlight",t.dockerFile),Nr(32),$s("highlight",t.runSpringBoot))},directives:[Ig],styles:[".commands[_ngcontent-%COMP%]{color:#008b8b;padding:2px}"]}),e})(),Ug=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-commandspage"]],decls:66,vars:0,consts:[[1,"commands"]],template:function(e,t){1&e&&(Ys(0,"h4"),Sa(1," Docker commands\n"),Ks(),Ys(2,"ul"),Ys(3,"li"),Sa(4,"List all (-a) Docker images: "),Ys(5,"span",0),Sa(6,"docker images -a"),Ks(),Ks(),Ys(7,"li"),Sa(8,"List all running Docker containers: "),Ys(9,"span",0),Sa(10,"docker ps"),Ks(),Ks(),Ys(11,"li"),Sa(12,"List all Docker containers: "),Ys(13,"span",0),Sa(14,"docker ps -a"),Ks(),Ks(),Ys(15,"li"),Sa(16,"Start\xa0a Docker container: "),Ys(17,"span",0),Sa(18,"docker start container_name"),Ks(),Ks(),Ys(19,"li"),Sa(20,"Stop (graceful) a Docker container: "),Ys(21,"span",0),Sa(22,"docker stop container_name"),Ks(),Ks(),Ys(23,"li"),Sa(24,"Restart a Docker container: "),Ys(25,"span",0),Sa(26,"docker container restart container_name"),Ks(),Ks(),Ys(27,"li"),Sa(28,"Kill a running containers: "),Ys(29,"span",0),Sa(30,"docker container kill container_name"),Ks(),Ks(),Ys(31,"li"),Sa(32,"Open a BASH shell in a container: "),Ys(33,"span",0),Sa(34,"sudo docker exec -it container_name bash"),Ks(),Ks(),Ks(),Ys(35,"p"),Sa(36," Other commands pertaining to container and image management:\n"),Ks(),Ys(37,"ul"),Ys(38,"li"),Sa(39,"View the logs of a Running Docker Container: "),Ys(40,"span",0),Sa(41,"docker logs container_name"),Ks(),Ks(),Ys(42,"li"),Sa(43,"Remove a Docker image (forced with -f): "),Ys(44,"span",0),Sa(45,"docker rmi -f image_name"),Ks(),Ks(),Ys(46,"li"),Sa(47,"Delete all dangling Docker images (-a to remove unreferenced images): "),Ys(48,"span",0),Sa(49,"docker image prune -a"),Ks(),Ks(),Ys(50,"li"),Sa(51,"Remove a stopped container: "),Ys(52,"span",0),Sa(53,"docker rm container_name"),Ks(),Ks(),Ys(54,"li"),Sa(55,"Remove all stopped containers (optional -f to force without confirmation): "),Ys(56,"span",0),Sa(57,"docker container prune -f"),Ks(),Ks(),Ys(58,"li"),Sa(59,"Remove a volume (forced with f): "),Ys(60,"span",0),Sa(61,"docker volume rm -f volume_id"),Ks(),Ks(),Ys(62,"li"),Sa(63,"Remove all unused volumes (no confirmation with -f): "),Ys(64,"span",0),Sa(65,"docker volume prune -f"),Ks(),Ks(),Ks())},styles:[".commands[_ngcontent-%COMP%]{color:#008b8b;padding:2px}"]}),e})(),Jg=(()=>{class e{constructor(){this.setupMySQL="docker run --name mySQLContainer \n -v /home/james/Dev/mySQLContainer:/var/lib/mysql \n -e MYSQL_ALLOW_EMPTY_PASSWORD=yes \n -p 3307:3306 \n -d mysql",this.openBash="docker exec -it container_id bash",this.mySQLPrivilege="GRANT ALL PRIVILEGES ON *.* TO 'root'@'%'; \nuse mysql; \nUPDATE mysql.user SET host='%' WHERE user='root';"}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-sqlpage"]],decls:41,vars:3,consts:[[1,"commands"],[3,"highlight","highlighted"]],template:function(e,t){1&e&&(Ys(0,"h4"),Sa(1,"Docker and MySQL"),Ks(),Ys(2,"p"),Sa(3," For MySQL, with MySQL community already installed locally, map the container\u2019s 3306 to the host's 3307 (check with "),Ys(4,"span",0),Sa(5,"sudo netstat -nlpt |grep 3306"),Ks(),Sa(6,").\n"),Ks(),Ys(7,"p"),Sa(8," Both shared volume -v and port -p parameters follow the sequence: localVolume:containerVolume or localPort:containerPort.\n"),Ks(),Ys(9,"p"),Sa(10," Run MySQL container, with an environment variable (-e), with a null password (clearly not recommended and only illustrative here) as follows:\n"),Ks(),Ys(11,"pre"),Sa(12,"    "),Ys(13,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(14,"\n"),Ks(),Ys(15,"p"),Sa(16," Setting up MySQL on the container requires more preparation. Get into the bash shell of the container with:\n"),Ks(),Ys(17,"pre"),Sa(18,"    "),Ys(19,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(20,"\n"),Ks(),Ys(21,"p"),Sa(22," From the shell command, enter "),Ys(23,"span",0),Sa(24,"mysql -u root -p mysql"),Ks(),Sa(25,". This should open up the mysql console. At this point enter:\n"),Ks(),Ys(26,"pre"),Sa(27,"    "),Ys(28,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(29,"\n"),Ks(),Ys(30,"p"),Sa(31," Enter Ctrl+D and restart mysql with: "),Ys(32,"span",0),Sa(33,"mysqld restart"),Ks(),Ks(),Ys(34,"p"),Sa(35," One can then access MySQL through MySQL Workbench, port 3307 to access the container\u2019s (in future, clients) MySQL daemon, independent of any local copy of MySQL.\n"),Ks(),Ys(36,"p"),Sa(37," After preparation, open a bash shell in the container as shown above and run MySQL with "),Ys(38,"span",0),Sa(39,"mysql -u root"),Ks(),Sa(40,".\n"),Ks()),2&e&&(Nr(13),$s("highlight",t.setupMySQL),Nr(6),$s("highlight",t.openBash),Nr(9),$s("highlight",t.mySQLPrivilege))},directives:[Ig],styles:[".commands[_ngcontent-%COMP%]{color:#008b8b;padding:2px}"]}),e})(),Vg=(()=>{class e{constructor(){this.mapPorts="docker run \n -p 27016:27017 \n -d mongo",this.mapPortsAndVolumes="docker run \n -p 27017:27017 \n -v /localPath/dataDir:/data/db \n -d mongo"}ngOnInit(){}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-mongopage"]],decls:32,vars:2,consts:[[3,"highlight","highlighted"],[1,"commands"]],template:function(e,t){1&e&&(Ys(0,"h4"),Sa(1,"Docker and MongoDB"),Ks(),Ys(2,"p"),Sa(3," Port 27017 in the container is mapped to port 27016 on the Docker host with the -p parameter. Setting Spring to access port 27016 (through application.properties) then establishes a connection to the container\u2019s port 27017, the default Mongo port. The docker command is:\n"),Ks(),Ys(4,"pre"),Ys(5,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Ks(),Ys(6,"p"),Sa(7," The -d parameter directs the container to run as a daemon, a background application. To get access to the console of the container at a later point, enter "),Ys(8,"span",1),Sa(9,"sudo docker exec -it container_name bash"),Ks(),Sa(10,". If the -d parameter is not passed then the current console is populated with the container's normal output.\n"),Ks(),Ys(11,"p"),Sa(12," DB data does not persist by default, since the top layer of the image which stores data is lost when the container is restarted. Note for earlier versions of Docker, the files which represent the \u201clost layer\u201d persist on the hosts disk storage and can accumulate over time. As of version 2.4.0, Docker provides a garbage collection method which clears up unreferenced data. See the official docs.\n"),Ks(),Ys(13,"p"),Sa(14," Assigning local disk space to persist data/mapping a volume (normally stored in "),Ys(15,"span",1),Sa(16,"/data/db"),Ks(),Sa(17," in the container) is achieved with the -v parameter:\n"),Ks(),Ys(18,"pre"),Sa(19,"    "),Ys(20,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(21,"\n"),Ks(),Ys(22,"p"),Sa(23," One can clear MongoDB databases by running "),Ys(24,"span",1),Sa(25,"db.getCollectionNames()"),Ks(),Sa(26," to list all collections (equiv. to relational tables) on the database. Use "),Ys(27,"span",1),Sa(28,"db.collection_name.drop()"),Ks(),Sa(29,', to drop a given collection with the name "collection_name".\n'),Ks(),Ys(30,"p"),Sa(31," This might prove helpful when removing the collections from the host\u2019s database if Mongod is already running in the background and data was unintentionally saved to the host\u2019s database.\n"),Ks()),2&e&&(Nr(5),$s("highlight",t.mapPorts),Nr(15),$s("highlight",t.mapPortsAndVolumes))},directives:[Ig],styles:[".commands[_ngcontent-%COMP%]{color:#008b8b;padding:2px}"]}),e})(),Wg=(()=>{class e{constructor(){this.pomxml='<?xml version="1.0" encoding="UTF-8"?>\n        ...  \n      <artifactId>springDocker</artifactId>\n      <version>0.0.1-SNAPSHOT</version>\n        ...\n      <properties>\n          ...\n  \n          \x3c!--set this to your docker account name--\x3e\n          <docker.image.prefix>jfspps</docker.image.prefix>\n  \n          \x3c!--Set to name of the image--\x3e\n        <docker.image.name>testrepo_1_image</docker.image.name>\n      </properties>\n  \n      <dependencies>\n      ...\n      </dependencies>\n  \n      <build>\n          <plugins>\n              <plugin>\n                  <groupId>org.springframework.boot</groupId>\n                  <artifactId>spring-boot-maven-plugin</artifactId>\n              </plugin>\n              <plugin>\n                  <groupId>io.fabric8</groupId>\n                  <artifactId>docker-maven-plugin</artifactId>\n                  <version>0.34.1</version>\n                  <configuration>\n\n                      \x3c!--Show additional output --\x3e\n                      <verbose>true</verbose>\n                      <images>\n                          <image>\n                              <name>${docker.image.prefix}/${docker.image.name}</name>\n                              <build>\n                                  <dockerFileDir>${project.basedir}/src/main/docker/</dockerFileDir>\n  \n                                  \x3c!--copies artifact to docker build dir in target--\x3e\n                                  <assembly>\n                                      <descriptorRef>artifact</descriptorRef>\n                                  </assembly>\n                                  \x3c!--Set Docker image tags--\x3e\n                                  <tags>\n                                      <tag>latest</tag>\n                                      <tag>${project.version}</tag>\n                                  </tags>\n                              </build>\n                          </image>\n                      </images>\n\n                  </configuration>\n              </plugin>\n          </plugins>\n      </build>\n  \n  \n  </project>\n  ',this.releasePomxml="\n        ...\n        <artifactId>springDocker</artifactId>\n        <version>1.0.0-RELEASE</version>\n        ...\n  \n      <build>\n          <plugins>\n              <plugin>\n                  <groupId>org.springframework.boot</groupId>\n                  <artifactId>spring-boot-maven-plugin</artifactId>\n              </plugin>\n              <plugin>\n                  <groupId>io.fabric8</groupId>\n                  <artifactId>docker-maven-plugin</artifactId>\n                  <version>0.34.1</version>\n                  <configuration>\n\n                    \x3c!--Set the release version to the project version --\x3e\n                    <buildArgs>\n                        <RELEASE_VERSION>${project.version}</RELEASE_VERSION>\n                    </buildArgs>\n\n                    ...\n                  </configuration>\n              </plugin>\n          </plugins>\n      </build>\n  \n  \n  </project>\n  ",this.mavenRunPomxml="\n                    <image>\n                        <name>${docker.image.prefix}/${docker.image.name}</name>\n                            <build>\n                            ...\n                            </build>\n                            <run>\n                                <ports>\n                                    <port>8080:8080</port>\n                                </ports>\n                            </run>\n                        </image>",this.dockerFile='FROM openjdk\n VOLUME /tmp \n ADD maven/springDocker-0.0.1-SNAPSHOT.jar myapp.jar \n RUN sh -c \'touch /myapp.jar\' \n ENTRYPOINT ["java","-Djava.security.egd=file:/dev/./urandom","-jar","/myapp.jar"]',this.releaseDockerFile='FROM openjdk \n VOLUME /tmp \n ARG RELEASE_VERSION \n ADD maven/springDocker-${RELEASE_VERSION}.jar myapp.jar \n RUN sh -c \'touch /myapp.jar\' \n ENTRYPOINT ["java","-Djava.security.egd=file:/dev/./urandom","-jar","/myapp.jar"]',this.mavenBuild="sudo mvn clean package docker:build",this.dockerPush="<servers>\n  <server>\n      <id>docker.io</id>\n      <username>jfspps</username>\n      <password></password>\n  </server>\n</servers>",this.failSafe="<plugin>\n<groupId>org.apache.maven.plugins</groupId>\n<artifactId>maven-failsafe-plugin</artifactId>\n<version>2.2.2</version>\n<executions>\n  <execution>\n    <goals>\n      <goal>integration-test</goal>\n      <goal>verify</goal>\n    </goals>\n  </execution>\n</executions>\n</plugin>",this.dockerExecutions='<plugin>\n<groupId>io.fabric8</groupId>\n...\n<configurations>\n...\n</configurations>\n\n<executions>\n<execution>\n    <id>start</id>\n    <phase>pre-integration-test</phase>\n    <goals>\n        \x3c!-- "build" should be used to create the images with the\n             artifact --\x3e\n        <goal>build</goal>\n        <goal>start</goal>\n    </goals>\n</execution>\n<execution>\n    <id>stop</id>\n    <phase>post-integration-test</phase>\n    <goals>\n        <goal>stop</goal>\n    </goals>\n</execution>\n</executions>'}ngOnInit(){}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-build-imagepage"]],decls:127,vars:10,consts:[[3,"highlight","lineNumbers","highlighted"],[1,"commands"],["href","https://github.com/docker-library/docs/blob/master/openjdk/README.md#supported-tags-and-respective-dockerfile-links","target","_blank"],[3,"highlight","highlighted"],["href","https://ropenscilabs.github.io/r-docker-tutorial/04-Dockerhub.html","target","_blank"]],template:function(e,t){1&e&&(Ys(0,"h4"),Sa(1,"Building a Spring Boot-Docker image with Maven"),Ks(),Ys(2,"p"),Sa(3," One can build a Docker image directly from Maven with the Fabric8 plugin (recently discontinued although still functional). To do so, first create a Dockerfile as follows:\n"),Ks(),Ys(4,"pre"),Sa(5,"    "),Ys(6,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(7,"\n"),Ks(),Ys(8,"p"),Sa(9," This is conventionally placed "),Ys(10,"span",1),Sa(11,"/src/main/docker"),Ks(),Sa(12," alongside the usual "),Ys(13,"span",1),Sa(14,"/src/main/java"),Ks(),Sa(15," directory. In the above case, we are using the openjdk image which is built on top of an OS (see "),Ys(16,"a",2),Sa(17,"tag list"),Ks(),Sa(18," to choose a specific platform), with the JDK already installed.\n"),Ks(),Ys(19,"p"),Sa(20," We then import the Maven plugin, Fabric8, and set the tags with version info as follows (note how the project's artifactId and version are carried across to the Dockerfile):\n"),Ks(),Ys(21,"pre"),Sa(22,"    "),Ys(23,"code",3),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(24,"\n"),Ks(),Ys(25,"p"),Sa(26," With administrator privileges, run Maven from the command line in the order:\n"),Ks(),Ys(27,"pre"),Sa(28,"    "),Ys(29,"code",3),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(30,"\n"),Ks(),Ys(31,"p"),Sa(32," The image is then recognised by docker and can be executed (get the imageID with "),Ys(33,"span",1),Sa(34,"docker images"),Ks(),Sa(35," and then run with "),Ys(36,"span",1),Sa(37,"docker -d run imageID"),Ks(),Sa(38," not forgetting to add any volume or port variables are required. "),Ks(),Ys(39,"h4"),Sa(40,"Pushing to Docker Hub"),Ks(),Ys(41,"p"),Sa(42," One can edit Maven settings by right-clicking the pom.xml file in IntelliJ and then under Maven create or edit settings.xml, and then add the server details (at your own risk):\n"),Ks(),Ys(43,"pre"),Sa(44,"    "),Ys(45,"code",3),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(46,"\n"),Ks(),Ys(47,"p"),Sa(48," Alternatively, the official docs also shows how to "),Ys(49,"a",4),Sa(50,"push images"),Ks(),Sa(51," without rebuilding from the IDE. Log into Docker at the command line with "),Ys(52,"span",1),Sa(53,"docker login"),Ks(),Sa(54,". Then push the built image (again, list with "),Ys(55,"span",1),Sa(56,"docker images"),Ks(),Sa(57,") with "),Ys(58,"span",1),Sa(59,"docker push jfspps/testrepo_1_image"),Ks(),Ks(),Ys(60,"h4"),Sa(61,"Building and pushing release versions"),Ks(),Ys(62,"p"),Sa(63," Docker images are tied to the version name and will not build if the version of the Dockerfile and pom.xml do not match. Some modification to the pom.xml and Dockerfile files is needed:\n"),Ks(),Ys(64,"pre"),Sa(65,"    "),Ys(66,"code",3),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(67,"\n"),Ks(),Ys(68,"p"),Sa(69," Then add buildArgs in the Fabric8 configuration:\n"),Ks(),Ys(70,"pre"),Sa(71,"    "),Ys(72,"code",3),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(73,"\n"),Ks(),Ys(74,"p"),Sa(75," One can then push to Docker Hub in the usual way.\n"),Ks(),Ys(76,"h4"),Sa(77,"Running images in Maven"),Ks(),Ys(78,"p"),Sa(79," One can also run a built image (a continuation of the above build) while mapping ports between the container (the latter parameter) and the host (the first parameter):\n"),Ks(),Ys(80,"pre"),Sa(81,"    "),Ys(82,"code",3),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(83,"\n"),Ks(),Ys(84,"p"),Sa(85," With the above ports mapped, we can run the container interactively with "),Ys(86,"span",1),Sa(87,"mvn docker:run"),Ks(),Sa(88,". The console represents the container and the usual Spring Boot output is produced. Entering CTRL-C terminates the app and stops the container. To run the container in the background, enter "),Ys(89,"span",1),Sa(90,"mvn docker:start"),Ks(),Sa(91,". To stop the background container, enter "),Ys(92,"span",1),Sa(93,"mvn docker:stop"),Ks(),Sa(94,". Either functionality is conveniently applicable to integration testing with docker containers running alongside.\n"),Ks(),Ys(95,"h4"),Sa(96,"Integration testing"),Ks(),Ys(97,"p"),Sa(98," Integration testing can be executed first by importing the FailSafe plugin.\n"),Ks(),Ys(99,"pre"),Sa(100,"    "),Ys(101,"code",3),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(102,"\n"),Ks(),Ys(103,"p"),Sa(104," Docker can then be directed to build and/or run an image (following from above, for example) by passing the commands to the Fabric8 block.\n"),Ks(),Ys(105,"pre"),Sa(106,"    "),Ys(107,"code",3),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(108,"\n"),Ks(),Ys(109,"p"),Sa(110," The 'pre-integration-test' builds and starts the containers listed under the 'images' block, the usual Spring integration tests are then run followed by the 'post-integration-test' block which shuts down the containers. Enter the command "),Ys(111,"span",1),Sa(112,"mvn verify"),Ks(),Sa(113," to run the three-step process.\n"),Ks(),Ys(114,"p"),Sa(115," A good form of practice is to clean the built /target directories with before packaging and testing. The docker:push is optional.\n"),Ks(),Ys(116,"p"),Ys(117,"span",1),Sa(118," mvn clean package verify docker:push "),Ks(),Ks(),Ys(119,"p"),Sa(120," This assumes that the pom.xml has the build command in 'executions'. If not, add "),Ys(121,"span",1),Sa(122,"docker:build"),Ks(),Sa(123," before "),Ys(124,"span",1),Sa(125,"verify"),Ks(),Sa(126,".\n"),Ks()),2&e&&(Nr(6),$s("highlight",t.dockerFile)("lineNumbers",!0),Nr(17),$s("highlight",t.pomxml),Nr(6),$s("highlight",t.mavenBuild),Nr(16),$s("highlight",t.dockerPush),Nr(21),$s("highlight",t.releaseDockerFile),Nr(6),$s("highlight",t.releasePomxml),Nr(10),$s("highlight",t.mavenRunPomxml),Nr(19),$s("highlight",t.failSafe),Nr(6),$s("highlight",t.dockerExecutions))},directives:[Ig],styles:[".commands[_ngcontent-%COMP%]{color:#008b8b;padding:2px}"]}),e})(),zg=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-javathreadsyncpage"]],decls:16,vars:0,consts:[["href","https://github.com/jfspps/JavaThreadsShareDemo","target","_blank"],["href","https://github.com/jfspps/JavaThreadsSyncDemo","target","_blank"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Thread interference and synchronisation"),Ks(),Ys(2,"p"),Sa(3," Instance variables are stored on the heap. If only one instance is created and shared between threads, each thread of the same type is effectively in control of the same instance and its variables. This project shows how both threads change one instance's data. This is referred to as 'race conditions' or 'thread interference'.\n"),Ks(),Ys(4,"p"),Sa(5," The GitHub repo with thread interference is "),Ys(6,"a",0),Sa(7,"here"),Ks(),Sa(8,".\n"),Ks(),Ys(9,"p"),Sa(10," To avoid this behaviour, one can build a synchronization block (it is also possible to declare an entire function as 'synchronized'). This should be done minimally to prevent blocking threads unnecessarily. This block ensures that the current thread is not interrupted under normal conditions.\n"),Ks(),Ys(11,"p"),Sa(12," The GitHub repo to synchronisation is "),Ys(13,"a",1),Sa(14,"here"),Ks(),Sa(15,".\n"),Ks())},styles:[""]}),e})(),Qg=(()=>{class e{constructor(){this.lang=["java"],this.messageExample='public class Main {\n  \n    public static void main(String[] args) {\n      Message message = new Message();\n      \n      // *the order in which these threads appear matters not; \n      // one handles read() and the other handles write()\n      (new Thread(new Writer(message))).start();\n      (new Thread(new Reader(message))).start();\t\n    }\n  }\n  \n  class Message{\n    \n    private String message;\n    private boolean empty = true;\n    \n    //different threads cannot execute read and write at \n    //the same time on the same object (they can on different objects)\n    //as soon as one is called, the lock is handed to the calling method \n    //and only allows the other thread execute if it finishes or when the thread runs \n    //notify() or notifyAll()\n    \n    //*suppose that read() runs first, it is guaranteed to loop; it \n    //allows write() in by calling wait().\n    //write() swaps the flag (it has joint access to empty), then goes \n    //straight to assigning the first message\n    //fragment, then calls notifiyAll() to say to read() that it can resume; \n    //by then empty is set to false and read proceeds after its loop\n    \n    //*if write runs first then it skips the loop (empty was initially true)\n    // and writes a String fragment\n\n    public synchronized String read() {\n      while(empty) {\n        try {\n          wait();\n        } catch(InterruptedException e) {\n          \n        }\n      }\n      empty = true;\n      notifyAll();\n      //notifyAll() wakes up all threads and is more general in use than notify()\n      //NotifyAll() is a performance hit if not all threads need to be informed; \n      //in that case use notify())\n      return message;\n    }\n    \n    public synchronized void write(String message) {\n      while(!empty) {\n        try {\n          wait();\n        } catch(InterruptedException e) {\n          \n        }\n      }\n      empty = false;\n      this.message = message;\n      notifyAll();\n    }\n  }\n  \n  //Writer writes Strings to a object (not console), with randomly \n  //chosen time intervals (<= 2 sec) in between Strings\n\n  class Writer implements Runnable{\n    private Message message;\n    \n    public Writer(Message message) {\n      this.message = message;\n    }\n    \n    public void run() {\n      String messages[] = {\n          "Humpty Dumpty sat on a wall",\n          "Humpty Dumpty had a great fall",\n          "All the King\'s horses and all the King\'s men",\n          "Couldn\'t put Humpty back together again"\n      };\n      \n      Random random = new Random();\n      \n      for(int i = 0; i < messages.length; i++) {\n        message.write(messages[i]);\n        try {\n          // build an int between 0 and 2000\n          Thread.sleep(random.nextInt(2000));\n        } catch(InterruptedException e) {\n          System.out.println(e);\n        }\n      }\n      \n      //this last command triggers Reader to also terminate \n      message.write("Finished");\n    }\n  }\n  \n  class Reader implements Runnable{\n    private Message message;\n    \n    public Reader(Message message) {\n      this.message = message;\n    }\n    \n    public void run() {\n      Random random = new Random();\n      for(String latestMessage = message.read(); !latestMessage.equals("Finished");\n       latestMessage = message.read()) {\n        System.out.println(latestMessage);\n        try {Thread.sleep(random.nextInt(2000));\n        } catch(InterruptedException e) {\n          System.out.println(e);\n        }\n      }\n    }\n  }',this.twoConsumers='public class Main {\n\t\n    public static final String EOF = "EOF";\n  \n    public static void main(String[] args) {\n      //consumer - reader\n      //producer - writer to a buffer\n      List<String> buffer = new ArrayList<>();\n      \n      //three threads accessing the same object, buffer\n      MyProducer producer = new MyProducer(buffer, ThreadColour.ANSI_YELLOW);\n      MyConsumer consumer1 = new MyConsumer(buffer, ThreadColour.ANSI_PURPLE);\n      MyConsumer consumer2 = new MyConsumer(buffer, ThreadColour.ANSI_CYAN);\n      \n      new Thread(producer).start();\n      new Thread(consumer1).start();\n      new Thread(consumer2).start();\n    }\n  \n  }\n  \n  //writes to a list\n  class MyProducer implements Runnable{\n    \n    private List<String> buffer;\n    private String colour;\n    \n    public MyProducer(List<String> buffer, String colour) {\n      this.buffer = buffer;\n      this.colour = colour;\n    }\n    \n    public void run() {\n      Random random = new Random();\n      String[] nums = {"1", "2", "3", "4", "5"};\n      \n      for(String num: nums) {\n        try {\n          System.out.println(colour + "Adding..." + num);\n          //this prevents two or more threads from changing the ArrayList\n          synchronized (buffer) {\n            buffer.add(num);\n          }\n          Thread.sleep(random.nextInt(1000));\n        } catch(InterruptedException e) {\n          System.out.println("Producer was interrupted");\n        }\n      }\n      \n      System.out.println(colour + "Adding EOF and exiting...");\n      synchronized (buffer) {\n        buffer.add(Main.EOF);\n      }\n    }\n  }\n  \n  //prints then removes from a list (opens possibility for thread interference)\n  class MyConsumer implements Runnable{\n    \n    private List<String> buffer;\n    private String colour;\n    \n    public MyConsumer(List<String> buffer, String colour) {\n      this.buffer = buffer;\n      this.colour = colour;\n    }\n    \n    public void run() {\n      while(true) {\n        synchronized (buffer) {\n          if(buffer.isEmpty()) {\n            continue;\n            //keeps looping until something is present\n          }\n          if(buffer.get(0).equals(Main.EOF)) {\n            System.out.println(colour + "Exiting");\n            break;\n          } else {\n            //print out and remove a String from the list\n            System.out.println(colour + "Removed " + buffer.remove(0));\n          }\n        }\n      }\n    }\n  }',this.reEntrant='public class Main {\n    \n    public static final String EOF = "EOF";\n  \n    public static void main(String[] args) {\n\n      List<String> buffer = new ArrayList<>();\n\n      //bufferlock handles locks of objects and monitors \n      //the number of locks and therefore unlock required\n      //when locks >> unlocks, or unlocks >> locks, then an exception is thrown\n      ReentrantLock bufferlock = new ReentrantLock();\n      \n      //create a Thread Pool with three threads (this is \n      //not strictly necessary in this application with few\n      //threads but valuable for projects with large numbers \n      //of threads which can be managed by the JVM). This\n      //needs shutting down at the end of the program\n      ExecutorService executorService = Executors.newFixedThreadPool(3);\n      \n      //three threads accessing the same object, buffer\n      MyProducer producer = new MyProducer(buffer, ThreadColour.ANSI_YELLOW, bufferlock);\n      MyConsumer consumer1 = new MyConsumer(buffer, ThreadColour.ANSI_PURPLE, bufferlock);\n      MyConsumer consumer2 = new MyConsumer(buffer, ThreadColour.ANSI_CYAN, bufferlock);\n      \n      executorService.execute(producer);\n      executorService.execute(consumer1);\n      executorService.execute(consumer2);\n      \n      // shutdowns when all threads have completed their\n      // tasks (use shutdownNow() for immediate shutdown)\n      executorService.shutdown();\n    }\n  \n  }\n  \n  class MyProducer implements Runnable{\n    \n    private List<String> buffer;\n    private String colour;\n    private ReentrantLock bufferlock;\n    \n    public MyProducer(List<String> buffer,\n       String colour, ReentrantLock bufferlock) {\n      this.buffer = buffer;\n      this.colour = colour;\n      this.bufferlock = bufferlock;\n    }\n    \n    public void run() {\n      Random random = new Random();\n      String[] nums = {"1", "2", "3", "4", "5"};\n      \n      for(String num: nums) {\n        try {\n          System.out.println(colour + "Adding..." + num);\n          //alternative to synchronisation (make sure you unlock!!)\n          //the code waits here until the lock is released elsewhere\n          bufferlock.lock();\n          try {\n            buffer.add(num);\n          } finally {\n            bufferlock.unlock();\n          }\t\t\n          \n          Thread.sleep(random.nextInt(1000));\n        } catch(InterruptedException e) {\n          System.out.println("Producer was interrupted");\n        }\n      }\n      \n      System.out.println(colour + "Adding EOF and exiting...");\n      bufferlock.lock();\n      try {\n        buffer.add(Main.EOF);\n      } finally {\n        bufferlock.unlock();\n      }\n    }\n  }\n  \n  class MyConsumer implements Runnable{\n    \n    private List<String> buffer;\n    private String colour;\n    private ReentrantLock bufferlock;\n    \n    public MyConsumer(List<String> buffer,\n       String colour, ReentrantLock bufferlock) {\n      this.buffer = buffer;\n      this.colour = colour;\n      this.bufferlock = bufferlock;\n    }\n    \n    public void run() {\n      while(true) {\n        bufferlock.lock();\n        try {\n          if(buffer.isEmpty()) {\n            continue;\n          }\n          if(buffer.get(0).equals(Main.EOF)) {\n            System.out.println(colour + "Exiting");\n            break;\n          } else {\n            System.out.println(colour + "Removed " + buffer.remove(0));\n          }\n        } finally {\n          bufferlock.unlock();\n        }\t\t\t\n      }\n    }\n  }'}ngOnInit(){}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-javaproducerconsumerpage"]],decls:33,vars:6,consts:[[3,"highlight","languages","highlighted"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Synchronisation blocks"),Ks(),Ys(2,"p"),Sa(3," 'Thread-safe' code is that in which thread interference is not possible. Methods which can only be called within synchronised code are wait(), notify() and notifyAll(). The example shows these methods with a producer and a consumer example. Some methods are 'atomic' in that all threads cannot interrupt any part of the operation of an atomic method.\n"),Ks(),Ys(4,"p"),Sa(5," This also highlights 'deadlocks' on objects, where a thread has not released a handle on an object. An object lock is released with the notify() or notifyAll() methods. A thread waits to be notified of a release, with either notify() or nootifyAll(), with wait().\n"),Ks(),Ys(6,"pre"),Sa(7,"    "),Ys(8,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(9,"\n"),Ks(),Ys(10,"p"),Sa(11,' Another example shown below demonstrates how two consumers and one producer work in tandem. ArrayLists are not thread-safe, hence the ArrayList "buffer" is protected from thread interference with a dedicated synchronisation block.\n'),Ks(),Ys(12,"pre"),Sa(13,"    "),Ys(14,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(15,"\n"),Ks(),Ys(16,"p"),Sa(17," Synchronisation blocks must start and stop in the same method. There are numerous issues with synchronisation, including: "),Ks(),Ys(18,"ul"),Ys(19,"li"),Sa(20,"Blocked threads cannot continue or execute a timeout clause beyond a synchronisation block until they receive the lock; they're stuck indefinitely"),Ks(),Ys(21,"li"),Sa(22,"Fundamental lock status is not accessible at run-time"),Ks(),Ys(23,"li"),Sa(24,"Multiple threads waiting for the same lock are awarded the lock on a somewhat random basis, not according to FIFO. While priorities can be set, they should be considered 'suggestions'."),Ks(),Ks(),Ys(25,"h5"),Sa(26,"Introducing Java Util Concurrent"),Ks(),Ys(27,"p"),Sa(28," The Java Util Concurrent package attempts to address some of these issues. With more manual control of locks and what can occur while threads are blocked, the above is revised as follows:\n"),Ks(),Ys(29,"pre"),Sa(30,"    "),Ys(31,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(32,"\n"),Ks()),2&e&&(Nr(8),$s("highlight",t.messageExample)("languages",t.lang),Nr(6),$s("highlight",t.twoConsumers)("languages",t.lang),Nr(17),$s("highlight",t.reEntrant)("languages",t.lang))},directives:[Ig],styles:[""]}),e})(),Gg=(()=>{class e{constructor(){this.lang=["java"],this.deadlock='public class Main {\n    \n    //locks are fundamental of all Java objects\n    public static Object lock1 = new Object();\n    public static Object lock2 = new Object();\n    \n    public static void main(String[] args) {\n      new Thread1().start();\n      new Thread2().start();\n    }\n  \n    private static class Thread1 extends Thread {\n      \n      public void run() {\n        //grab lock 1\n        synchronized (lock1) {\n          System.out.println("Thread 1 has lock 1");\n          try {\n            Thread.sleep(100);\n          } catch(InterruptedException e) {\n            \n          }\n          System.out.println("Thread 1 waiting for lock 2");\n          \n          //try to grab lock 2 (this is where the problems start)\n          synchronized (lock2) {\n            System.out.println("Thread 1 has lock 1 and lock 2");\n          }\n          System.out.println("Thread 1 released lock 2");\n        }\n        System.out.println("Thread 1 released lock 1, exiting...");\n      }\n    }\n    \n    private static class Thread2 extends Thread {\n        \n        public void run() {\n          // changing lock2 <-> lock1 (and the readout messages) \n          // in this block would direct Thread2 to request \n          // locks in the same order as Thread1 and circumvent deadlocks\n          synchronized (lock2) {\n            System.out.println("Thread 2 has lock 2");\n            try {\n              Thread.sleep(100);\n            } catch(InterruptedException e) {\n              \n            }\n            System.out.println("Thread 2 waiting for lock 1");\n\n            //try to grab lock 1 (this is where the problems start)\n            synchronized (lock1) {\n              //written in the order the locks would have been obtained\n              System.out.println("Thread 2 has lock 2 and lock 1");\n            }\n            System.out.println("Thread 2 released lock 2");\n          }\n          System.out.println("Thread 2 released lock 1, exiting...");\n        }\n    }\n  }',this.starvation='public class Main {\n\n    private static Object lock = new Object();\n        \n    public static void main(String args[]) {\n      Thread t1 = new Thread(new Worker(ThreadColour.ANSI_RED), "Priority 10");\n      Thread t2 = new Thread(new Worker(ThreadColour.ANSI_BLUE), "Priority 8");\n      Thread t3 = new Thread(new Worker(ThreadColour.ANSI_GREEN), "Priority 6");\n      Thread t4 = new Thread(new Worker(ThreadColour.ANSI_CYAN), "Priority 4");\n      Thread t5 = new Thread(new Worker(ThreadColour.ANSI_PURPLE), "Priority 2");\n      \n      // OS suggestion only; not binding\n      t1.setPriority(10);\n      t2.setPriority(8);\n      t3.setPriority(6);\n      t4.setPriority(4);\n      t5.setPriority(2);\n      \n      // note how, on execution, the priority is not fully \n      // predetermined here (even by changing the order given here)\n      // but decided by the OS (also, try commenting out the \n      // setPriority() functions)\n      t1.start();\n      t2.start();\n      t3.start();\n      t4.start();\n      t5.start();\n    }\n       \n    // static inner classes (as opposed to regular inner classes) \n    // do not have reference to their outer class; using an inner class makes \n    // lock private and hidden\n    public static class Worker implements Runnable {\n\n      private int runCount = 1;\n      private String threadColour;\n      \n      public Worker(String threadColour) {\n        this.threadColour = threadColour;\n      }\n      \n      @Override\n      public void run() {\n        for(int i = 0; i < 100; i++) {\n          //as shown in main(), each thread will share the same lock\n          synchronized (lock) {\n            System.out.format(threadColour + "%s: runCount = %d\\n", \n            Thread.currentThread().getName(), runCount++);\n          }\n        }\n      }\n    }\n\n  }'}ngOnInit(){}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-javadeadlockspage"]],decls:16,vars:4,consts:[[3,"highlight","languages","highlighted"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Deadlocks"),Ks(),Ys(2,"p"),Sa(3," The deadlock arises because each thread is trying to acquire locks in different order. For example, thread1 seeks lock 1 then lock 2; thread2 seeks lock 2 then lock 1. If they tried to seek both locks in the same order then a deadlock would not occur. These issues can be further complicated with more locks.\n"),Ks(),Ys(4,"pre"),Sa(5,"    "),Ys(6,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(7,"\n"),Ks(),Ys(8,"h5"),Sa(9,"Starvation"),Ks(),Ys(10,"p"),Sa(11,' Starvation describes a situation where a thread is unable to gain regular access to shared resources and is unable to make progress. This happens when shared resources are made unavailable for long periods by "greedy" threads. The problem is due to how threads are prioritised. As already mentioned, priorities are not binding or contractual as far the OS is concerned.\n'),Ks(),Ys(12,"pre"),Sa(13,"    "),Ys(14,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(15,"\n"),Ks()),2&e&&(Nr(6),$s("highlight",t.deadlock)("languages",t.lang),Nr(8),$s("highlight",t.starvation)("languages",t.lang))},directives:[Ig],styles:[""]}),e})(),$g=(()=>{class e{constructor(){this.lang=["java"],this.fairlock='public class Main {\n\n    //first come first served for getting a lock\n    private static ReentrantLock lock = new ReentrantLock(true); \n    \n    public static void main(String args[]) {\n      Thread t1 = new Thread(new Worker(ThreadColour.ANSI_RED), "Priority 10");\n      Thread t2 = new Thread(new Worker(ThreadColour.ANSI_BLUE), "Priority 8");\n      Thread t3 = new Thread(new Worker(ThreadColour.ANSI_GREEN), "Priority 6");\n      Thread t4 = new Thread(new Worker(ThreadColour.ANSI_CYAN), "Priority 4");\n      Thread t5 = new Thread(new Worker(ThreadColour.ANSI_PURPLE), "Priority 2");\n      \n      //OS suggestion only; not binding\n      t1.setPriority(10);\n      t2.setPriority(8);\n      t3.setPriority(6);\n      t4.setPriority(4);\n      t5.setPriority(2);\n      \n      // note how, on execution, the priority is not fully \n      // predetermined here (even by changing the order given here)\n      // but decided by the OS (also, try commenting out the setPriority() functions)\n      t1.start();\n      t2.start();\n      t3.start();\n      t4.start();\n      t5.start();\n    }\n    \n    public static class Worker implements Runnable{\n      private int runCount = 1;\n      private String threadColour;\n      \n      public Worker(String threadColour) {\n        this.threadColour = threadColour;\n      }\n      \n      @Override\n      public void run() {\n        for(int i = 0; i < 100; i++) {\n          // as shown in main(), each thread will share the same lock\n          // not based on a synchronised block; note how \n          // t1 - t5 have more access to the lock, eliminating most of the\n          // starvation problems\n          lock.lock();\n          try {\n            System.out.format(threadColour + "%s: runCount = %d\\n",\n            Thread.currentThread().getName(), runCount++);\n          } finally {\n            lock.unlock();\n          }\n        }\n      }\n    }\n  }',this.livelocks='public class Main {\n\n    public static void main(String[] args) { \n      \n      final Worker worker1 = new Worker("Worker 1", true);\n      final Worker worker2 = new Worker("Worker 2", true);\n      \n      // set the sharedResource to worker1 for starters\n      final SharedResource sharedResource = new SharedResource(worker1);\n      \n      new Thread(new Runnable() {\n        @Override\n        public void run() {\n          worker1.work(sharedResource, worker2);\n        }\n      }).start();\n      \n      new Thread(new Runnable() {\n        @Override\n        public void run() {\n          worker2.work(sharedResource, worker1);\n        }\n      }).start();\n    }\n  }\n  \n  class Worker {\n\t\n    private String name;\n    private boolean active;\n\n    public Worker(String name, boolean active) {\n        this.name = name;\n        this.active = active;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public boolean isActive() {\n        return active;\n    }\n\n    public synchronized void work(SharedResource sharedResource, Worker otherWorker) {\n\n        while(active) {\n        \t// is sharedResource owner this object?\n            if(sharedResource.getOwner() != this) {\n                try {\n                    wait(10);\n                } catch(InterruptedException e) {\n\n                }\n                continue;\n            }\n\n            // wait until the other thread is not active\n            if(otherWorker.isActive()) {\n                System.out.println(getName() + " : give the resource to the worker " \n                + otherWorker.getName());\n                sharedResource.setOwner(otherWorker);\n                continue;\n            }\n\n            // if the resource is owned by this worker and the \n            // other thread is no longer active, then\n            // work on it, set this thread to inactive and \n            // pass ownership to the otherWorker\n            \n            // this condition never holds since both threads\n            // are constantly active; hence, livelock\n            System.out.println(getName() + ": working on the common resource");\n            active = false;\n            sharedResource.setOwner(otherWorker);\n        }\n    }\n}\n\n// simulates a shared resource\n\nclass SharedResource {\n    private Worker owner;\n\n    public SharedResource(Worker owner) {\n        this.owner = owner;\n    }\n\n    public Worker getOwner() {\n        return owner;\n    }\n\n    //only runs when a thread is finalised\n    public synchronized void setOwner(Worker owner) {\n        this.owner = owner;\n    }\n}\n  '}ngOnInit(){}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-javafairlockpage"]],decls:42,vars:4,consts:[["routerLink","/java/javaDeadlock"],[3,"highlight","languages","highlighted"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Fair locks"),Ks(),Ys(2,"p"),Sa(3," Fair reentrant locks are alternatives to synchronisation blocks and attempts to make locks on a FIFO basis. The small change comes from the utility of the ReentrantLock(true) method from the "),Ys(4,"a",0),Sa(5,"deadlocks"),Ks(),Sa(6," example.\n"),Ks(),Ys(7,"pre"),Sa(8,"    "),Ys(9,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(10,"\n"),Ks(),Ys(11,"h5"),Sa(12,"Light locks"),Ks(),Ys(13,"p"),Sa(14," Live locks are thread states which, while not blocked, cannot proceed because they are waiting for other threads to complete their task(s) "),Ys(15,"b"),Sa(16,"and"),Ks(),Sa(17," release their lock. The other threads are still active.\n"),Ks(),Ys(18,"pre"),Sa(19,"    "),Ys(20,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(21,"\n"),Ks(),Ys(22,"p"),Sa(23," When a thread is suspended on reading a condition and acting upon a given condition, this can give rise a "),Ys(24,"i"),Sa(25,"slipped condition"),Ks(),Sa(26,", a particular type of race condition or thread interference. Two or more threads can interfere with the each other when checking and setting the status. For example, thread 1 is satisfied and suspends temporarily, waiting for thread 2 to also verify before it takes the data. Thread 2 is also satisfied but then finds the end of a file, so thread 2 acts by extracting the data and then setting the condition to end of file. Thread 1 then asks for the data but finds end of file.\n"),Ks(),Ys(27,"h5"),Sa(28,"Atomic actions and volatile variables"),Ks(),Ys(29,"p"),Sa(30," Some actions and methods cannot be suspended, they complete before all other operations are executed. Some examples:\n"),Ks(),Ys(31,"ul"),Ys(32,"li"),Sa(33,"Assignment operations, variable1 = variable2"),Ks(),Ys(34,"li"),Sa(35,"Reading and writing of primitive data types, except for long and double"),Ks(),Ys(36,"li"),Sa(37,"Volatile variables"),Ks(),Ks(),Ys(38,"p"),Sa(39," CPUs operate on different threads and handle the same objects by taking the object from memory and storing it in the CPU's cache. Most modern day processors have multiple CPUs and therefore multiple caches. This introduces the problem of object synchronisation and consistency. To accommodate this, volatile variables are variables where the CPU cache is immediately offloaded to the system's memory to update all other copies of the object. This can be achieved by using the 'volatile' keyword. Note that race conditions are still possible with volatile variables!\n"),Ks(),Ys(40,"p"),Sa(41," The usage of volatile is dependent on the context. It is frequently used for establishing long and double atomic actions. Refer to the Java Util Concurrency Atomic package for more info.\n"),Ks()),2&e&&(Nr(9),$s("highlight",t.fairlock)("languages",t.lang),Nr(11),$s("highlight",t.livelocks)("languages",t.lang))},directives:[Tp,Ig],styles:[""]}),e})(),Xg=(()=>{class e{constructor(){this.lang=["java"],this.fileWriter='FileWriter someFile = null;\n  try {\n      someFile = new FileWriter("someFileName.txt");\n      for( ... ) {\n          someFile.write(POJO_getters_etc);\n      }\n  } catch(IOException e) {\n      e.printStackTrace();\n  } finally {\n      try {\n          if(someFile != null) {\n              // try to close the file and catch another exception\n              someFile.close();\n          }\n      } catch(IOException e) {\n          e.printStackTrace();\n      }\n  }',this.fileWriterWithResources='try(FileWriter someFile = new FileWriter("someFileName.txt")) {\n    for(...) {\n      someFile.write(POJO_getters_etc);\n    }\n}',this.fileReader='Scanner scanner = null;\ntry {\n    scanner = new Scanner(new FileReader("someFileName.txt"));\n    scanner.useDelimiter(",");\n\n    while(scanner.hasNextLine()) {\n        int someInt = scanner.nextInt();\n        scanner.skip(scanner.delimiter());\n        String someString = scanner.nextLine();\n\n        // feedback\n        System.out.println("Imported int: " + someInt);\n        System.out.println("Imported string: " + someString);\n\n        // copy to an Java object somewhere\n        Map<String, POJO> someHashMap = new HashMap<>();\n        someHashMap.put(someString, new POJO(someInt));\n    }\n\n} catch(IOException e) {\n    e.printStackTrace();\n} finally {\n    if(scanner != null) {\n        scanner.close();\n    }\n}',this.fileReaderWithBuffer='Scanner scanner = null;\ntry {\n    scanner = new Scanner(new Scanner(new BufferedReader(new FileReader("someFileName.txt")));\n    scanner.useDelimiter(",");\n\n    while(scanner.hasNextLine()) {\n        ...\n    }\n\n} catch(IOException e) {\n    e.printStackTrace();\n} finally {\n    if(scanner != null) {\n        scanner.close();\n    }\n}',this.fileReaderWithBufferWithResources='try {\n  (BufferedReader reader = new BufferedReader(new FileReader"someFileName.txt")));\n    while(reader.readLine() != null) {\n        ...\n    }\n} catch(IOException e) {\n    e.printStackTrace();\n}'}ngOnInit(){}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-javafileiopage"]],decls:36,vars:10,consts:[[3,"highlight","languages","highlighted"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Java File I/O"),Ks(),Ys(2,"p"),Sa(3," First, we start of with the FileWriter class with the help of an output stream. FileWriter is meant for writing streams of characters. For writing streams of raw bytes, use FileOutputStream. With regard to text files, the order in which data is printed to and extracted from must clearly match.\n"),Ks(),Ys(4,"pre"),Sa(5,"    "),Ys(6,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(7,"\n"),Ks(),Ys(8,"p"),Sa(9," Other statements or conditional statements or iterative blocks can be applied to print to the text file as required. Closing the file (the file stream) is important. The IOExceptions (checked exceptions, which cannot be ignored on compile time) are thrown when errors are encountered (e.g. read-only access, file not accessible).\n"),Ks(),Ys(10,"p"),Sa(11," The more concise way of implementing the above segment, when no specific action is taken after an exception (other than print exception stack traces), is to use try with resources (new to Java 7). Remember to add the 'throws IOException' to the method signature. The stream is automatically closed.\n"),Ks(),Ys(12,"pre"),Sa(13,"    "),Ys(14,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(15,"\n"),Ks(),Ys(16,"p"),Sa(17," To read from the text file, one can use the FileReader class. This can be implemented with the Scanner class (this automatically closes FileReader, which implements the Closeable interface). The delimiter represents the end of a line as such and is a recommended.\n"),Ks(),Ys(18,"pre"),Sa(19,"    "),Ys(20,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(21,"\n"),Ks(),Ys(22,"p"),Sa(23," Note that the while loop implementation requires the program to look for the next input so a buffered approach, where entire file contents are read, is more efficient. Like FileReader, BufferedReader implements the Closeable interface.\n"),Ks(),Ys(24,"pre"),Sa(25,"    "),Ys(26,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(27,"\n"),Ks(),Ys(28,"p"),Sa(29," As above, one can convert the try-finally block with a try-with-resources block. In this case, the scanner has been removed and each line is read one at a time. The catch block has been left in for demonstration purposes.\n"),Ks(),Ys(30,"pre"),Sa(31,"    "),Ys(32,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(33,"\n"),Ks(),Ys(34,"p"),Sa(35," A BufferedWriter can take a FileWriter instance in much the same way as a BufferReader takes in a FileReader.\n"),Ks()),2&e&&(Nr(6),$s("highlight",t.fileWriter)("languages",t.lang),Nr(8),$s("highlight",t.fileWriterWithResources)("languages",t.lang),Nr(6),$s("highlight",t.fileReader)("languages",t.lang),Nr(6),$s("highlight",t.fileReaderWithBuffer)("languages",t.lang),Nr(6),$s("highlight",t.fileReaderWithBufferWithResources)("languages",t.lang))},directives:[Ig],styles:[""]}),e})(),Yg=(()=>{class e{constructor(){this.lang=["java"],this.writeByteStreams='public someFunc() throws IOException {\n    try (DataOutputStream someFile = new DataOutputStream(\n      new BufferedOutputStream(new FileOutputStream("someFileName.dat")))) {\n        for (...) {\n          someFile.writeInt(somePOJO.getIntValue);\n          someFile.writeUTF(somePOJO.getSomeString());\n        }\n    }\n  }',this.readByteStreams='try(DataInputStream someFile = \n    new DataInputStream(new BufferedInputStream(new FileInputStream("someFileName.dat")))) {\n    boolean eof = false;\n    while(!eof) {\n        try {\n            int someInt = someFile.readInt();\n            String someString = someFile.readUTF();\n            \n            System.out.println("Int found " someInt);\n            System.out.println("String found " + someString);            \n        } catch(EOFException e) {\n          // this ultimately forces the loop to terminate at\n            eof = true;\n        }\n    }\n} catch(IOException io) {\n    System.out.println("IO Exception: " + io.printStackTrace());\n}',this.serialisable="public class SomeClass implements Serializable{\n   // SomeClass properties; all classes instanced here must also implement Serializable\n  private long serialVersionUID = 1L;\n  ...\n  ",this.objectOutputStream='try (ObjectOutputStream someFile = \n    new ObjectOutputStream(\n      new BufferedOutputStream(new FileOutputStream("someFileName.dat")))) {\n    for(...) {\n      someFile.writeObject(objectInstance);\n    }\n}',this.objectInputStream='try(ObjectInputStream someFile = \n  new ObjectInputStream(\n    new BufferedInputStream(new FileInputStream("someFileName.dat")))) {\n  boolean eof = false;\n  while(!eof) {\n      try {\n          POJO pojo = (POJO) someFile.readObject();\n          System.out.println("Got object with int " + pojo.getInt());\n          System.out.println("Got object with long " + pojo.getLong());\n          ...\n      } catch(EOFException e) {\n        // terminate the loop here\n          eof = true;\n      }\n  }\n} catch(IOException io) {\n  System.out.println("IO Exception" + io.getMessage());\n} catch(ClassNotFoundException e) {\n  System.out.println("ClassNotFoundException " + e.getMessage());\n}'}ngOnInit(){}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-javabinaryiopage"]],decls:42,vars:10,consts:[[3,"highlight","languages","highlighted"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Java Binary I/O"),Ks(),Ys(2,"p"),Sa(3," Binary data is often referred to as byte streams. This contrasts to readable text files covered elsewhere. Byte streams handle Java primitive types and the String objects only. FileWriter and FileReader are replaced with FileInputStream and FileOutputStream, and their buffered classes also apply.\n"),Ks(),Ys(4,"pre"),Sa(5,"    "),Ys(6,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(7,"\n"),Ks(),Ys(8,"p"),Sa(9," Under the hood, the methods shift bits as they send data along the byte stream to a file. Hence, the resultant file is largely unreadable in part.\n"),Ks(),Ys(10,"p"),Sa(11," One can read from a byte stream as folows:\n"),Ks(),Ys(12,"pre"),Sa(13,"    "),Ys(14,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(15,"\n"),Ks(),Ys(16,"h5"),Sa(17,"Java objects and serialisation"),Ks(),Ys(18,"p"),Sa(19," One can store the fields or properties of a Java object in a file. To do this, one must convert the object the object into a form which can be saved, a process known as serialisation. While doing so, a serial UUID is needed and is generated by default. It is generally recommended to override the UUID that is normally provided. One declares the interface Serializable, a function-less interface. All classes instantiated in a given class must also implement the Serializable interface. All Java primitives are serialisable.\n"),Ks(),Ys(20,"pre"),Sa(21,"    "),Ys(22,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(23,"\n"),Ks(),Ys(24,"p"),Sa(25," The Java object can be stored to disk as follows:\n"),Ks(),Ys(26,"pre"),Sa(27,"    "),Ys(28,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(29,"\n"),Ks(),Ys(30,"p"),Sa(31," Storing and retrieving objects as opposed to saving to binary or text files one property at a time is much simpler to code. It is possible to mix serialised objects and primitive types in the stream and resultant file.\n"),Ks(),Ys(32,"p"),Sa(33," The object can be read from a binary file as follows:\n"),Ks(),Ys(34,"pre"),Sa(35,"    "),Ys(36,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(37,"\n"),Ks(),Ys(38,"p"),Sa(39,' As a side-note, the RandomAccessFile is briefly mentioned here. This file can be considered a flat-file form of a database system, where data occupies given uniform locations in a file, just as an array is organised. Taken from the official docs: "Instances of this class support both reading and writing to a random access file. A random access file behaves like a large array of bytes stored in the file system. There is a kind of cursor, or index into the implied array, called the file pointer; input operations read bytes starting at the file pointer and advance the file pointer past the bytes read."\n'),Ks(),Ys(40,"p"),Sa(41," In many cases, if a RandomAccessFile is considered then it may prove more efficient to employ a database system, such SQL.\n"),Ks()),2&e&&(Nr(6),$s("highlight",t.writeByteStreams)("languages",t.lang),Nr(8),$s("highlight",t.readByteStreams)("languages",t.lang),Nr(8),$s("highlight",t.serialisable)("languages",t.lang),Nr(6),$s("highlight",t.objectOutputStream)("languages",t.lang),Nr(8),$s("highlight",t.objectInputStream)("languages",t.lang))},directives:[Ig],styles:[""]}),e})(),Kg=(()=>{class e{constructor(){this.lang=["java"],this.NIOtext='public someFunction() throws IOException {\n\n    Path somePath = FileSystems.getDefault().getPath("textFileName.txt");\n    try (BufferedWriter someBufferedWriter = Files.newBufferedWriter(somePath)) {\n        for(...) {\n          // write to the text file\n          someBufferedWriter.write(pojo.getInt());\n          ...\n        }\n    } catch(IOException e) {\n        System.out.println("IOException: " + e.getMessage());\n    }\n\n    // reading from a text file\n    try (Scanner scanner = new Scanner(Files.newBufferedReader(somePath))) {\n      scanner.useDelimiter(",");\n\n      while(scanner.hasNextLine()) {\n          int someInt = scanner.nextInt();\n          scanner.skip(scanner.delimiter());\n          String someString = scanner.nextLine();\n          ...\n      }\n    } catch(IOException e) {\n        e.printStackTrace();\n    }\n}',this.NIObinary='public someFunc() throws IOException {\n\n  Path somePath = FileSystems.getDefault().getPath("someFileName.dat");\n  try (ObjectOutputStream objectStream = \n    new ObjectOutputStream(\n      new BufferedOutputStream(Files.newOutputStream(somePath)))) {\n      for(...) {\n        objectStream.writeObject(pojoInstance);\n      }\n  }\n  \n  // reading from a binary file\n  Path somePath = FileSystems.getDefault().getPath("someFileName.dat");\n        try (ObjectInputStream someStream = \n          new ObjectInputStream(\n            new BufferedInputStream(Files.newInputStream(somePath)))) {\n            boolean eof = false;\n            while(!eof) {\n                try {\n                    POJO pojo = (POJO) someStream.readObject();\n                    // do something with pojo\n                  } catch(EOFException e) {\n                    eof = true;\n                }\n            }\n        } catch(InvalidClassException e) {\n            System.out.println("InvalidClassException " + e.getMessage());\n        } catch(IOException e) {\n            System.out.println("IOException " + e.getMessage());\n        } catch(ClassNotFoundException e) {\n            System.out.println("ClassNotFoundException " + e.getMessage());\n        }\n    }\n  ',this.soleNIOText='try {\n      //JDK 8 or above only\n      Path dataPath = FileSystems.getDefault().getPath("data.txt");\n\n      // open, write the bytes then close the file in one go\n      Files.write(dataPath, "\\nLine 5".getBytes("UTF-8"), StandardOpenOption.APPEND);\n\n      // default is to read assuming UTF\n      List<String> lines = Files.readAllLines(dataPath);\n      for(String line : lines) {\n        // do something with each line\n      }\n    } catch(IOException e) {\n        e.printStackTrace();\n    }',this.soleNIOBinary='try(\n      FileOutputStream binFile = new FileOutputStream("data.dat");\n      FileChannel binChannel = binFile.getChannel()) {\n\n        byte[] outputBytes = "Hello World!".getBytes();\n\n        // couple a Buffer to the array (no relation to data.dat yet)\n        ByteBuffer buffer = ByteBuffer.wrap(outputBytes);\n\n        // send buffer\'s data to, eventually, data.dat and confirm\n        int numBytes = binChannel.write(buffer);\n        System.out.println("numBytes written was: " + numBytes);\n        // at this stage buffer\'s pointer is at the end of the buffer \n        // see read() snippet below***\n\n        // start another buffer, with potentially different capacity\n        // this time set by allocate() instead of wrap()\n        ByteBuffer intBuffer = ByteBuffer.allocate(Integer.BYTES);\n\n        // methods, including putInt() advance the buffer\'s position\n        intBuffer.putInt(245);\n\n        intBuffer.flip();\n\n        // send intBuffer, now at the position zero, to data.dat\n        numBytes = binChannel.write(intBuffer);\n        System.out.println("numBytes written was: " + numBytes);\n\n        // intBuffer can only store one Integer at a time so reset\n        // Once reset, overwrite the previous value 245 with -98765 and \n        // then send it to data.dat\n        intBuffer.flip();\n        intBuffer.putInt(-98765);\n        intBuffer.flip();\n        numBytes = binChannel.write(intBuffer);\n        System.out.println("numBytes written was: " + numBytes);\n\n} catch(IOException e) {\n  e.printStackTrace();\n}',this.soleNIOread='RandomAccessFile ra = new RandomAccessFile("data.dat", "rwd");\nFileChannel channel = ra.getChannel();\n\n// outputBytes is coupled to buffer; however, buffer pointer is at the end\n// of the buffer *** see above write() snippet; \n\n// this only affects outputBytes not buffer (buffer pointer is at the end)\noutputBytes[0] = \'a\';\noutputBytes[1] = \'b\';\n\nbuffer.flip();\nlong numBytesRead = channel.read(buffer);\n\n// reads all character bytes ("Hello World!" not "abllo World!" \n// since the buffer hasn\'t be updated)\nif(buffer.hasArray()) {\n  // print the entire array\'s contents\n  System.out.println("byte buffer = " + new String(buffer.array()));\n}',this.soleNIOAbsoluteRead="// Absolute read (passed index to getInt())\nintBuffer.flip();\nnumBytesRead = channel.read(intBuffer);\nSystem.out.println(intBuffer.getInt(0));\nintBuffer.flip();\nnumBytesRead = channel.read(intBuffer);\nSystem.out.println(intBuffer.getInt(0));\n\nchannel.close();\nra.close();",this.soleNIORelativeRead="// Relative read (no parameters passed to getInt())\nintBuffer.flip();\nnumBytesRead = channel.read(intBuffer);\nintBuffer.flip();\nSystem.out.println(intBuffer.getInt());\nintBuffer.flip();\nnumBytesRead = channel.read(intBuffer);\nintBuffer.flip();\nSystem.out.println(intBuffer.getInt());\n\nchannel.close();\nra.close();",this.FileChannel='RandomAccessFile someFile = \nnew RandomAccessFile("someFileName.dat", "rw");\nFileChannel someFileChannel = someFile.getChannel();\n\n// optional: set the position from which other \n// channels start in someOtherChannel when transferring data\n// from someOtherChannel\n// someOtherChannel.position(0);\n\n// transfers from someOtherChannel to someFileChannel\n// returns the value transferred and is used here for confirmation\nlong someLong = someOtherChannel.transferTo(\n  0, someOtherChannel.size(), someFileChannel);',this.FileChannel2='RandomAccessFile someFile = \n  new RandomAccessFile("someFileName.dat", "rw");\n  FileChannel someFileChannel = someFile.getChannel();\n  \n  // optional\n  // someOtherChannel.position(0);\n  \n  // transfers from someOtherChannel to someFileChannel\n  long someLong = someFileChannel.transferFrom(\n    someOtherChannel, 0, someOtherChannel.size());',this.pipes='try {\n      Pipe pipe = Pipe.open();\n\n      Runnable writer = new Runnable() {\n          @Override\n          public void run() {\n              try {\n                  Pipe.SinkChannel sinkChannel = pipe.sink();\n                  ByteBuffer buffer = ByteBuffer.allocate(56);\n\n                  for(int i=0; i<10; i++) {\n                      String currentTime = "The time is: " + System.currentTimeMillis();\n\n                      buffer.put(currentTime.getBytes());\n                      buffer.flip();\n\n                      while(buffer.hasRemaining()) {\n                          sinkChannel.write(buffer);\n                      }\n                      buffer.flip();\n                      // give the reader a chance to read from the pipe\'s source channel\n                      Thread.sleep(100);\n\n                  }\n\n              } catch(Exception e) {\n                  e.printStackTrace();\n              }\n          }\n      };\n\n\n      Runnable reader = new Runnable() {\n          @Override\n          public void run() {\n\n              try {\n                  Pipe.SourceChannel sourceChannel = pipe.source();\n                  ByteBuffer buffer = ByteBuffer.allocate(56);\n\n                  for(int i=0; i<10; i++) {\n                      int bytesRead = sourceChannel.read(buffer);\n                      byte[] timeString = new byte[bytesRead];\n                      buffer.flip();\n                      buffer.get(timeString);\n                      System.out.println("Reader Thread: " + new String(timeString));\n                      buffer.flip();\n\n                      // wait for the sink channel to have more data written\n                      Thread.sleep(100);\n                  }\n\n              } catch(Exception e) {\n                  e.printStackTrace();\n              }\n\n          }\n      };\n\n      new Thread(writer).start();\n      new Thread(reader).start();\n\n  } catch(IOException e) {\n      e.printStackTrace();\n  }'}ngOnInit(){}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-javaniopage"]],decls:126,vars:20,consts:[[3,"highlight","languages","highlighted"],[1,"commands"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Java NIO files"),Ks(),Ys(2,"p"),Sa(3," The Java NIO was introduced to provide a non-blocking implementation of Java IO. The speed and other design features of Java NIO as to whether the newer package is more effective or preferable is still debated. Java NIO handles streams in blocks of data.\n"),Ks(),Ys(4,"h5"),Sa(5,"Text files (NIO with IO)"),Ks(),Ys(6,"p"),Sa(7," The first example below shows how text files are handled. In most cases, one uses a Path class with NIO and pass it to an instance of a Files class.\n"),Ks(),Ys(8,"pre"),Sa(9,"    "),Ys(10,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(11,"\n"),Ks(),Ys(12,"h5"),Sa(13,"Binary files with serialisable objects (NIO with IO)"),Ks(),Ys(14,"p"),Sa(15," Handling of binary files with NIO as shown below. Take note of the exceptions covered:\n"),Ks(),Ys(16,"pre"),Sa(17,"    "),Ys(18,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(19,"\n"),Ks(),Ys(20,"h5"),Sa(21,"Exclusive use of NIO"),Ks(),Ys(22,"p"),Sa(23," Some terminology:\n"),Ks(),Ys(24,"ul"),Ys(25,"li"),Sa(26,"A "),Ys(27,"b"),Sa(28,"channel"),Ks(),Sa(29," is the data-source written to or read from"),Ks(),Ys(30,"li"),Sa(31,"A "),Ys(32,"b"),Sa(33,"buffer"),Ks(),Sa(34," is the container for the block of data passed (data must be of one type) and can be varied in length "),Ks(),Ys(35,"li"),Ys(36,"b"),Sa(37,"Selectors"),Ks(),Sa(38," (mostly used in large enterprise development) allow a single thread to manage multiple channels"),Ks(),Ks(),Ys(39,"p"),Sa(40," One channel can serve both reading and writing, and need not be buffered.\n"),Ks(),Ys(41,"h5"),Sa(42,"Writing data to a binary file"),Ks(),Ys(43,"pre"),Sa(44,"    "),Ys(45,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(46,"\n"),Ks(),Ys(47,"p"),Sa(48," There are two methods which exemplify one of the main uses of Java NIO: "),Ys(49,"b"),Sa(50,"wrap()"),Ks(),Sa(51," and "),Ys(52,"b"),Sa(53,"flip()"),Ks(),Sa(54,". The wrap() method:\n"),Ks(),Ys(55,"ul"),Ys(56,"li"),Sa(57,"ties the buffer with the byte array; changes to either one affects the other"),Ks(),Ys(58,"li"),Sa(59,"sets the position (index of the next element, <= capacity) of the buffer to zero"),Ks(),Ys(60,"li"),Sa(61,"the buffer's capacity (no. of elements) is set according to the size of the byte array (thus wrap() has a set capacity)"),Ks(),Ys(62,"li"),Sa(63,"the buffer's mark (initially undefined and used as a custom pointer; buffer's reset() sets the pointer to mark's) is undefined"),Ks(),Ks(),Ys(64,"p"),Sa(65," Each operation on the buffer (getInt() and putInt(), for example) advances the buffer's pointer one place forward. Quite often one needs to reset the pointer before reading or writing from/to the buffer. This is achieved with the flip() method. The flip() method also discards any custom mark. The example below writes Hello World followed by two Integers.\n"),Ks(),Ys(66,"pre"),Sa(67,"    "),Ys(68,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(69,"\n"),Ks(),Ys(70,"h5"),Sa(71,"Reading data from a binary file"),Ks(),Ys(72,"p"),Sa(73," The following section is a continuation of the above try block.\n"),Ks(),Ys(74,"p"),Sa(75," The read() method: "),Ys(76,"span",1),Sa(77,"public int read(byte[] b) throws IOException"),Ks(),Ks(),Ys(78,"ul"),Ys(79,"li"),Sa(80," Reads some number of bytes from the input stream and stores them into the buffer array b. The number of bytes actually read is returned as an integer. This method blocks until input data is available, end of file is detected, or an exception is thrown. "),Ks(),Ys(81,"li"),Sa(82," If the length of b is zero, then no bytes are read and 0 is returned; otherwise, there is an attempt to read at least one byte. If no byte is available because the stream is at the end of the file, the value -1 is returned; otherwise, at least one byte is read and stored into b. "),Ks(),Ys(83,"li"),Sa(84," The first byte read is stored into element b[0], the next one into b[1], and so on. The number of bytes read is, at most, equal to the length of b. Let k be the number of bytes actually read; these bytes will be stored in elements b[0] through b[k-1], leaving elements b[k] through b[b.length-1] unaffected. "),Ks(),Ks(),Ys(85,"p"),Sa(86," The following sends the input stream data (data.dat via channel) to 'buffer', with read(). Hint: whenever \"flipping\" from read to write, or vice versa, always call flip().\n"),Ks(),Ys(87,"pre"),Sa(88,"    "),Ys(89,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(90,"\n"),Ks(),Ys(91,"p"),Sa(92," One can access a particular element of the buffer with absolute read. Consequently, there is no need to always call flip().\n"),Ks(),Ys(93,"pre"),Sa(94,"    "),Ys(95,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(96,"\n"),Ks(),Ys(97,"p"),Sa(98," With relative reads, the flip() method is used more often.\n"),Ks(),Ys(99,"pre"),Sa(100,"    "),Ys(101,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(102,"\n"),Ks(),Ys(103,"h5"),Sa(104,"Copying files between channels and threads"),Ks(),Ys(105,"p"),Sa(106," Files are coupled to Java NIO channels, and as such, one can copy file contents via their channels. The following transferTo() sends data from someOtherChannel to someFileChannel.\n"),Ks(),Ys(107,"pre"),Sa(108,"    "),Ys(109,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(110,"\n"),Ks(),Ys(111,"p"),Sa(112," Note that the position parameter is relative to the current position in the channel. One can also send data with respect to the destination channel with transferFrom(). The following is equivalent to the above transferTo().\n"),Ks(),Ys(113,"pre"),Sa(114,"    "),Ys(115,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(116,"\n"),Ks(),Ys(117,"p"),Sa(118," One can also transfer data between threads, via "),Ys(119,"b"),Sa(120,"pipes"),Ks(),Sa(121,". Pipes are one-way.\n"),Ks(),Ys(122,"pre"),Sa(123,"    "),Ys(124,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(125,"\n"),Ks()),2&e&&(Nr(10),$s("highlight",t.NIOtext)("languages",t.lang),Nr(8),$s("highlight",t.NIObinary)("languages",t.lang),Nr(27),$s("highlight",t.soleNIOText)("languages",t.lang),Nr(23),$s("highlight",t.soleNIOBinary)("languages",t.lang),Nr(21),$s("highlight",t.soleNIOread)("languages",t.lang),Nr(6),$s("highlight",t.soleNIOAbsoluteRead)("languages",t.lang),Nr(6),$s("highlight",t.soleNIORelativeRead)("languages",t.lang),Nr(8),$s("highlight",t.FileChannel)("languages",t.lang),Nr(6),$s("highlight",t.FileChannel2)("languages",t.lang),Nr(9),$s("highlight",t.pipes)("languages",t.lang))},directives:[Ig],styles:[".commands[_ngcontent-%COMP%]{color:#008b8b;padding:2px}"]}),e})(),Zg=(()=>{class e{constructor(){this.lang=["java"],this.path='\n  Path path = FileSystems.getDefault().getPath("fileName.txt");\n  printFile(path);  // defined below\n  ',this.handlePath="\n  private void printFile(Path path) {\n    try(BufferedReader fileReader = Files.newBufferedReader(path)) {\n        String line;\n        while((line = fileReader.readLine()) != null) {\n            // do stuff with the line\n        }\n    } catch(IOException e) {\n        System.out.println(e.getMessage());\n    }\n  }",this.workingDir='filePath = Paths.get(".");\n  System.out.println(filePath.toAbsolutePath());',this.usingRelativeToWorking='// find ./dir2/someFile.txt\n  Path path2 = FileSystems.getDefault().getPath("dir2", "someFile.txt");\n\n  // find ../siblingDir/someFile.txt; note that .. moves up to the parent\n  Path path3 = FileSystems.getDefault().getPath("..", "siblingDir", "someFile.txt");\n\n  // print the full juxtaposed path with normalize()\n  System.out.println(path2.normalize().toAbsolutePath());\n  printFile(path2.normalize());',this.fileExists='Path filePath = FileSystems.getDefault().getPath("files");\nSystem.out.println("Exists = " + Files.exists(filePath));',this.copyFile='try {\n    Path sourceFile = FileSystems.getDefault().getPath("someDir", "file.txt");\n    Path copyFile = FileSystems.getDefault().getPath("someDir", "fileCopy.txt");\n    Files.copy(sourceFile, copyFile);\n} catch(IOException e) {\n    e.printStackTrace();\n}',this.moveRenameDeleteFile='try {\n  Path fileToDelete = FileSystems.getDefault().getPath("parentDir", "Dir1", "fileCopy.txt");\n  Files.deleteIfExists(fileToDelete);\n\n  Path fileToMove = FileSystems.getDefault().getPath("parentDir", "file2.txt");\n  Path destination = FileSystems.getDefault().getPath("parentDir", "childDir", "file2.txt");\n  Files.move(fileToMove, destination);\n\n  // use copy() to replace the given file and effectively rename it\n  // again, note that no exceptions are thrown at this stage\n  sourceFile = FileSystems.getDefault().getPath("parentDir", "fileX");\n  copyFile = FileSystems.getDefault().getPath("parentDir", "fileY");\n  Files.copy(sourceFile, copyFile, StandardCopyOption.REPLACE_EXISTING);\n\n} catch(IOException e) {\n  System.out.println(e.getMessage());\n}',this.fileAttributes='Path filePath = FileSystems.getDefault().getPath("exampleDir", "subDir/file.txt");\nBasicFileAttributes attrs = Files.readAttributes(filePath, BasicFileAttributes.class);\n\nSystem.out.println("Size =  " + attrs.size());\nSystem.out.println("Last modified =  " + attrs.lastModifiedTime());\nSystem.out.println("Created = " + attrs.creationTime());\nSystem.out.println("Is directory = " + attrs.isDirectory());\nSystem.out.println("Is regular file = " + attrs.isRegularFile());',this.readDirectory='// pass this filter instead of "*.sql" \n// DirectoryStream.Filter<Path> filter = p -> Files.isRegularFile(p);\n\nPath directory = FileSystems.getDefault().getPath("FileTree/Dir");\n\ntry (DirectoryStream<Path> contents = Files.newDirectoryStream(directory, "*.sql")) {\n    for (Path file : contents) {\n        System.out.println(file.getFileName());\n    }\n\n    // catch either exception with a bitwise OR\n} catch (IOException | DirectoryIteratorException e) {\n    System.out.println(e.getMessage());\n}',this.fileSeparator='Path directory = FileSystems.getDefault().getPath("dirTree" + File.separator + "descendantDir");\n\n// print the separator\nString separator = FileSystems.getDefault().getSeparator();\n',this.tempFiles='try {\n  // filePrefix is not normally the final filename\n  Path tempFile = Files.createTempFile("filePrefix", ".suffix");\n  System.out.println("Temporary file path = " + tempFile.toAbsolutePath());\n\n} catch(IOException e) {\n  System.out.println(e.getMessage());\n}',this.drivesAndRoot='Iterable<FileStore> stores = FileSystems.getDefault().getFileStores();\nfor(FileStore store : stores) {\n    // output is OS specific\n    System.out.println("Volume name/Drive letter = " + store);\n    System.out.println("file store = " + store.name());\n}\n\nIterable<Path> rootPaths = FileSystems.getDefault().getRootDirectories();\nfor(Path path : rootPaths) {\n    System.out.println("Root directory: " + path);\n}',this.walkingTheTree='Path dirPath = FileSystems.getDefault().getPath("fileTree" + File.separator + "someDir");\ntry {\n  // using the extension, PrintNames, below\n    Files.walkFileTree(dirPath, new PrintNames());\n} catch(IOException e) {\n    System.out.println(e.getMessage());\n}',this.printFileNames='public class PrintNames extends SimpleFileVisitor<Path> {\n\n  // handles files\n  @Override\n  public FileVisitResult visitFile(Path file, BasicFileAttributes attrs)\n   throws IOException {\n      System.out.println(file.toAbsolutePath());\n      return FileVisitResult.CONTINUE;\n  }\n\n  // handles methods run before a directory is processed\n  // there are other methods e.g. postVisitDirectory which can be overridden\n  @Override\n  public FileVisitResult preVisitDirectory(Path dir, BasicFileAttributes attrs)\n   throws IOException {\n      System.out.println(dir.toAbsolutePath());\n      return FileVisitResult.CONTINUE;\n  }\n\n  // override the default IOException throwing behaviour if a file is not found\n  @Override\n  public FileVisitResult visitFileFailed(Path file, IOException exc)\n   throws IOException {\n      System.out.println("Error accessing file: " + file.toAbsolutePath() \n        + " " + exc.getMessage());\n      return FileVisitResult.CONTINUE;\n  }\n}',this.copyFilesFound='Path source = FileSystems.getDefault().getPath(\n  "FileTree" + File.separator + "subDir");\nPath destination = FileSystems.getDefault().getPath(\n  "FileTree" + File.separator + "subDir" + File.separator + "anotherSubDir");\ntry {\n    Files.walkFileTree(source, new CopyFiles(source, destination));\n\n} catch(IOException e) {\n    System.out.println(e.getMessage());\n}',this.copyFilesFoundSupport='public class CopyFiles extends SimpleFileVisitor<Path> {\n\n  private Path sourceRoot;\n  private Path targetRoot;\n\n  public CopyFiles(Path sourceRoot, Path targetRoot) {\n      this.sourceRoot = sourceRoot;\n      this.targetRoot = targetRoot;\n  }\n\n  @Override\n  public FileVisitResult visitFileFailed(Path file, IOException exc)\n   throws IOException {\n      System.out.println("Error accessing file: " + file.toAbsolutePath() \n      + " " + exc.getMessage());\n      return FileVisitResult.CONTINUE;\n  }\n\n  @Override\n  public FileVisitResult preVisitDirectory(Path dir, BasicFileAttributes attrs)\n   throws IOException {\n\n    // get relative path (removes root path info from absolute source path)\n    // of source directory\n    Path relativizedSourcePath = sourceRoot.relativize(dir);\n    System.out.println("relativizedSourcePath = " + relativizedSourcePath);\n\n    // appends the source relative path to destination target absolute path\n    Path destinationPath = targetRoot.resolve(relativizedSourcePath);\n    System.out.println("Resolved path for copy = " + destinationPath);\n\n    try {\n        Files.copy(dir, destinationPath);\n    } catch(IOException e) {\n        System.out.println(e.getMessage());\n        // since this directory has errors, skip its sub-directories too\n        return FileVisitResult.SKIP_SUBTREE;\n    }\n\n    return FileVisitResult.CONTINUE;\n  }\n\n  @Override\n  public FileVisitResult visitFile(Path file, BasicFileAttributes attrs)\n   throws IOException {\n      Path relativizedSourcePath = sourceRoot.relativize(file);\n      System.out.println("relativizedSourcePath = " + relativizedSourcePath);\n\n      Path destinationPath = targetRoot.resolve(relativizedSourcePath);\n      System.out.println("Resolved path for copy = " + destinationPath);\n\n      try {\n          Files.copy(file, destinationPath);\n      } catch(IOException e) {\n          System.out.println(e.getMessage());\n      }\n\n      return FileVisitResult.CONTINUE;\n  }\n}'}ngOnInit(){}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-javanio-filesyspage"]],decls:126,vars:32,consts:[[3,"highlight","languages","highlighted"],["href","https://docs.oracle.com/javase/8/docs/api/java/nio/file/attribute/BasicFileAttributes.html","target","_blank"],["href","https://docs.oracle.com/javase/8/docs/api/java/nio/file/FileSystem.html#getPathMatcher-java.lang.String-","target","_blank"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Java NIO filesystems"),Ks(),Ys(2,"p"),Sa(3," The Java NIO's Path interface handles a files path information.\n"),Ks(),Ys(4,"pre"),Sa(5,"    "),Ys(6,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(7,"\n"),Ks(),Ys(8,"p"),Sa(9," One can use the Path instance to access the file with BufferedReader or BufferWriter.\n"),Ks(),Ys(10,"pre"),Sa(11,"    "),Ys(12,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(13,"\n"),Ks(),Ys(14,"p"),Sa(15," One can get the working directory with the dotted notation and return the absolute path with:\n"),Ks(),Ys(16,"pre"),Sa(17,"    "),Ys(18,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(19,"\n"),Ks(),Ys(20,"p"),Sa(21," Working directories are also retrieved using getDefault(). One can also pass each segment of the path (usually separated by a delimiter \\ or / depending on the OS) with:\n"),Ks(),Ys(22,"pre"),Sa(23,"    "),Ys(24,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(25,"\n"),Ks(),Ys(26,"p"),Sa(27," Note how important the order of each segment is.\n"),Ks(),Ys(28,"h5"),Sa(29,"Exists and copy methods"),Ks(),Ys(30,"p"),Sa(31," Java 7's IO Paths class was replaced by Java NIO's Path interface to accommodate exception handling and address other limitations, including delete() and rename(). With Java IO Paths class, no exceptions are thrown until a buffer is coupled to the file. Until then, the Paths objects is assumed to exist.\n"),Ks(),Ys(32,"p"),Sa(33," With Java NIO, one can check if a file exists:\n"),Ks(),Ys(34,"pre"),Sa(35,"    "),Ys(36,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(37,"\n"),Ks(),Ys(38,"p"),Sa(39," One can also use Java NIO's copy() method to copy across a file (without more parameters, files are not copied if they already exist):\n"),Ks(),Ys(40,"pre"),Sa(41,"    "),Ys(42,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(43,"\n"),Ks(),Ys(44,"h5"),Sa(45,"Moving, renaming and deleting files"),Ks(),Ys(46,"p"),Sa(47," The methods to move, rename (with copy() shown below, or move()) and delete methods are:\n"),Ks(),Ys(48,"pre"),Sa(49,"    "),Ys(50,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(51,"\n"),Ks(),Ys(52,"p"),Sa(53," It is also possible move or copy entire directories (see walking the tree, below) by passing directory segments without the file name segment. Note that some operating systems may respond differently to move().\n"),Ks(),Ys(54,"h5"),Sa(55,"File metadata"),Ks(),Ys(56,"p"),Sa(57," To retrieve a file's attributes or metadata, with regard to the operating system, see the "),Ys(58,"a",1),Sa(59,"BasicFileAttributes interface"),Ks(),Sa(60,". To get all the attributes in one go, use:\n"),Ks(),Ys(61,"pre"),Sa(62,"    "),Ys(63,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(64,"\n"),Ks(),Ys(65,"p"),Sa(66," There are other subclasses of BasicFileAttributes (OS specific) hence the need to pass the class in readAttributes().\n"),Ks(),Ys(67,"h5"),Sa(68,"Reading directories"),Ks(),Ys(69,"p"),Sa(70," The files and directories present in a given directory, excluding other files in descendant directories, use:\n"),Ks(),Ys(71,"pre"),Sa(72,"    "),Ys(73,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(74,"\n"),Ks(),Ys(75,"p"),Sa(76," To apply other matchers or wildcards (instead of *.sql), see "),Ys(77,"a",2),Sa(78,"the official docs"),Ks(),Sa(79,".\n"),Ks(),Ys(80,"h5"),Sa(81,"Other file system related features"),Ks(),Ys(82,"p"),Sa(83,' Different operating systems use different directory separators. Linux and Macs use "/" whereas Windows uses "\\". To get the current system\'s separator, use:\n'),Ks(),Ys(84,"pre"),Sa(85,"    "),Ys(86,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(87,"\n"),Ks(),Ys(88,"p"),Sa(89," To create temporary files in the OS's temp directory, use:\n"),Ks(),Ys(90,"pre"),Sa(91,"    "),Ys(92,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(93,"\n"),Ks(),Ys(94,"p"),Sa(95," To get the drives (file stores) representing physical drives or partitions, and root paths use:\n"),Ks(),Ys(96,"pre"),Sa(97,"    "),Ys(98,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(99,"\n"),Ks(),Ys(100,"h5"),Sa(101,"Walking a file tree"),Ks(),Ys(102,"p"),Sa(103," This tends to be useful when searching for all files from a given parent directory. The approach is given below:\n"),Ks(),Ys(104,"pre"),Sa(105,"    "),Ys(106,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(107,"\n"),Ks(),Ys(108,"p"),Sa(109," Walking the tree is normally supported by an extension of SimpleFileVisitor. This class keeps track of which file was used and can be extended to return info each time a file is visited:\n"),Ks(),Ys(110,"pre"),Sa(111,"    "),Ys(112,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(113,"\n"),Ks(),Ys(114,"p"),Sa(115," This approach also provides a way of copying all files found. Again, a class which extends SimpleFileVisitor can implement this functionality.\n"),Ks(),Ys(116,"pre"),Sa(117,"    "),Ys(118,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(119,"\n"),Ks(),Ys(120,"p"),Sa(121," The supporting class is provided below:\n"),Ks(),Ys(122,"pre"),Sa(123,"    "),Ys(124,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(125,"\n"),Ks()),2&e&&(Nr(6),$s("highlight",t.path)("languages",t.lang),Nr(6),$s("highlight",t.handlePath)("languages",t.lang),Nr(6),$s("highlight",t.workingDir)("languages",t.lang),Nr(6),$s("highlight",t.usingRelativeToWorking)("languages",t.lang),Nr(12),$s("highlight",t.fileExists)("languages",t.lang),Nr(6),$s("highlight",t.copyFile)("languages",t.lang),Nr(8),$s("highlight",t.moveRenameDeleteFile)("languages",t.lang),Nr(13),$s("highlight",t.fileAttributes)("languages",t.lang),Nr(10),$s("highlight",t.readDirectory)("languages",t.lang),Nr(13),$s("highlight",t.fileSeparator)("languages",t.lang),Nr(6),$s("highlight",t.tempFiles)("languages",t.lang),Nr(6),$s("highlight",t.drivesAndRoot)("languages",t.lang),Nr(8),$s("highlight",t.walkingTheTree)("languages",t.lang),Nr(6),$s("highlight",t.printFileNames)("languages",t.lang),Nr(6),$s("highlight",t.copyFilesFound)("languages",t.lang),Nr(6),$s("highlight",t.copyFilesFoundSupport)("languages",t.lang))},directives:[Ig],styles:[".commands[_ngcontent-%COMP%]{color:#008b8b;padding:2px}"]}),e})(),em=(()=>{class e{constructor(){this.lang=["java"],this.part1='// regular expressions are a sequence of characters that define a search pattern\n\t\t\n  String string = "I am a string";\n  System.out.println(string);\n\n  // the regular expressions are the first parameter, for example, of replaceAll\n  // replacements need not match the length of the regular expression\n  String yourString = string.replaceAll("I", "You");\n  System.out.println(yourString);\n  \n  String alphanumeric = "abcdefghijk";\n  // look for b AND c AND d, in the given order\n  System.out.println(alphanumeric.replaceAll("bcd", "y"));\n  // missing d in between c and e, so false\n  System.out.println(alphanumeric.replaceAll("bce", "y"));\n  System.out.println(alphanumeric.replaceAll("dbc", "y"));\n  System.out.println(alphanumeric.replaceAll(".", "y"));\n  \n  // ^matches at the start of the string\n  System.out.println(alphanumeric.replaceAll("^abc", "yyyyyy"));\n  \n  String secondString = "abcdefghijkabcdefghijk";\n  System.out.println(alphanumeric.replaceAll("^abc", "xxxxxxxxxx"));\n  // no match, so no replacement\n  System.out.println(alphanumeric.replaceAll("^143", "yyyyyy"));\n  \n  // does the regular expression match?\n  System.out.println(alphanumeric.matches("^abc"));\n  // it doesn\'t...the regexp needs to match the entire string,\n  // we\'d need to write ^abcdefghijk\n  System.out.println(alphanumeric.matches("^abcdefghijk"));\n  // quite useful when checking for critical input (password checking etc)\n  \n  // the caret signifies the beginning, the dollar sign signifies the end\n  System.out.println(alphanumeric.replaceAll("ghijk$", "theDudeIsBack"));\n  \n  // [] focuses on a specific set of characters\n  System.out.println(secondString.replaceAll("[de]", "DEDE"));\n  \n  // focus on a set only if it is followed by the second set\n  String thirdString = "abcdeFGhijkabcdefghijk";\n  System.out.println(thirdString.replaceAll("[de][FG]", "DEDE"));',this.part2='// this checks for upper or lower case H\n  System.out.println("Harry".replaceAll("[Hh]arry", "Harry"));\n\n  String thirdString = "abcdEfghijk999888777abcdefghijk";\n  // replace all except for lowercase e; the caret is inside the brackets\n  System.out.println(thirdString.replaceAll("[^ej]", "X"));\n  \n  // the order in which the literals appear in the brackets matters not\n  System.out.println(thirdString.replaceAll("[dcba]", "X"));\n  System.out.println(thirdString.replaceAll("[abcdef345678]", "X"));\n  \n  // shortcut to ranges (java increments automatically,\n  // a-e and 3-8 (no need to separate with a comma or hyphen)\n  System.out.println(thirdString.replaceAll("[a-e3-8]", "X"));\n  System.out.println(thirdString.replaceAll("[A-Z]", "X"));\n  \n  // ignore case with (?iu) (i for ASCII and u for unicode)\n  System.out.println(thirdString.replaceAll("(?i)[a-e3-8]", "X"));\n  System.out.println(thirdString.replaceAll("(?u)[a-e3-8]", "X"));\n  System.out.println(thirdString.replaceAll("(?ui)[a-e3-8]", "X"));\n  \n  // match all numerical digits\n  System.out.println(thirdString.replaceAll("\\d", "X"));\n  \n  // match all non-numerical digits\n  System.out.println(thirdString.replaceAll("\\D", "X"));\n  \n  String hasWhiteSpace = "I have blanks and\\t a newline\\nDude!___but_not_here";\n  System.out.println(hasWhiteSpace);\n  // finds all whitespace (tabs, space, newline)\n  System.out.println(hasWhiteSpace.replaceAll("\\s", "_"));\n  // tabs only\n  System.out.println(hasWhiteSpace.replaceAll("\\t", "X"));\n  // non-whitespace\n  System.out.println(hasWhiteSpace.replaceAll("\\S", "X"));\n  \n  // except for underscore\n  System.out.println(hasWhiteSpace.replaceAll("\\W", "X"));\n  // replace everything other than whitespace\n  System.out.println(hasWhiteSpace.replaceAll("\\w", "X"));\n  \n  // word boundaries b (surround each word with Xs) think HTML tags\n  System.out.println(hasWhiteSpace.replaceAll("\\b", "X"));',this.quantifiers='// quantifiers signify how often an element can occur\n  String thirdString = "abcdEfghijk999888777abcdefghijk";\n  System.out.println(thirdString.replaceAll("^abcdEfghijk9", "F****"));\n\n  // replace more 9s (three)\n  String fourthString = "abcdEfghijk999888777abcdefghijk999888777";\n  System.out.println(fourthString.replaceAll("^abcdEfghijk9{3}", "F****"));\n\n  // replace all 9s after the start\n  System.out.println(fourthString.replaceAll("^abcdEfghijk9+", "F****"));\n\n  // replace letters up to the last character (9), whether it is present or not\n  System.out.println(fourthString.replaceAll("^abcdEfghijk9*", "F****"));\n  String fifthString = "abcdEfghijk000888777abcdefghijk999888777";\n  System.out.println(fifthString.replaceAll("^abcdEfghijk9*", "F****"));\n\n  // look for between 2 and 5 with {2,5} 9s\n  System.out.println(fifthString.replaceAll("^abcdEfghijk0{2,5}", "F****"));\n  System.out.println(fifthString.replaceAll("^abcdEfghijk0{1,2}", "F****"));\n\n  // replace all i (must be >= 1), >=0 j and then k0, in that order\n  String sixthString = "abcdEfghiiijK000888777abcdefghiiijk000888777iii_jjk0_iiik0";\n  System.out.println(sixthString.replaceAll("i+j*k0", "F****"));\n\n  // looking for HTML tags\n  StringBuilder htmlText = new StringBuilder("<h1>My Heading</h1>");\n  htmlText.append("<h2>Subheading</h2>");\n  htmlText.append("<p>Some paragraph</p>");\n  htmlText.append("<h2>Subheading2</h2>");\n  htmlText.append("<p>Some paragraph2</p>");\n\n  // using the Pattern and Matches classes\n  // Matcher: An engine that performs match operations \n  // on a character sequence by interpreting a Pattern.\n  // Pattern: A compiled representation of a regular expression.\n  \n  // dot matches any character and star signifies one or more \n  // of dot...without these, matches returns false\n  // matches is analysing the compiled pattern as a whole\n  String h2Pattern = ".*<h2>.*";\n  Pattern pattern = Pattern.compile(h2Pattern);\n  Matcher matcher = pattern.matcher(htmlText);\n  System.out.println(matcher.matches());\n  // matcher now needs to be updated*\n\n  Pattern pattern2 = Pattern.compile(h2Pattern, Pattern.CASE_INSENSITIVE);\n  Matcher matcher2 = pattern2.matcher(htmlText);\n  System.out.println(matcher2.matches());\n\n  // reset matcher*\n  matcher.reset();\n\n  System.out.println("Find h2 across the whole string:");\n  int count = 0;\n  while(matcher.find()) {\n    count++;\n    // end() shows the index of the following element\n    // (to but not including as such)\n    System.out.println("Occurrence " + count + " : " \n    + matcher.start() + " to " + matcher.end());\n  }\n  // this handles the entire string. To focus on one h2 tag,\n  // redefine the h2Pattern\n\n  System.out.println("Find h2 as they appear in whole string:");\n  String h2Pattern2 = "<h2>";\n  Pattern pattern3 = Pattern.compile(h2Pattern2);\n  Matcher matcher3 = pattern3.matcher(htmlText);\n  count = 0;\n  while(matcher3.find()) {\n    count++;\n    // end() shows the index of the following element\n    // (to but not including as such)\n    System.out.println("Occurrence " + count + " : " \n    + matcher3.start() + " to " + matcher3.end());\n  }\n\n  // using groups to find occurrences\n  String h2GroupPattern = "(<h2>)";\n  Pattern groupPattern = Pattern.compile(h2GroupPattern);\n  Matcher groupMatcher = groupPattern.matcher(htmlText);\n  // check if a matcher is present initially\n  System.out.println(groupMatcher.matches());\n  groupMatcher.reset();\n\n  while(groupMatcher.find()) {\n    // group(0) is the entire character sequence \n    // (group() defaults to group(0)) \n    // group(1) represents the first group defined by \n    // h2GroupPattern (one can pass multiple groups)\n    System.out.println("Occurrence " + groupMatcher.group(1));\n  }\n\n  // using groups to find occurrences (a group is enclosed in \n  // parentheses); we use the ? quantifier to turn a greedy \n  // quantifier into a a lazy quantifier, so * does not keep \n  // looking for </h2> after the first find\n  // recall, + looks for >= 1 and * looks for >= 0, so .+ \n  // would ignore empty h2 tags\n  String h2GroupPattern2 = "(<h2>.*?</h2>)";\n  Pattern groupPattern2 = Pattern.compile(h2GroupPattern2);\n  Matcher groupMatcher2= groupPattern2.matcher(htmlText);\n  // check if a matcher is present initially\n  System.out.println(groupMatcher2.matches());\n  groupMatcher2.reset();\n\n  while(groupMatcher2.find()) {\n    // group(0) is the entire character sequence, group(1) \n    // represents the first group defined by h2GroupPattern \n    // (one can pass multiple groups, see below)\n    System.out.println("Occurrence " + groupMatcher2.group(1));\n  }\n  \n  //multiple groups\n  String h2TextGroups = "(<h2>)(.+?)(</h2>)";\n  Pattern h2TextPattern = Pattern.compile(h2TextGroups);\n  Matcher h2TextMatcher = h2TextPattern.matcher(htmlText);\n  \n  while(h2TextMatcher.find()) {\n    // the closing h2 tag is group(3)\n    System.out.println("Occurrence: " + h2TextMatcher.group(2));\n  }',this.andOr='//have OR operations implicitly\n  System.out.println("Harry".replaceAll("[Hh]arry", "Harry"));\n  \n  System.out.println("harry".replaceAll("[Hh]arry", "Harry"));\n  \n  //with the OR \xa6 operator\n  System.out.println("Harry".replaceAll("[H\xa6h]arry", "Harry"));\n  \n  //using NOT\n  System.out.println("Harry".replaceAll("[^arry]", "*"));\n  System.out.println("Harry".replaceAll("H[^arry]", "*"));\n  \n  \n  //use of the NOT operator with !\n  //(? is a look ahead operation, \n   // [^abc]\n      String tvTest = "tstvtkt";\n      // for reference, tNotVRegExp = "t[^v]";\n      //**look for t which is not followed by a v\n      String tNotVRegExp = "t(?!v)";\n      Pattern tNotVPattern = Pattern.compile(tNotVRegExp);\n      Matcher tNotVMatcher = tNotVPattern.matcher(tvTest);\n\n      int count = 0;\n      while(tNotVMatcher.find()) {\n          count++;\n          System.out.println("Occurrence " + count + " : " \n          + tNotVMatcher.start() + " to " + tNotVMatcher.end());\n      }\n      \n      //**look for t followed by a v\n      // t(?=v)\n      // ^([(]{1}[0-9]{3}[)]{1}[ ]{1}[0-9]{3}[-]{1}[0-9]{4})$\n      String phone1 = "1234567890";     // Shouldn\'t match\n      String phone2 = "(123) 456-7890"; // match\n      String phone3 = "123 456-7890";   // Shouldn\'t match\n      String phone4 = "(123)456-7890";  // Shouldn\'t match\n\n      System.out.println("phone1 = " + phone1.matches(\n        "^([\\(]{1}[0-9]{3}[\\)]{1}[ ]{1}[0-9]{3}[\\-]{1}[0-9]{4})$"));\n      System.out.println("phone2 = " + phone2.matches(\n        "^([\\(]{1}[0-9]{3}[\\)]{1}[ ]{1}[0-9]{3}[\\-]{1}[0-9]{4})$"));\n      System.out.println("phone3 = " + phone3.matches(\n        "^([\\(]{1}[0-9]{3}[\\)]{1}[ ]{1}[0-9]{3}[\\-]{1}[0-9]{4})$"));\n      System.out.println("phone4 = " + phone4.matches(\n        "^([\\(]{1}[0-9]{3}[\\)]{1}[ ]{1}[0-9]{3}[\\-]{1}[0-9]{4})$"));\n\n      // ^4[0-9]{12}([0-9]{3})?$\n      String visa1 = "4444444444444"; // should match\n      String visa2 = "5444444444444"; // shouldn\'t match\n      String visa3 = "4444444444444444";  // should match\n      String visa4 = "4444";  // shouldn\'t match\n\n      System.out.println("visa1 " + visa1.matches("^4[0-9]{12}([0-9]{3})?$"));\n      System.out.println("visa2 " + visa2.matches("^4[0-9]{12}([0-9]{3})?$"));\n      System.out.println("visa3 " + visa3.matches("^4[0-9]{12}([0-9]{3})?$"));\n      System.out.println("visa4 " + visa4.matches("^4[0-9]{12}([0-9]{3})?$"));'}ngOnInit(){}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-java-reg-exp"]],decls:26,vars:8,consts:[[3,"highlight","languages","highlighted"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Regular Expression with Java"),Ks(),Ys(2,"p"),Sa(3," Regular expressions are universal across programming environments. Here it is demonstrated in the the context of a Java application.\n"),Ks(),Ys(4,"pre"),Sa(5,"    "),Ys(6,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(7,"\n"),Ks(),Ys(8,"p"),Sa(9," Part 2 is give below:\n"),Ks(),Ys(10,"pre"),Sa(11,"    "),Ys(12,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(13,"\n"),Ks(),Ys(14,"p"),Sa(15," Quantifiers and pattern matchers are demonstrated below:\n"),Ks(),Ys(16,"pre"),Sa(17,"    "),Ys(18,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(19,"\n"),Ks(),Ys(20,"p"),Sa(21," Some more examples with AND, OR and NOT boolean logic:\n"),Ks(),Ys(22,"pre"),Sa(23,"    "),Ys(24,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(25,"\n"),Ks()),2&e&&(Nr(6),$s("highlight",t.part1)("languages",t.lang),Nr(6),$s("highlight",t.part2)("languages",t.lang),Nr(6),$s("highlight",t.quantifiers)("languages",t.lang),Nr(6),$s("highlight",t.andOr)("languages",t.lang))},directives:[Ig],styles:[""]}),e})(),tm=(()=>{class e{constructor(){this.lang=["java"],this.iterators='\n    public IteratorDemo {\n        ArrayList<Integer> integers = new ArrayList<>();\n\n        // use add() to add elements to "integers"\n\n        Iterator<Integer> iterator = integers.iterator();\n\n        ListIterator<Integer> listIterator = integers.listIterator();\n\n        // for iterator and listIterator, check if there is another element with hasNext()\n        // use next() to return the current element and immediately \n        // advance the pointer one place\n\n        Integer currentInt;\n\n        while (iterator.hasNext()){\n            currentInt = iterator.next();\n            // do something with currentInt\n        }\n\n        // for listIterator only, check if there was a previous element with hasPrevious()\n        // use previous() to return the current element and immediately \n        // bring back the pointer one place\n\n        while (listIterator.hasPrevious()){\n            currentInt = iterator.previous();\n            // do something with currentInt\n        }\n    }',this.compareTo="@Override\n  public int compareTo(Seat seat) {\n      // seatNumber is of String type and so this return uses String's\n      // compareToIgnoreCase\n      return this.seatNumber.compareToIgnoreCase(seat.getSeatNumber());\n  }",this.compareToExample='String s1="hello";\nString s2="hello";\nString s3="meklo";  \nString s5="flag";  \n\n// both return 0\nSystem.out.println(s1.compareTo(s2)); \nSystem.out.println(s2.compareTo(s1)); \n\n// returns -5 because "h" is 5 times lower than "m"\nSystem.out.println(s1.compareTo(s3));  \n\n// returns 2 because "h" is 2 times greater than "f"\nSystem.out.println(s1.compareTo(s5));',this.comparator="static final Comparator<Seat> PRICE_ORDER;\n\n  static {\n      PRICE_ORDER = new Comparator<Seat>() {\n          @Override\n          public int compare(Seat seat1, Seat seat2) {\n              if (seat1.getPrice() < seat2.getPrice()) {\n                  return -1;\n              } else if (seat1.getPrice() > seat2.getPrice()) {\n                  return 1;\n              } else {\n                  return 0;\n              }\n          }\n      };\n  }\n  \n  // then compare(seat1, seat2) is equivalent to\n  // seat1.getPrice().compareTo(seat2.getPrice())",this.hashCodeEquals="@Override\n  public boolean equals(Object obj) {\n    // referential equality\n    if(this == obj) {\n        return true;\n    }\n\n    // someProperty is of type String; retrieve it\n    \n    // apply Java Lang's String equals() method\n    return this.someProperty.equals(someProperty);\n}\n\n@Override\npublic int hashCode() {\n  // build a unique hashCode by adding, for example, 64 to the hashCode\n  // someStringTypeProperty is of type String so here we apply String's\n  // hashCode() method\n    return this.someStringTypeProperty.hashCode() + 64;\n}",this.stockItem='public class StockItem implements Comparable<StockItem> {\n  private final String name;\n  private double price;\n  private int quantityStock = 0;\n\n  public StockItem(String name, double price) {\n      this.name = name;\n      this.price = price;\n      this.quantityStock = 0;\n  }\n\n  public StockItem(String name, double price, int quantityStock) {\n      this.name = name;\n      this.price = price;\n      this.quantityStock = quantityStock;\n  }\n\n  // ...assume getters for all three properties included...\n\n  public void setPrice(double price) {\n      if(price > 0.0) {\n          this.price = price;\n      }\n  }\n\n  public void adjustStock(int quantity) {\n      int newQuantity = this.quantityStock + quantity;\n      if(newQuantity >=0) {\n          this.quantityStock = newQuantity;\n      }\n  }\n\n  @Override\n  public boolean equals(Object obj) {\n      if(obj == this) {\n          return true;\n      }\n\n      if((obj == null) ||\n       (obj.getClass() != this.getClass())) {\n          return false;\n      }\n\n      String objName = ((StockItem) obj).getName();\n      return this.name.equals(objName);\n  }\n\n  @Override\n  public int hashCode() {\n      return this.name.hashCode() + 31;\n  }\n\n  @Override\n  public int compareTo(StockItem o) {\n      if(this == o) {\n          return 0;\n      }\n\n      if(o != null) {\n        // use String\'s compareTo()\n          return this.name.compareTo(o.getName());\n      }\n\n      throw new NullPointerException();\n  }\n\n  @Override\n  public String toString() {\n      return this.name + " : price " + this.price;\n  }\n}',this.stockList='public class StockList {\n  private final Map<String, StockItem> list;\n\n  public StockList() {\n    // use a LinkedHashMap to preserve the order to which the items were added\n      this.list = new LinkedHashMap<>();\n  }\n\n  public int addStock(StockItem item) {\n      if(item != null) {\n          // retrieve the item from the list, \n          // otherwise return item to alreadyInStock\n          StockItem alreadyInStock = list.getOrDefault(item.getName(), item);\n          // if item was found in the list, then update item\'s quantity\n          if(alreadyInStock != item) {\n              item.adjustStock(alreadyInStock.quantityInStock());\n          }\n\n          // note this overwrites the current list entry\n          list.put(item.getName(), item);\n          return item.quantityInStock();\n      }\n      return 0;\n  }\n\n  public int sellStock(String item, int quantity) {\n      // can only sell stock that exists; default to null if nothing exists\n      StockItem inStock = list.getOrDefault(item, null);\n\n      if((inStock != null) &&\n       (inStock.quantityInStock() >= quantity) && (quantity >0)) {\n          inStock.adjustStock(-quantity);\n          return quantity;\n      }\n      return 0;\n  }\n\n  public StockItem get(String key) {\n      return list.get(key);\n  }\n\n  public Map<String, StockItem> Items() {\n      // an immutable collection is returned (a wrapper around List, Set and Map)\n      // attempts to change the entries will throw an exception\n      return Collections.unmodifiableMap(list);\n  }\n\n  @Override\n  public String toString() {\n      String s = "\\nStock List\\n";\n      double totalCost = 0.0;\n      for (Map.Entry<String, StockItem> item : list.entrySet()) {\n          StockItem stockItem = item.getValue();\n\n          double itemValue = stockItem.getPrice() * stockItem.quantityInStock();\n\n          s = s + stockItem + ". There are " + stockItem.quantityInStock()\n           + " in stock. Value of items: ";\n          s = s + itemValue + "\\n";\n          totalCost += itemValue;\n      }\n\n      return s + "Total stock value " + totalCost;\n  }\n}',this.basket='public class Basket {\n  private final String name;\n  private final Map<StockItem, Integer> list;\n\n  public Basket(String name) {\n      this.name = name;\n      // this will print out the basket items in alphabetical order\n      // while invoking StockItem\'s compareTo() method\n      this.list = new TreeMap<>();\n  }\n\n  public int addToBasket(StockItem item, int quantity) {\n      if ((item != null) && (quantity > 0)) {\n          int inBasket = list.getOrDefault(item, 0);\n          list.put(item, inBasket + quantity);\n          return inBasket;\n      }\n      return 0;\n  }\n\n  public Map<StockItem, Integer> Items() {\n      return Collections.unmodifiableMap(list);\n  }\n\n  @Override\n  public String toString() {\n      String s = "\\nShopping basket " + name + " contains " + list.size() + " items\\n";\n      double totalCost = 0.0;\n      for (Map.Entry<StockItem, Integer> item : list.entrySet()) {\n          s = s + item.getKey() + ". " + item.getValue() + " purchased\\n";\n          totalCost += item.getKey().getPrice() * item.getValue();\n      }\n      return s + "Total cost " + totalCost;\n  }\n}',this.stockMainClass='private static StockList stockList = new StockList();\n\npublic static void main(String[] args) {\n  // stock the shop\n  StockItem temp = new StockItem("bread", 0.86, 100);\n  stockList.addStock(temp);\n\n  temp = new StockItem("cake", 1.10, 7);\n  stockList.addStock(temp);\n\n  // this would demonstrate how the order of stock items is preserved...\n  System.out.println(stockList);\n\n  // add items to the basket\n  Basket shoppingBasket = new Basket("Shopping Basket");\n  sellItem(shoppingBasket, "cake", 1);\n\n  // print out the changes\n  System.out.println(shoppingBasket);\n  System.out.println(stockList);\n}\n\npublic static int sellItem(Basket basket, String item, int quantity) {\n  //retrieve the item from stock list\n  StockItem stockItem = stockList.get(item);\n  if(stockItem == null) {\n      System.out.println("We don\'t sell " + item);\n      return 0;\n  }\n  if(stockList.sellStock(item, quantity) != 0) {\n      basket.addToBasket(stockItem, quantity);\n      return quantity;\n  }\n  return 0;\n}'}ngOnInit(){}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-javasortcollectionspage"]],decls:156,vars:18,consts:[[1,"commands"],[3,"highlight","languages","highlighted"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Java Collections"),Ks(),Ys(2,"p"),Sa(3," What follows is a brief overview of major data structures and methods from the Java Collections framework (part of the Java utils package).\n"),Ks(),Ys(4,"p"),Sa(5," The Collection interface is an extension of Iterable, an interface that allows for the foreach loop. Sub-interfaces of Collection include Deque, List, Queue, and Set. These sub-interfaces are implemented by, as relevant, the Collections class (contrast to the Collection interface) along with the Deque, List, Queue, and Set classes. Furthermore, these classes have other other subclasses.\n"),Ks(),Ys(6,"h5"),Sa(7,"Foreach, Iterator and ListIterator"),Ks(),Ys(8,"p"),Sa(9," Both the foreach loop and Iterator interfaces allow one to traverse a collection and retrieve the contents of a collection. Additionally, the Iterator interface or its extension, the ListIterator interface, provide extra features. The Iterator interface also allows for elements to be removed. The ListIterator interface extends Iterator and allows for bidirectional traversal as well as modification of the elements. All collections have an "),Ys(10,"span",0),Sa(11,"iterator()"),Ks(),Sa(12," and "),Ys(13,"span",0),Sa(14,"listIterator()"),Ks(),Sa(15," methods which returns an iterator/listIterator and is initially placed at the start of a collection.\n"),Ks(),Ys(16,"pre"),Sa(17,"    "),Ys(18,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(19,"\n"),Ks(),Ys(20,"h5"),Sa(21,"The List interface"),Ks(),Ys(22,"p"),Sa(23," Lists can be copied by reference (a shallow copy) by initialising a new List as "),Ys(24,"span",0),Sa(25,"List<ClassID> newList = new ArrayList<>(sourceList)"),Ks(),Sa(26,", in preference to Collections.copy(dest, source). Elements can be reversed and shuffled using reverse() and shuffle(). (Reversing a list requires the implementation of the Comparable interface, below.) The min() and max() methods return the smallest and largest numerical based element. One can also swap elements with swap().\n"),Ks(),Ys(27,"h5"),Sa(28,"Comparable and Comparator interfaces"),Ks(),Ys(29,"p"),Sa(30," Comparable and Comparator are interfaces which allow one to sort collections or lists. Overall, if sorting of objects needs to be based on one default (natural) order then use Comparable. If sorting needs to be based on multiple attributes of different objects or when the domain object source code cannot be altered, then use Comparator.\n"),Ks(),Ys(31,"p"),Sa(32," Comparable declares the compareTo() method, which can compare Strings. The command "),Ys(33,"span",0),Sa(34,"string1.compareTo(string2)"),Ks(),Sa(35," can identify which string should precede which. If strings should be listed alphabetically, left-to-right, then a negative return means string1 is 'behind' string2 and should go before string2. A positive return means string1 is 'ahead' of string2 and should go after string2. The extent to which a string is ahead or behind is relayed in the return value.\n"),Ks(),Ys(36,"pre"),Sa(37,"    "),Ys(38,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(39,"\n"),Ks(),Ys(40,"p"),Sa(41," The next code snippet demonstrates a String, seatNumber. The compareTo() method returns a positive value if this.seatNumber > seat.getSeatNumber(), a negative value if this.seatNumber < seat.getSeatNumber() and zero if they are equal.\n"),Ks(),Ys(42,"pre"),Sa(43,"    "),Ys(44,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(45,"\n"),Ks(),Ys(46,"p"),Sa(47," In short, the Comparable interface defines the compareTo() method which is evaluated to sort elements. The Collections.sort() method evaluates compareTo() to sort elements in ascending order. As defined, above, the order would be s1, s3 and s5. By default,\n"),Ks(),Ys(48,"ul"),Ys(49,"li"),Sa(50,"Strings are sorted alphabetically"),Ks(),Ys(51,"li"),Sa(52,"Integers are sorted in ascending order"),Ks(),Ys(53,"li"),Sa(54,"Dates are sorted chronologically"),Ks(),Ks(),Ys(55,"p"),Sa(56," A custom Comparable compareTo() can be realised by implementing the Comparable interface, for the class (objects) that need sorting, and overriding compareTo(). "),Ks(),Ys(57,"p"),Sa(58," The order can also be changed by building a Comparator instance. The Comparator interface defines one method: compare() (hence, Comparator is a functional interface) and can provide a more custom sort method. Take care not to associate Comparators with compareTo()! The method compareTo() belongs to the Comparable interface, not the Comparator interface.\n"),Ks(),Ys(59,"pre"),Sa(60,"    "),Ys(61,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(62,"\n"),Ks(),Ys(63,"p"),Sa(64," According to the overridden method, the command "),Ys(65,"span",0),Sa(66,"Collections.sort(priceSeats, Theatre.PRICE_ORDER);"),Ks(),Sa(67," then sorts the the list of Seats, priceSeats, by first by the order they were added (FIFO, lowest to highest index number) and then by price, from lowest price to highest. Elements are only swapped if they have different prices.\n"),Ks(),Ys(68,"p"),Sa(69," More comparators can be applied with different sort criteria.\n"),Ks(),Ys(70,"p"),Sa(71," Instead of building a Comparator instance, one could write a class which implements Comparator and then override compare(). Instantiating the class would then have the same effect. Call "),Ys(72,"span",0),Sa(73,"Collections.sort(list, new CustomComparator());"),Ks(),Sa(74," to apply the custom comparator.\n"),Ks(),Ys(75,"h5"),Sa(76,"The Map interface"),Ks(),Ys(77,"p"),Sa(78," This interface has a key and value pairings and replaces dictionaries. Maps can be implement with the HashMap generic class with "),Ys(79,"span",0),Sa(80,"Map<Integer, String> someMap = new HashMap<>();"),Ks(),Sa(81,", for example. Keys are unique so all references, with put(), to the same key will overwrite the stored value. Keys are also immutable. The method put() returns the previous value if the key-value pair already exists and null if not.\n"),Ks(),Ys(82,"p"),Sa(83," One can also use containsKey() to determine if a value already exists without overwriting it through put(). With regard to thread management, one can use putIfAbsent(), preventing two or more threads from writing to the map repeatedly.\n"),Ks(),Ys(84,"p"),Sa(85," Removing elements from maps can be carried out with remove(). This method returns true is the key-value pair were found (and subsequently deleted) and false otherwise.\n"),Ks(),Ys(86,"p"),Sa(87," One can replace an already mapped value (a value with a key present) with replace(). The method returns the original value if the key was found (and the original value updated) and null of the key was not found. One can also check the value also exists (in addition to the key) by using passing three parameters as: "),Ys(88,"span",0),Sa(89,"someMap.replace(key, originalValue, newValue);"),Ks(),Sa(90," before replacing the originalValue. This provides more strict control over how key-values are replaced.\n"),Ks(),Ys(91,"h5"),Sa(92,"The Set interface"),Ks(),Ys(93,"p"),Sa(94," Sets are unordered collections of unique elements. Sets are generic class based and have size() and isEmpty() methods. Generally, sets should store immutable objects or at the very least remain unique, otherwise the behaviour would be undefined and unpredictable. HashSets use hashes like Maps to provide fast access (O(1)) to each element. The element itself is also stored in an underlying HashMap, as the key with a dummy value added to the backing HashMap. Since HashMap keys are all unique, then the overarching Set elements are unique. Sets also have mathematical union and intersection type methods.\n"),Ks(),Ys(95,"p"),Sa(96," Like Lists, shallow copies can be applied with "),Ys(97,"span",0),Sa(98,"Set<ClassID> newSet = new HashSet<>(sourceSet)"),Ks(),Sa(99,". Elements are added with add() and a union of two sets is achieved with addAll(). The methods removeAll() and containsAll() are useful with mathematical Set logic. The method addAll() can be applied to the union of Sets, removeAll() applies to the difference of two sets and containsAll() (a non-destructive method) can be used to test if one Set is a Subset of another.\n"),Ks(),Ys(100,"p"),Sa(101," When storing custom objects as keys in a HashMap or elements of a Set, it is highly recommended to override the equals() and hashCode() methods. To the compiler, objects will have subtle differences which enable objects to be stored in the set. If at least one property of the object is different then the object will be classed as unique. Their references (hashCode) will be different, and teh default equals() method will apply a simple 'referential equality' which is 'object1 == object2'. This is not always apparent regarding the business logic however.\n"),Ks(),Ys(102,"p"),Sa(103," Objects which are equal according to equal() have the same hashCode and reside in the same bucket (think of an array of linked lists). Each hashCode indicates which bucket the submitted object will reside in. The return of hashCode() does not depend on equals(), however, equals() does depend on hashCode(). The method equals() checks the hashCodes and assumes they are assigned correctly. If hashCode() was not overridden or set correctly then equals() may use the wrong hashCode and end up looking in the wrong bucket. The method equals() is unaware of this and so it never finds the required object. The submitted object can then be placed into the Set or HashMap, duplicating at least one of the other elements already present.\n"),Ks(),Ys(104,"p"),Sa(105," This has subsequent problems, when the Set is iterated over, attempting to find or remove an object. The wrong object would be recalled or deleted.\n"),Ks(),Ys(106,"p"),Sa(107," When overriding the methods, one can choose object properties which direct the compiler to establish if objects are the same or not. Take care not to overload the methods, as this just provides a different method signature which could still be called. Overriding means that the current class will use newly-defined method over the parent class method.\n"),Ks(),Ys(108,"pre"),Sa(109,"    "),Ys(110,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(111,"\n"),Ks(),Ys(112,"p"),Sa(113," The @Override annotation directs the compiler to check the signature is correct.\n"),Ks(),Ys(114,"p"),Sa(115," Some thought is required though when overriding equals() for a class and its subclass. When "),Ys(116,"span",0),Sa(117,"obj instanceof objClass"),Ks(),Sa(118," is used in the equals() method, it returns true. Similarly, it works for subclasses, so the following, "),Ys(119,"span",0),Sa(120,"subClassObj instanceof objClass"),Ks(),Sa(121,", is also true. However, "),Ys(122,"span",0),Sa(123,"obj instanceof objSubClass"),Ks(),Sa(124," is false. When "),Ys(125,"span",0),Sa(126,"instanceof"),Ks(),Sa(127," is used as part of equals, define the overridden equals() method in the parent class only and allow the subclass to use the parent class' equals() method. In other words, do not override equals() in the subclass. To ensure this behaviour, mark the overridden equals() and hashCode() methods in the parent class as 'final'.\n"),Ks(),Ys(128,"h5"),Sa(129,"LinkedHashMap and TreeMap"),Ks(),Ys(130,"p"),Sa(131," HashMaps and HashSets are chaotic and the sorted forms are LinkedHashMap and LinkedHashSet. They are ordered in the same order they were entered, that is, FIFO. The methods for Maps and Sets are very similar.\n"),Ks(),Ys(132,"p"),Sa(133," Below is a more comprehensive example which summarises many of the concepts covered thus far.\n"),Ks(),Ys(134,"pre"),Sa(135,"    "),Ys(136,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(137,"\n"),Ks(),Ys(138,"p"),Sa(139," Each stock item is stored in a list, StockList. Note how the HashMap is replaced with a LinkedHashMap, which preserves the order of the items that were added.\n"),Ks(),Ys(140,"pre"),Sa(141,"    "),Ys(142,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(143,"\n"),Ks(),Ys(144,"p"),Sa(145," StockItems can be added to a Basket. Note here that the Basket's list is built around a TreeMap. This causes the list to be sorted alphabetically, as defined in StockItem's compareTo() method, which ultimately uses String's compareTo(). Each time a StockItem is added to the TreeMap, the item name is compared using compareTo() each time. It checks where the next added StockItem should go. This will naturally result in a performance hit. "),Ks(),Ys(146,"pre"),Sa(147,"    "),Ys(148,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(149,"\n"),Ks(),Ys(150,"p"),Sa(151," Time to go shopping...\n"),Ks(),Ys(152,"pre"),Sa(153,"    "),Ys(154,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(155,"\n"),Ks()),2&e&&(Nr(18),$s("highlight",t.iterators)("languages",t.lang),Nr(20),$s("highlight",t.compareToExample)("languages",t.lang),Nr(6),$s("highlight",t.compareTo)("languages",t.lang),Nr(17),$s("highlight",t.comparator)("languages",t.lang),Nr(49),$s("highlight",t.hashCodeEquals)("languages",t.lang),Nr(26),$s("highlight",t.stockItem)("languages",t.lang),Nr(6),$s("highlight",t.stockList)("languages",t.lang),Nr(6),$s("highlight",t.basket)("languages",t.lang),Nr(6),$s("highlight",t.stockMainClass)("languages",t.lang))},directives:[Ig],styles:[".commands[_ngcontent-%COMP%]{color:#008b8b;padding:2px}"]}),e})(),nm=(()=>{class e{constructor(){this.lang=["java"],this.staticClass="public class StaticClass {\n\n    // numOfInstances is associated with StaticClass and shared with all \n    // instances of StaticClass\n    private static int numOfInstances = 0;\n\n    public StaticTest() {\n        numOfInstances++;\n    }\n\n    public static int getNumInstances() {\n        return numInstances;\n    }\n}",this.callingStatic="public static int someInt = 32;\npublic int someOtherInt = 32;\n\npublic static void main(String[] args) {\n\n    // this works\n    printOutStatic(6);\n    printOutStatic(someInt);\n\n    // this would not compile\n    printOut(6);\n    printOutStatic(someOtherInt);\n\n}\n\npublic static void printOutStatic(int number) {\n    System.out.println(number);\n}\n\npublic void printOut(int number) {\n    System.out.println(number);\n}",this.staticFinal="public class SomeClass {\n\n  private static int classCounter = 0;\n  public final int instanceNumber;\n\n  public SomeClass() {\n      classCounter++;\n      instanceNumber = classCounter;\n  }\n\n  public int getInstanceNumber() {\n      return instanceNumber;\n  }\n}"}ngOnInit(){}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-javastaticpage"]],decls:50,vars:6,consts:[[3,"highlight","languages","highlighted"],[1,"commands"],["routerLink","/java/javaSortCollections"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"The static keyword"),Ks(),Ys(2,"p"),Sa(3," Given the following definition for a class:\n"),Ks(),Ys(4,"pre"),Sa(5,"    "),Ys(6,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(7,"\n"),Ks(),Ys(8,"p"),Sa(9," Instantiating a StaticClass will increment numOfInstances (there is only one copy of numOfInstances in memory). The value can be retrieved with a getter from "),Ys(10,"i"),Sa(11,"any"),Ks(),Sa(12," instance of StaticClass in the usual way.\n"),Ks(),Ys(13,"p"),Sa(14," If the getter is preceded with a static keyword, then one can retrieve the current value through a class reference, "),Ys(15,"span",1),Sa(16,"StaticClass.getNumOfInstances()"),Ks(),Sa(17,". The calling class must also be static. "),Ks(),Ys(18,"p"),Sa(19," All static methods can be called directly with the class reference without instantiating the class. Indeed, when a Java program is loaded, there must be at least one static method of the form "),Ys(20,"span",1),Sa(21,"main(String[] args)"),Ks(),Sa(22," from which to call from since classes are not always instantiated on loading. The class where main() resides can have any name though by convention and for convenience, the class is normally labelled Main. There can be multiple launch classes with main() in a given project.\n"),Ks(),Ys(23,"p"),Sa(24," Note that methods can only be called if their class (object) already exists in memory. Static methods and variables are already in memory but other non-static methods and variables are not. Consequently, static methods (alive) cannot reference non-static variables or call non-static methods. Non-static elements are brought into memory by instantiating the class in which they are defined, or, by declaring them as static.\n"),Ks(),Ys(25,"pre"),Sa(26,"    "),Ys(27,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(28,"\n"),Ks(),Ys(29,"p"),Sa(30," Note that a static method can reference non-static methods and fields in a different class because it will automatically build an instance of the other class. Static methods cannot reference non-static methods and properties in its own class. This approach has been followed and perhaps assumed with all Java development: a non-static constructor of a different class can be called from a static method, such as main().\n"),Ks(),Ys(31,"p"),Sa(32," Static initialisation blocks initialise static data (and call static methods) once the class is loaded, not when classes are instantiated, and are demonstrated "),Ys(33,"a",2),Sa(34,"here"),Ks(),Sa(35,". Multiple static blocks can reside in a given class and all are executed before any constructor. Static blocks do not initialise non-static properties, that is the purpose of the constructor.\n"),Ks(),Ys(36,"h5"),Sa(37,"The final keyword"),Ks(),Ys(38,"p"),Sa(39," To tie a immutable (and perhaps unique) properties to an object, declare the property as 'final'. This ensures that the value of the property, which can be assigned the same value as a static variable, does not change once the object has been built.\n"),Ks(),Ys(40,"pre"),Sa(41,"    "),Ys(42,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(43,"\n"),Ks(),Ys(44,"p"),Sa(45," In the above case, different instances of SomeClass will return different instanceNumber's.\n"),Ks(),Ys(46,"p"),Sa(47," Fields or properties labelled as 'static final' are effectively constants for the given class and can be accessed by static methods as constants. Furthermore, they are not stored repeatedly across all instances.\n"),Ks(),Ys(48,"p"),Sa(49," Marking classes as 'final' prevents subclasses from being implemented. Marking methods as 'final' prevents them from being overridden.\n"),Ks()),2&e&&(Nr(6),$s("highlight",t.staticClass)("languages",t.lang),Nr(21),$s("highlight",t.callingStatic)("languages",t.lang),Nr(15),$s("highlight",t.staticFinal)("languages",t.lang))},directives:[Ig,Tp],styles:[".commands[_ngcontent-%COMP%]{color:#008b8b;padding:2px}"]}),e})(),im=(()=>{class e{constructor(){this.lang=["java"],this.anonClass="Collections.sort(objects, new Comparator<SomeClass>() {\n    @Override\n    public int compare(SomeClass object1, SomeClass object2) {\n        return object1.getString().compareTo(object2.getString());\n    }\n});",this.lambdaFunc="Collections.sort(objects, (SomeClass object1, SomeClass object2) ->\n  object1.getString().compareTo(object2.getString());\n  \n// since the class of objects is inferable, the compiler can deduce the\n// type of the parameters and infer:\nCollections.sort(objects, (object1, object2) ->\n  object1.getString().compareTo(object2.getString());",this.returnValues="{ \n  // ...currently in the main function body...\n  UpperConcat uc = (s1, s2) -> s1.toUpperCase() +  s2.toUpperCase();\n\n}\n\ninterface UpperConcat {\n  public String upperAndConcat(String s1, String s2);\n}",this.returnValuesBlock='UpperConcat uc = (s1, s2) -> {\n  // getClass() refers to the Class where the lambda expression resides\n  System.out.println("The lambda expression\'s class is " + getClass().getSimpleName());\n\n  // ...more statements, as required...\n\n  return s1.toUpperCase() + s2.toUpperCase();\n};',this.scopeAnon="public class Main {\n\n  public static void main(String[] args) {\n    AClass someClass = new AClass();\n    int output = someClass.doSomething();\n    System.out.print(output);\n  }\n\n  public final static int calculate(Divider div, int input) {\n    return div.theDivider(input);\n  }\n}\n\ninterface Divider {\n  public int theDivider(int num);\n}\n\nclass AClass {\n  public int doSomething() {\n    int i = 1;\n    {\n      // this is a definition; nothing executed yet\n      // note that num is not visible to doSomething\n      Divider result = new Divider() {\n      @Override\n        public int theDivider(int num) {\n          int someResult = 1 / num;\n          System.out.println(i);\n          // need to return an int here\n          return someResult;\n        }\n      };\n\n      // divider is not aware of changes to i \n      // so the compiler flags a warning here\n      i--;\n\n      // additionally, this ultimately try 1/0 (!)\n      return Main.calculate(result, i);\n    }\n  }\n}",this.scopeLambda="public class Main {\n\n  public static void main(String[] args) {\n    AClass someClass = new AClass();\n    int output = someClass.doSomething();\n    System.out.print(output);\n  }\n\n  public final static int calculate(Divider div, int input) {\n    return div.theDivider(input);\n  }\n}\n\ninterface Divider {\n  public int theDivider(int num);\n}\n\nclass AClass {\n  public int doSomething() {\n    int i = 1;\n    {\n      // this is a definition; nothing executed yet\n      // note that num is not visible to doSomething\n      Divider result = (num) -> {\n        int someResult = 1 / num;\n        System.out.println(i);\n        // need to return an int here\n        return someResult;\n        }\n      };\n\n      // divider is not aware of changes to i \n      // so the compiler flags a warning here\n      i--;\n\n      // additionally, this ultimately try 1/0 (!)\n      return Main.calculate(result, i);\n    }\n  }\n}",this.corrected="public class Main {\n\n  public static void main(String[] args) {\n    AClass someClass = new AClass();\n    int output = someClass.doSomething();\n    System.out.print(output);\n  }\n\n  public final static int calculate(Divider div, int input) {\n    return div.theDivider(input);\n  }\n}\n\ninterface Divider {\n  public int theDivider(int num);\n}\n\nclass AClass {\n  public int doSomething() {\n    final int i = 1;\n    {\n      // this is a definition; nothing executed yet\n      // note that num is not visible to doSomething\n      Divider result = (num) -> {\n        int someResult = 1 / num;\n        System.out.println(i);\n        return someResult;\n        }\n      };\n\n      //returns 1\n      return Main.calculate(result, i);\n    }\n  }\n}",this.correctedLambda="public class Main {\n\n  public static void main(String[] args) {\n    AClass someClass = new AClass();\n    int output = someClass.doSomething();\n    System.out.print(output);\n  }\n\n  public final static int calculate(Divider div, int input) {\n    return div.theDivider(input);\n  }\n}\n\ninterface Divider {\n  public int theDivider(int num);\n}\n\nclass AClass {\n  public int doSomething() {\n    int i = 1;\n    // this is a definition; nothing executed yet\n    Divider result = (num) -> {\n      int someResult = 1 / num;\n      System.out.println(i);\n      return someResult;\n      }\n    };\n\n    //returns 1\n    return Main.calculate(result, i);\n  }\n}",this.foreach="someList.foreach(() -> {\n  doLotsOfStuff();\n  doMoreStuff();\n});",this.predicate="private static void printByValue(List<SomeClass> objects,\n  String requirementsMsg,\n  Predicate<SomeClass> valueRequired) {\n\n  System.out.println(requirementsMsg);\n\n  for(SomeClass obj : objects) {\n    if (valueRequired.test(obj)) {\n      // do something with obj's that satisfy the predicate\n      System.out.println(obj.getSomeIdentifier());\n    }\n  }\n}",this.testPredicate='printByValue(objectList, "Objects with values greater than 50", obj -> obj.getValue() > 50);',this.anonPredicate='printByValue(objectList, "Objects with value less than 25", new Predicate<SomeClass>() {\n  @Override\n  public boolean test(SomeClass obj) {\n      return obj.getValue() < 25;\n  }\n});',this.function="Function<Student, String> getLastName = (Student student) -> {\n  return student.getName().substring(student.getName().indexOf(' ') + 1);\n};\n\n// get the last name of the second student\nString lastName = getLastName.apply(students.get(1));",this.moreFunctions="Function<Student, String> getFirstName = (Student student) -> {\n  return student.getName().substring(0, student.getName().indexOf(' '));\n};\n\nprivate static String getAName(Function<Student, String> getName, Student student) {\n  return getName.apply(student);\n}\n\n// call getFirstName with getAName\nSystem.out.println(getAName(getFirstName, student));\n\n// call getLastName with getAName\nSystem.out.println(getAName(getFirstName, employee));",this.chainedFunc="Function<Student, String> upperCase = student -> student.getName().toUpperCase();\n\nFunction chainedFunction = getLastName.andThen(upperCase);\n\n// print the last name of the first student in uppercase\nSystem.out.println(chainedFunction.apply(students.get(0)));",this.bifunction='BiFunction<String, Student, String> concatAge = (String name, Student student) -> {\n  return name.concat(" " + student.getAge());\n};\n\nString upperName = upperCase.apply(students.get(0));\n\n// pass the returns of upperName and get() to concatAge.apply()\nSystem.out.println(concatAge.apply(upperName, students.get(0)));',this.streams='List<String> someBingoNumbers = Arrays.asList(\n  "N40", "N36",\n    "B12", "B6",\n    "G53", "G49", "G60", "G50", "g64",\n    "I26", "I17", "I29",\n    "O71");\n    \n// each method is part of the Stream interface\nsomeBingoNumbers.stream()\n        // pass each element as the argument to String.toUpperCase()\n        // and return them to the stream\n        .map(String::toUpperCase)\n        // pass a predicate here; only elements s which return true pass here\n        .filter(s->s.startsWith("G"))\n        .sorted()\n        .forEach(System.out::println);',this.moreStreams='Stream<String> ioNumberStream = Stream.of("I26", "I17", "I29", "O71");\nStream<String> inNumberStream = Stream.of("N40", "N36", "I26", "I17", "I29", "O71");\nStream<String> concatStream = Stream.concat(ioNumberStream, inNumberStream);\n\nSystem.out.println(concatStream\n        .distinct()\n        .peek(System.out::println)\n        .count());',this.flatMap="// departments is a List, which also contains a List of employees\ndepartments.stream()\n.flatMap(department -> department.getEmployees().stream())\n// print the employees, by department; the department is not printed\n.forEach(System.out::println);",this.savingStream="Map<Integer, List<Employee>> groupedByAge = departments.stream()\n.flatMap(department -> department.getEmployees().stream())\n// gather the employees and group them by age\n.collect(Collectors.groupingBy(employee -> employee.getAge()));",this.reduceStream="departments.stream()\n.flatMap(department -> department.getEmployees().stream())\n// e1 and e2 are employees, through a BiFunction, to return the youngest employee\n.reduce((e1, e2) -> e1.getAge() < e2.getAge() ? e1 : e2)\n.ifPresent(System.out::println);"}ngOnInit(){}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-javalambdaspage"]],decls:180,vars:42,consts:[[1,"commands"],[3,"highlight","languages","highlighted"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Java 8 lambda functions"),Ks(),Ys(2,"p"),Sa(3," Lambda functions provide a more concise and arguably clearer execution of anonymous class methods. Lambda functions are composed of three main parts, the argument list, the arrow token and the body, as\n"),Ks(),Ys(4,"p"),Ys(5,"span",0),Sa(6,"new newObject((argumentList) -> functionBody())"),Ks(),Ks(),Ys(7,"p"),Sa(8," or for some already defined object as\n"),Ks(),Ys(9,"p"),Ys(10,"span",0),Sa(11,"existingObject((argumentList) -> functionBody())"),Ks(),Ks(),Ys(12,"p"),Sa(13," The curly braces are required for multiple statements. The compiler matches the argument list with a method defined by the object's interface (note here that the functionBody defines the method so a class is not relevant here). Since interfaces can list overloaded functions, it is necessary to restrict interfaces to have only one method which needs defining. Hence, lambda functions only work with functional interfaces.\n"),Ks(),Ys(14,"p"),Sa(15," Lambda functions can be used for the Comparator interface, for example, to define the behaviour of compare(). Below is the anonymous class implementation of compare().\n"),Ks(),Ys(16,"pre"),Sa(17,"    "),Ys(18,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(19,"\n"),Ks(),Ys(20,"p"),Sa(21," Ultimately, the override uses Comparable's compareTo() method for a String type. The Lambda function is actually the second parameter of sort(), and overrides the compare() method of Comparator and ends up using the compareTo() method of Comparable.\n"),Ks(),Ys(22,"pre"),Sa(23,"    "),Ys(24,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(25,"\n"),Ks(),Ys(26,"h5"),Sa(27,"Return values"),Ks(),Ys(28,"p"),Sa(29," Take the functional interface and return values as shown below.\n"),Ks(),Ys(30,"pre"),Sa(31,"    "),Ys(32,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(33,"\n"),Ks(),Ys(34,"p"),Sa(35," The above lambda could be passed directly to a method without storing locally as uc, if appropriate. A 'return' keyword is not required in the above case. For function bodies with more than one statement, the following form is expected:\n"),Ks(),Ys(36,"pre"),Sa(37,"    "),Ys(38,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(39,"\n"),Ks(),Ys(40,"h5"),Sa(41,"Scope"),Ks(),Ys(42,"p"),Sa(43," Anonymous classes can only access external variables if they are declared final. The anonymous class defines the behaviour of the function but are not necessarily executed straight away. This means that the external variables can change after they were defined in code. If the variable changed to the point where the anonymous class cannot process it (leading to an exception) when required, then the program would likely fail. One way to ensure that the variable does not change at any point is to declare it 'final'. In the next two snippets below, variable i is accessible to all in doSomething().\n"),Ks(),Ys(44,"p"),Sa(45," The example below assumes what would happen if an anonymous class would receive "),Ys(46,"i"),Sa(47,"if"),Ks(),Sa(48," it was granted access to variable i. In reality, the next two snippets would never compile.\n"),Ks(),Ys(49,"pre"),Sa(50,"    "),Ys(51,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(52,"\n"),Ks(),Ys(53,"p"),Sa(54," The lambda form, with the same problems, is below.\n"),Ks(),Ys(55,"pre"),Sa(56,"    "),Ys(57,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(58,"\n"),Ks(),Ys(59,"p"),Sa(60," To give the anonymous class (and lambda function) access to variable i, first one must declare i as 'final'. This consequently makes "),Ys(61,"i"),Sa(62,"any"),Ks(),Sa(63," operation on variable i as illegal. Hence the post-decremental operator on i is removed.\n"),Ks(),Ys(64,"pre"),Sa(65,"    "),Ys(66,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(67,"\n"),Ks(),Ys(68,"p"),Sa(69," If variable i is in scope of the anonymous class or lambda function "),Ys(70,"b"),Sa(71,"and"),Ks(),Sa(72," i is not changed, then variable i need not be declared 'final' (so is effectively final), as shown below. "),Ks(),Ys(73,"pre"),Sa(74,"    "),Ys(75,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(76,"\n"),Ks(),Ys(77,"h5"),Sa(78,"The foreach method"),Ks(),Ys(79,"p"),Sa(80," Iterable objects can be handled with lambdas, for example, with foreach. The focus is more towards functional programming, where the emphasis is more about direct input and output.\n"),Ks(),Ys(81,"pre"),Sa(82,"    "),Ys(83,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(84,"\n"),Ks(),Ys(85,"p"),Sa(86," What follows is an overview of functional interfaces which can demonstrate the use of lambdas. Note that Lambdas are never a requirement when writing Java.\n"),Ks(),Ys(87,"h5"),Sa(88,"The Predicate interface"),Ks(),Ys(89,"p"),Sa(90," One can use the Predicate interface (representing a predicate, a boolean-valued function) to determine which elements from a foreach iteration are processed.\n"),Ks(),Ys(91,"pre"),Sa(92,"    "),Ys(93,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(94,"\n"),Ks(),Ys(95,"p"),Sa(96," Following the definition, one can print according to testValue.\n"),Ks(),Ys(97,"pre"),Sa(98,"    "),Ys(99,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(100,"\n"),Ks(),Ys(101,"p"),Sa(102," The anonymous class version of the above would be:\n"),Ks(),Ys(103,"pre"),Sa(104,"    "),Ys(105,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(106,"\n"),Ks(),Ys(107,"p"),Sa(108," Executing against different conditions is probably more convenient using lambdas.\n"),Ks(),Ys(109,"h5"),Sa(110,"The Function and BiFunction interfaces"),Ks(),Ys(111,"p"),Sa(112," One can define a function which receives one parameter and returns a value.\n"),Ks(),Ys(113,"pre"),Sa(114,"    "),Ys(115,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(116,"\n"),Ks(),Ys(117,"p"),Sa(118," Functions can be passed as a parameter, as such, to a function which can then decide which method to call.\n"),Ks(),Ys(119,"pre"),Sa(120,"    "),Ys(121,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(122,"\n"),Ks(),Ys(123,"p"),Sa(124," One can use getAName() type functions to guarantee that a function is always called but which is executed is determined by some condition. Typical scenarios include callbacks.\n"),Ks(),Ys(125,"p"),Sa(126," Following the same print name example, one can chain functions together.\n"),Ks(),Ys(127,"pre"),Sa(128,"    "),Ys(129,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(130,"\n"),Ks(),Ys(131,"p"),Sa(132," It is also possible to add more functions and more 'andThen' calls to chain more functions. Furthermore, the BiFunction interface allows for functions which accept two arguments and returns one value.\n"),Ks(),Ys(133,"pre"),Sa(134,"    "),Ys(135,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(136,"\n"),Ks(),Ys(137,"h5"),Sa(138,"Streams"),Ks(),Ys(139,"p"),Sa(140," A stream in this context is a sequence of consecutive computations. The Collection interface has a stream() method which returns a stream and is the first call made. The resultant stream can then be handled with a sequence of methods. The order of the elements in the stream is the same as they appear in a List (undefined for a Set). The example below also demonstrates the calling of static methods with the class name, through "),Ys(141,"i"),Sa(142,"method referencing"),Ks(),Sa(143," (one can also conduct method referencing of non-static methods though objects of a class provided the class is instantiated).\n"),Ks(),Ys(144,"pre"),Sa(145,"    "),Ys(146,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(147,"\n"),Ks(),Ys(148,"p"),Sa(149," Another way of building streams without using a Collection and linking them with Function interfaces is given below.\n"),Ks(),Ys(150,"pre"),Sa(151,"    "),Ys(152,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(153,"\n"),Ks(),Ys(154,"p"),Sa(155," Some operations are intermediate, which take in and then return elements to/from the stream. Terminal operations do not return processed elements and are always found once at the end of the stream statement.\n"),Ks(),Ys(156,"h5"),Sa(157,"FlatMaps - Lists of Lists"),Ks(),Ys(158,"p"),Sa(159," Streams can be composed of lists as elements, each of which can be streamed again. The snippet below effectively prints all employees from all departments.\n"),Ks(),Ys(160,"pre"),Sa(161,"    "),Ys(162,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(163,"\n"),Ks(),Ys(164,"p"),Sa(165," The flatMap() method returns a stream, in this case, flattens nested lists. One gets the list from the list (in this case with getEmployees List) and sends them to a separate stream which is processed by subsequent methods. Note that the original stream is not sent along the method chain. That is, department objects are not printed.\n"),Ks(),Ys(166,"p"),Sa(167," One can gather elements from a stream and store them in a new Collection.\n"),Ks(),Ys(168,"pre"),Sa(169,"    "),Ys(170,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(171,"\n"),Ks(),Ys(172,"p"),Sa(173," It is also possible to print elements from a stream according to certain criteria with lambdas:\n"),Ks(),Ys(174,"pre"),Sa(175,"    "),Ys(176,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(177,"\n"),Ks(),Ys(178,"p"),Sa(179," Reduce() is a BiFunction and returns the youngest employee. Reduce() is the terminal operation and returns an Optional, hence the need to 'unwrap' the Optional with ifPresent().\n"),Ks()),2&e&&(Nr(18),$s("highlight",t.anonClass)("languages",t.lang),Nr(6),$s("highlight",t.lambdaFunc)("languages",t.lang),Nr(8),$s("highlight",t.returnValues)("languages",t.lang),Nr(6),$s("highlight",t.returnValuesBlock)("languages",t.lang),Nr(13),$s("highlight",t.scopeAnon)("languages",t.lang),Nr(6),$s("highlight",t.scopeLambda)("languages",t.lang),Nr(9),$s("highlight",t.corrected)("languages",t.lang),Nr(9),$s("highlight",t.correctedLambda)("languages",t.lang),Nr(8),$s("highlight",t.foreach)("languages",t.lang),Nr(10),$s("highlight",t.predicate)("languages",t.lang),Nr(6),$s("highlight",t.testPredicate)("languages",t.lang),Nr(6),$s("highlight",t.anonPredicate)("languages",t.lang),Nr(10),$s("highlight",t.function)("languages",t.lang),Nr(6),$s("highlight",t.moreFunctions)("languages",t.lang),Nr(8),$s("highlight",t.chainedFunc)("languages",t.lang),Nr(6),$s("highlight",t.bifunction)("languages",t.lang),Nr(11),$s("highlight",t.streams)("languages",t.lang),Nr(6),$s("highlight",t.moreStreams)("languages",t.lang),Nr(10),$s("highlight",t.flatMap)("languages",t.lang),Nr(8),$s("highlight",t.savingStream)("languages",t.lang),Nr(6),$s("highlight",t.reduceStream)("languages",t.lang))},directives:[Ig],styles:[".commands[_ngcontent-%COMP%]{color:#008b8b;padding:2px}"]}),e})(),rm=(()=>{class e{constructor(){this.lang=["java"],this.example="module BodyBandAndroid {\n    requires javafx.fxml;\n    requires javafx.controls;\n    requires javafx.graphics;\n    requires java.sql;\n\n    opens com.BodyBand;\n\n    // required for JavaFX to access BodyBand DB methods and associated controllers\n    opens com.BodyBand.model;\n    opens com.BodyBand.controller;\n}",this.controller="module com.example.common {\n  requires javafx.base;\n\n  exports com.example.common;\n  opens com.example.common to javafx.base;\n}",this.database="module com.example.db {\n  requires java.sql;\n  requires sqlite.jdbc;\n  \n  // javafx.base also imported through transitive\n  requires transitive com.example.common;\n\n  exports com.example.db;\n}",this.UI="module com.example.ui {\n  requires javafx.fxml;\n  requires javafx.controls;\n\n  // javafx.base also imported through transitive\n  requires com.example.db;\n\n  exports com.example.ui to javafx.graphics;\n  opens com.example.ui to javafx.fxml;\n}"}ngOnInit(){}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-javafxmodulespage"]],decls:118,vars:8,consts:[[1,"commands"],[3,"highlight","languages","highlighted"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Java 9 Modules"),Ks(),Ys(2,"p"),Sa(3," With all version of Java, the compiler looks for packages under the given working directory. If a package lies outside of this range (and must remain so, for example, external libraries like JavaFX) then its path must be added to the project's "),Ys(4,"span",0),Sa(5,"CLASSPATH"),Ks(),Sa(6," environment variable before compiling, or, passed as a command line parameter with "),Ys(7,"span",0),Sa(8,"java"),Ks(),Sa(9," and "),Ys(10,"span",0),Sa(11,"javac"),Ks(),Sa(12," using the "),Ys(13,"span",0),Sa(14,"-classpath"),Ks(),Sa(15," option.\n"),Ks(),Ys(16,"p"),Sa(17," Starting from Java 9, the Java Platform Module System (JPMS) provides another way of locating packages through modules. JPMS organises packages and was conceived to shield or encapsulate packages at compile and run-time. Modules are optional and can be viewed as packages of packages or containers of packages. From Java 9 onwards, modular based projects' packages are assumed private or are hidden from other modules. The modules list inputs, which state the dependencies, and outputs, which are granted to other modules (and thus Java packages) which rely on said module.\n"),Ks(),Ys(18,"p"),Sa(19," The module metadata is always stored in "),Ys(20,"span",0),Sa(21,"module-info.java"),Ks(),Sa(22,", which is placed in the root folder of the module. This folder precedes the java package(s), that is, java packages are physically stored one level below the directory where the "),Ys(23,"span",0),Sa(24,"module-info.java"),Ks(),Sa(25," file is located.\n"),Ks(),Ys(26,"pre"),Sa(27,"    "),Ys(28,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(29,"\n"),Ks(),Ys(30,"p"),Sa(31," Module identifiers resemble package names and include separating periods (.). There are two types of modules: open and 'normal' (an informal label used here to distinguish with open modules). Both differ in how how other modules access their packages.\n"),Ks(),Ys(32,"p"),Sa(33," Normal modules grant access to packages (types) at compile and run-time which are explicitly exported. The above example is a normal module. "),Ys(34,"b"),Sa(35,"Open modules"),Ks(),Sa(36,", preceded with the 'open' token grant access to packages explicitly exported at compile-time while at run-time grants access to all of its packages.\n"),Ks(),Ys(37,"p"),Sa(38," When a module exports a package, it exposes the public and protected members and types of the package, that is, classes and static types. All other packages not exported, including any public members and types they define, are hidden from the outside the module. The usual access modifiers still apply to classes within the package however how they behave outside the package with other modules is dependent on whether they are exported. There is more about when to export package, outlined later.\n"),Ks(),Ys(39,"p"),Sa(40," The exports and requires statements work hand in hand and must align otherwise the dependent module, with the requires statement, will not compile. Legacy code can compile without modules because the compiler automatically assigns un-declared packages in an 'unnamed module', and makes the unnamed module both a provider and consumer to/of other modules. Applying modules is a judgement and usually more applicable to more complex projects where modularising makes sense.\n"),Ks(),Ys(41,"h5"),Sa(42,"Module statements and reflection"),Ks(),Ys(43,"p"),Sa(44," *A service is an implementation of a specific interface or abstract class that can be consumed by other classes.\n"),Ks(),Ys(45,"ul"),Ys(46,"li"),Sa(47,"The "),Ys(48,"span",0),Sa(49,"requires moduleName"),Ks(),Sa(50," statement states which other modules are dependencies for the current module"),Ks(),Ys(51,"li"),Sa(52,"The "),Ys(53,"span",0),Sa(54,"exports packageName"),Ks(),Sa(55," statement states which packages are available to other modules that consume the current module at compile-time and run-time"),Ks(),Ys(56,"li"),Sa(57,"The "),Ys(58,"span",0),Sa(59,"provides className"),Ks(),Sa(60," statement states which service implementations (classes*) that the current module provides. This declaration is commonly used in enterprise level development."),Ks(),Ys(61,"li"),Sa(62,"The "),Ys(63,"span",0),Sa(64,"uses interfaceName"),Ks(),Sa(65," statement states which services (interface or abstract class) the current module consumes"),Ks(),Ys(66,"li"),Sa(67,"The "),Ys(68,"span",0),Sa(69,"opens packageName"),Ks(),Sa(70," statement states provides run-time (not compile-time) access to a specific package. Note that 'opens' cannot be used in open modules, which exposes all packages)"),Ks(),Ks(),Ys(71,"p"),Sa(72," Prior to Java 9, access to all classes was granted by default (through reflection, below) and so the module system provided from Java 9 rectified this by shielding all classes, exposing them only when explicitly stated. The 'exports' statement exposes public and protected classes and types of the package at run-time and compile-time, whereas 'opens' exposes public and protected classes and types at run-time only, with reflective permissions.\n"),Ks(),Ys(73,"p"),Sa(74," The open and opens statements allow for reflective permissions. "),Ys(75,"b"),Sa(76,"Reflection"),Ks(),Sa(77," is a feature which enables information about a class to obtained at run-time. Overall, reflection makes it possible to inspect classes, interfaces, fields and methods at run-time, without knowing the names of the classes or methods. The process is somewhat involved (not described here) but essentially starts by building an object of the Class queried, with getClass(), and then obtaining information from the object.\n"),Ks(),Ys(78,"p"),Sa(79," One can restrict which packages can access the modules exported packages with the 'to' token, "),Ys(80,"span",0),Sa(81,"exports packageName to externalPackagesName"),Ks(),Sa(82,". The "),Ys(83,"span",0),Sa(84,"opens packageName to externalPackagesName"),Ks(),Sa(85," statement defines analogous behaviour.\n"),Ks(),Ys(86,"h5"),Sa(87,"Transitive"),Ks(),Ys(88,"p"),Sa(89," Say moduleB not only requires moduleA but also requires other modules listed in moduleA's "),Ys(90,"span",0),Sa(91,"requires"),Ks(),Sa(92," statement. The function of moduleA requires other dependencies and so other modules which depend on moduleA are more than likely going to require the same modules. To enable moduleB to import the same modules that moduleA imports, use the "),Ys(93,"span",0),Sa(94,"requires transitive moduleName"),Ks(),Sa(95," statement in moduleA. Here, moduleA is importing the module, moduleName. When moduleB imports moduleA, it will also import moduleName. "),Ks(),Ys(96,"h5"),Sa(97,"An MVC example"),Ks(),Ys(98,"p"),Sa(99," Segregation of modules is generally supported in the community. Below is a typical example showing how modules communicate with JavaFX packages. Note how all 'opens' statements include the 'to' token.\n"),Ks(),Ys(100,"p"),Sa(101," The common or controller module:\n"),Ks(),Ys(102,"pre"),Sa(103,"    "),Ys(104,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(105,"\n"),Ks(),Ys(106,"p"),Sa(107," The database or model module:\n"),Ks(),Ys(108,"pre"),Sa(109,"    "),Ys(110,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(111,"\n"),Ks(),Ys(112,"p"),Sa(113," The UI or viewer module:\n"),Ks(),Ys(114,"pre"),Sa(115,"    "),Ys(116,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(117,"\n"),Ks()),2&e&&(Nr(28),$s("highlight",t.example)("languages",t.lang),Nr(76),$s("highlight",t.controller)("languages",t.lang),Nr(6),$s("highlight",t.database)("languages",t.lang),Nr(6),$s("highlight",t.UI)("languages",t.lang))},directives:[Ig],styles:[".commands[_ngcontent-%COMP%]{color:#008b8b;padding:2px}"]}),e})(),sm=(()=>{class e{constructor(){this.lang=["bash"],this.awsKeys="$ aws configure\n  AWS Access Key ID [None]: XYXYXYXYXYXYXYXYXYXYXYXY\n  AWS Secret Access Key [None]: xy7xy7xy7xy7xy7xy7xy7xy7xy7xy7xy7x\n  Default region name [None]: eu-west-2\n  Default output format [None]: json",this.awsConfigure="$ aws configure list\n  Name                    Value             Type    Location\n  ----                    -----             ----    --------\nprofile                <not set>             None    None\naccess_key     ****************XYXY shared-credentials-file    \nsecret_key     ****************xy7x shared-credentials-file    \nregion                eu-west-2      config-file    ~/.aws/config",this.awsPeriod='{\n  "Period": {\n     "Begintime": "09:00",\n     "Endtime": "17:00",\n     "Name": "weekdays",\n     "Weekdays": [\n        "mon-fri"\n     ],\n     "Type": "period"\n  }\n}',this.awsSchedule='{\n  "Schedule": {\n     "Timezone": "UTC",\n     "Name": "OfficeHours",\n     "Periods": [\n        "weekdays",\n        "weekends"\n     ],\n     "StopNewInstances": true,\n     "UseMaintenanceWindow": false,\n     "RetainRunning": false,\n     "Enforced": false,\n     "Hibernate": false,\n     "UseMetrics": false,\n     "Type": "schedule"\n  }\n}'}ngOnInit(){}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-aws-intro-page"]],decls:94,vars:8,consts:[[1,"commands"],["href","https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-quickstart.html","target","_blank"],[3,"highlight","languages","highlighted"],["href","https://docs.aws.amazon.com/solutions/latest/instance-scheduler/appendix-a.html"],["href","https://aws.amazon.com/premiumsupport/knowledge-center/stop-start-instance-scheduler/","target","_blank"],["href","https://www.iucc.ac.il/en/blog/using-aws-instance-scheduler-to-save-costs/","target","_blank"],["href","https://eu-west-2.console.aws.amazon.com/dynamodb/home?region=eu-west-2","target","_blank"],["href","https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/environments-cfg-autoscaling-scheduledactions.html","target","_blank"],["href","https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/using-features.managing.as.html"]],template:function(e,t){1&e&&(Ys(0,"h4"),Sa(1," Amazon Web Services\n"),Ks(),Ys(2,"p"),Sa(3," First, install the AWS CLI:\n"),Ks(),Ys(4,"p",0),Sa(5," $ sudo apt install awscli\n"),Ks(),Ys(6,"p"),Sa(7,"Review credentials:"),Ks(),Ys(8,"p",0),Sa(9," $ aws configure list\n"),Ks(),Ys(10,"p"),Sa(11," Configure credentials "),Ys(12,"a",1),Sa(13,"here"),Ks(),Sa(14,". Build a new access key and secret access key (the latter is only viewed on creation). See ~/.aws/ for config.\n"),Ks(),Ys(15,"p"),Sa(16," Edit credentials with keys, passing:\n"),Ks(),Ys(17,"pre"),Sa(18,"    "),Ys(19,"code",2),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(20,"\n"),Ks(),Ys(21,"p"),Sa(22," Verify with:\n"),Ks(),Ys(23,"pre"),Sa(24,"    "),Ys(25,"code",2),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(26,"\n"),Ks(),Ys(27,"p"),Sa(28," Install the Scheduler CLI following "),Ys(29,"a",3),Sa(30,"these official instructions"),Ks(),Sa(31,".\n"),Ks(),Ys(32,"h4"),Sa(33,"The stack"),Ks(),Ys(34,"p"),Sa(35," Two resources which show how to set up stacks (collections of AWS resources, e.g. EC2 instances, as part of CloudFormation): "),Ks(),Ys(36,"ul"),Ys(37,"li"),Ys(38,"a",4),Sa(39,"https://aws.amazon.com/premiumsupport/knowledge-center/stop-start-instance-scheduler/"),Ks(),Ks(),Ys(40,"li"),Ys(41,"a",5),Sa(42,"https://www.iucc.ac.il/en/blog/using-aws-instance-scheduler-to-save-costs/"),Ks(),Ks(),Ks(),Ys(43,"p"),Sa(44,' Run the command below to configure the period, "weekdays", as Monday to Friday between 09:00-17:00 (substitute stack name Mar21-StartStopEC2 with the desired stack name):\n'),Ks(),Ys(45,"p"),Ys(46,"span",0),Sa(47,"$ scheduler-cli create-period --name weekdays --stack Mar21-StartStopEC2 --region eu-west-2 --begintime 09:00 --endtime 17:00 --weekdays mon-fri"),Ks(),Ks(),Ys(48,"p"),Sa(49," On execution, this returns:\n"),Ks(),Ys(50,"pre"),Sa(51,"    "),Ys(52,"code",2),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(53,"\n"),Ks(),Ys(54,"p"),Sa(55," Run the command below to configure a schedule, \u201cOfficeHours\u201d, in London time zone (substitute Mar21-StartStopEC2 with the relevant stack name):\n"),Ks(),Ys(56,"p"),Ys(57,"span",0),Sa(58,"$ scheduler-cli create-schedule --name OfficeHours --periods weekdays,weekends --timezone UTC --stack Mar21-StartStopEC2"),Ks(),Ks(),Ys(59,"p"),Sa(60," This should return:\n"),Ks(),Ys(61,"pre"),Sa(62,"    "),Ys(63,"code",2),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(64,"\n"),Ks(),Ys(65,"p"),Sa(66," DynamoDB (key-value and document NoSQL database, related to Dynamo) tables "),Ys(67,"a",6),Sa(68,"here"),Ks(),Sa(69,". Click Tables and choose ConfigTable; then click Items and verify OfficeHours schedule and weekdays period are listed.\n"),Ks(),Ys(70,"p"),Sa(71," To a deployed (currently running) EC2 or Amazon RDS instance, add a new tag with key \u201cSchedule\u201d and value \u201cOfficeHours\u201d. New instances started by the BeanStalk scaler are tagged automatically by default.\n"),Ks(),Ys(72,"h4"),Sa(73,"Autoscaling: balancing instances by schedule"),Ks(),Ys(74,"p"),Sa(75," One can set the target number of instances available with Autoscaling. Find AutoScaling under EC2 console. This adjusts how many instances are running through BeanStalk. Instructions "),Ys(76,"a",7),Sa(77,"here"),Ks(),Sa(78,". Note that EC2 instances are started and stopped by the scaler to meet the currently expected demand so setting the above EC2 schedule (set by CloudFormation) only applies to a specific instance with the given instance ID. Such scripts manage EC2 compute time only. The EC2 script will start and stop the specific instance but this does not stop the BeanStalk scaler from starting and stopping new/other EC2 instances to meet the demand. Both EC2 and scaling schedules are needed.\n"),Ks(),Ys(79,"p"),Sa(80," In other examples, min = 1 and max = 5 defines the lower and upper limits as guidelines for CloudWatch. Precisely how many instances are running and all other features are explained in the "),Ys(81,"a",8),Sa(82,"docs"),Ks(),Sa(83,". Since this example manages a single instance at any given time, there is no need to consider anything more at this stage.\n"),Ks(),Ys(84,"p"),Sa(85," Apply custom auto-scaling to one instance every weekday, starting from 0900, CRON here: "),Ys(86,"span",0),Sa(87,"0 9 * * 1-5"),Ks(),Sa(88,". Set the start and end times of a recurring auto-scale as the period when the policy applies (a period of months or years until required). Apply all changes to ensure they are saved. "),Ks(),Ys(89,"p"),Sa(90," Apply a second auto-scaling to zero instances every weekday, starting at 1700, CRON here: "),Ys(91,"span",0),Sa(92,"0 17 * * 1-5"),Ks(),Sa(93,".\n"),Ks()),2&e&&(Nr(19),$s("highlight",t.awsKeys)("languages",t.lang),Nr(6),$s("highlight",t.awsConfigure)("languages",t.lang),Nr(27),$s("highlight",t.awsPeriod)("languages",t.lang),Nr(11),$s("highlight",t.awsSchedule)("languages",t.lang))},directives:[Ig],styles:[".commands[_ngcontent-%COMP%]{color:#008b8b;padding:2px}"]}),e})(),am=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-aws-spring"]],decls:23,vars:0,consts:[["href","https://mydeveloperplanet.com/2020/10/21/how-to-deploy-a-spring-boot-app-to-aws-elastic-beanstalk/","target","_blank"],[1,"commands"],["href","https://www.javacodegeeks.com/2019/09/easy-spring-boot-deployment-aws-elastic-beanstalk.html","target","_blank"],["href","https://stackabuse.com/getting-started-with-thymeleaf-in-java-and-spring/","target","_blank"]],template:function(e,t){1&e&&(Ys(0,"h4"),Sa(1,"AWS and Spring"),Ks(),Ys(2,"p"),Sa(3," Follow "),Ys(4,"a",0),Sa(5,"these"),Ks(),Sa(6," instructions, and then on installation set the paths below:\n"),Ks(),Ys(7,"p"),Ys(8,"span",1),Sa(9,"echo 'export PATH=\"$PATH:/home/james/.ebcli-virtual-env/executables\"' >> ~/.bashrc && source ~/.bashrc"),Ks(),Ks(),Ys(10,"p"),Ys(11,"span",1),Sa(12,"echo 'export PATH=\"$PATH:/home/james/.pyenv/versions/3.7.2/bin\"' >> ~/.bashrc && source ~/.bashrc"),Ks(),Ks(),Ys(13,"p"),Sa(14," Don't forget to add SERVER_PORT: 5000 to the "),Ys(15,"a",2),Sa(16,"BeanStalk config"),Ks(),Sa(17,".\n"),Ks(),Ys(18,"p"),Sa(19," Implement a class that defines Thymeleaf template resolver; see "),Ys(20,"a",3),Sa(21,"https://stackabuse.com/getting-started-with-thymeleaf-in-java-and-spring/"),Ks(),Sa(22,". "),Ks())},styles:[".commands[_ngcontent-%COMP%]{color:#008b8b;padding:2px}"]}),e})(),om=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-androidjavafx"]],decls:32,vars:0,consts:[[1,"row"],[1,"col-3"],["src","assets/images/icons8-android-os.svg"],[1,"list-group"],["type","button","routerLink","androidButton",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-primary"],["type","button","routerLink","androidCalc",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-primary"],["type","button","routerLink","androidRSS",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-primary"],["type","button","routerLink","androidYouTube",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-primary"],["type","button","routerLink","androidFlickr",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-primary"],["type","button","routerLink","androidContentProviders",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-primary"],["type","button","routerLink","androidTaskTimer",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-primary"],["src","assets/images/javafx.svg"],["type","button","routerLink","javafxGradle",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-success"],["type","button","routerLink","javafxModules",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-success"],[1,"col-9"]],template:function(e,t){1&e&&(Ys(0,"div",0),Ys(1,"div",1),Ys(2,"h4"),Zs(3,"img",2),Sa(4," Android"),Ks(),Ys(5,"div",3),Ys(6,"button",4),Sa(7,"Simple button app"),Ks(),Ys(8,"button",5),Sa(9,"Calculator"),Ks(),Ys(10,"button",6),Sa(11,"RSS Reader"),Ks(),Ys(12,"button",7),Sa(13,"YouTube App"),Ks(),Ys(14,"button",8),Sa(15,"Flickr App"),Ks(),Ys(16,"button",9),Sa(17,"Content providers"),Ks(),Ys(18,"button",10),Sa(19,"Task timer"),Ks(),Ks(),Zs(20,"hr"),Ys(21,"h4"),Zs(22,"img",11),Sa(23," JavaFX"),Ks(),Ys(24,"div",3),Ys(25,"button",12),Sa(26,"JavaFX with Gradle"),Ks(),Ys(27,"button",13),Sa(28,"Java 9 modules"),Ks(),Ks(),Zs(29,"hr"),Ks(),Ys(30,"div",14),Zs(31,"router-outlet"),Ks(),Ks())},directives:[Sp,Cp],styles:[""]}),e})(),lm=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-spring-jakarta"]],decls:65,vars:0,consts:[[1,"row"],[1,"col-3"],["src","assets/images/icons8-spring-logo.svg"],[1,"list-group"],["type","button","routerLink","springMVC",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-success"],["type","button","routerLink","springSecurity",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-success"],["type","button","routerLink","springReactive",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-success"],["type","button","routerLink","springREST",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-success"],["type","button","routerLink","springAndJMS",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-success"],["src","assets/images/icons8-java-bean.svg"],["type","button","routerLink","jakartaDemo",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-secondary"],["type","button","routerLink","jakartaCDI",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-secondary"],["type","button","routerLink","jakartaContainerBean",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-secondary"],["type","button","routerLink","jakartaProducers",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-secondary"],["type","button","routerLink","jakartaEvents",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-secondary"],["type","button","routerLink","jakartaJPA",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-secondary"],["type","button","routerLink","jakartaAccessMappingFetching",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-secondary"],["type","button","routerLink","jakartaPKsRelationalMapping",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-secondary"],["type","button","routerLink","jakartaSortingCollections",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-secondary"],["type","button","routerLink","jakartaEJBs",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-secondary"],["type","button","routerLink","jakartaEntityManager",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-secondary"],["type","button","routerLink","jakartaJPQL",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-secondary"],["type","button","routerLink","jakartaOutro",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-secondary"],["type","button","routerLink","jakartaJAXRSIntro",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-secondary"],["type","button","routerLink","jakartaJAXRSResponsesMappersFields",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-secondary"],["type","button","routerLink","jakartaJAXRSCaching",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-secondary"],["type","button","routerLink","jakartaJAXRSfilter",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-secondary"],["type","button","routerLink","jakartaJAXRSjwt",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-secondary"],["type","button","routerLink","jakartaJAXRSsyncJSON",1,"list-group-item","py-1","pl-1","list-group-item-action","list-group-item-secondary"],[1,"col-9"]],template:function(e,t){1&e&&(Ys(0,"div",0),Ys(1,"div",1),Ys(2,"h4"),Zs(3,"img",2),Sa(4," Spring"),Ks(),Ys(5,"div",3),Ys(6,"button",4),Sa(7,"Spring Boot and MVC"),Ks(),Ys(8,"button",5),Sa(9,"Spring Security"),Ks(),Ys(10,"button",6),Sa(11,"Reactive Spring Demo"),Ks(),Ys(12,"button",7),Sa(13,"RESTful APIs"),Ks(),Ys(14,"button",8),Sa(15,"Spring and JMS"),Ks(),Ks(),Zs(16,"hr"),Ys(17,"h4"),Zs(18,"img",9),Sa(19," Jakarta EE"),Ks(),Ys(20,"div",3),Ys(21,"button",10),Sa(22,"First Demo"),Ks(),Ys(23,"button",11),Sa(24,"Introduction to the CDI"),Ks(),Ys(25,"button",12),Sa(26,"Containers, contexts and beans"),Ks(),Ys(27,"button",13),Sa(28,"Producers and Interceptors"),Ks(),Ys(29,"button",14),Sa(30,"Events"),Ks(),Ks(),Zs(31,"br"),Ys(32,"div",3),Ys(33,"button",15),Sa(34,"Introduction to the JPA"),Ks(),Ys(35,"button",16),Sa(36,"Access and mapping types, and Fetching"),Ks(),Ys(37,"button",17),Sa(38,"Primary keys, relational mapping and embedding"),Ks(),Ys(39,"button",18),Sa(40,"Sorting collections and Maps in JPA"),Ks(),Ys(41,"button",19),Sa(42,"EJBs and transactions"),Ks(),Ys(43,"button",20),Sa(44,"Persistence context and Entity Manager"),Ks(),Ys(45,"button",21),Sa(46,"Java Persistence Query Language"),Ks(),Ys(47,"button",22),Sa(48,"Other JPA features"),Ks(),Ks(),Zs(49,"br"),Ys(50,"div",3),Ys(51,"button",23),Sa(52,"Introduction to JAX-RS"),Ks(),Ys(53,"button",24),Sa(54,"Response objects, Exception mappers and Form fields"),Ks(),Ys(55,"button",25),Sa(56,"Caching, content negotiation and file I/O"),Ks(),Ys(57,"button",26),Sa(58,"Loggers, cookies and filters"),Ks(),Ys(59,"button",27),Sa(60,"Security with JJWT and Apache Shiro"),Ks(),Ys(61,"button",28),Sa(62,"Resources, JSON-B, JSON-P, Clients and SSE"),Ks(),Ks(),Ks(),Ys(63,"div",29),Zs(64,"router-outlet"),Ks(),Ks())},directives:[Sp,Cp],styles:[""]}),e})(),cm=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-jakartademo"]],decls:26,vars:0,consts:[["href","https://www.payara.fish/downloads/payara-platform-community-edition/","target","_blank"],["href","https://www.oracle.com/middleware/technologies/glassfish-server.html","target","_blank"],["href","https://github.com/jfspps/JavaEEDemo","target","_blank"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Introduction to Jakarta EE for Spring developers"),Ks(),Ys(2,"p"),Sa(3," This demo introduces some of the basic project setup requirements to build a modern Java EE (Jakarta EE) web application resource, or WAR. The WAR can be deployed to an application server, such as "),Ys(4,"a",0),Sa(5,"Payara Micro"),Ks(),Sa(6," (Payara is a derivative of "),Ys(7,"a",1),Sa(8,"Oracle GlassFish Server"),Ks(),Sa(9,"). The option to build a Java archive, or JAR, with Payara Micro included is available.\n"),Ks(),Ys(10,"p"),Sa(11," The key ideas and annotations used, provided in the project's readme, are:\n"),Ks(),Ys(12,"ul"),Ys(13,"li"),Sa(14,"Java bean and JPA configurations via XML"),Ks(),Ys(15,"li"),Sa(16,"Servlets (controllers) which handle routing as extensions to the web server"),Ks(),Ys(17,"li"),Sa(18,"REST endpoint exposure"),Ks(),Ys(19,"li"),Sa(20,"Templates with JSP and JSF"),Ks(),Ks(),Ys(21,"p"),Sa(22," The GitHub repo is "),Ys(23,"a",2),Sa(24,"here"),Ks(),Sa(25,".\n"),Ks())},styles:[""]}),e})(),hm=(()=>{class e{constructor(){this.lang=["java"]}ngOnInit(){}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-jakarta-cdi"]],decls:22,vars:0,template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Context Dependency Injection CDI"),Ks(),Ys(2,"p"),Ys(3,"b"),Sa(4,"Inversion of control (IOC)"),Ks(),Sa(5," is a paradigm which enables individual components of a program to be loosely coupled with one another. It makes large scale programs to be extended more easily and tested more independently. The primary responsibility of instantiating and supplying (injecting) objects is not handled by the method executed. IOC is implemented by "),Ys(6,"b"),Sa(7,"dependency injection (DI)"),Ks(),Sa(8,", in which the container manages the instantiating of classes (beans) and injects them into a method.\n"),Ks(),Ys(9,"p"),Sa(10," Some of the main features of CDI 2.0 (an API that implements DI) are:\n"),Ks(),Ys(11,"ul"),Ys(12,"li"),Sa(13,"Typesafe dependency: the dependencies are typesafe; the compilation or runtime execution of the context is halted if the wrong type is passed to a method"),Ks(),Ys(14,"li"),Sa(15,"Lifecycle contexts: the context (where beans are instantiated) and objects (contextual instances) have a lifecycle and are automatically managed in the background by the container"),Ks(),Ys(16,"li"),Sa(17,"Interceptors: these can perform tasks before, during and after a method is executed (typical example includes the logging of metadata for a specific method)"),Ks(),Ys(18,"li"),Sa(19,"Events: these are responses to particular events executed by the user or program, and can be asynchronous"),Ks(),Ys(20,"li"),Sa(21,"Service Provider Interface: these are extensions available to the CDI"),Ks(),Ks())},styles:[".annot[_ngcontent-%COMP%]{color:#ff0}"]}),e})(),um=(()=>{class e{constructor(){this.lang=["java","xml"],this.jpaTable='\n  @Entity\n  @Table(name = "Some_Table_Name")\n  public class Costs {\n\n    @Id\n    Long id;\n\n    private double income;\n\n    // getters and setters\n  }\n  ',this.jpaSuperClass="\n  // note that SomeAbstractEntityClass will not have its own table (this is handled \n  // by child classes)\n  @MappedSuperClass\n  public abstract class SomeAbstractEntityClass implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    protected Long id;\n\n    @Version\n    protected Long version;\n\n    // other fields to be implemented go next\n\n    // getters and setters\n  }",this.jpaChildClass="\n  @Entity\n  public class ChildOne extends SomeAbstractEntityClass {\n\n    // add other fields, getters and setters that are unique to ChildOne\n  }\n  ",this.jpaChildClassOverride='\n  @Entity\n  @AttributeOverride(name = "id", column = @Column(name = "childOneID"))\n  public class ChildOne extends SomeAbstractEntityClass {\n\n    // ChildOne entities\' "id" is now referred to in the JPA table as "childOneID",\n    // note that the Java instance is still referred to as "id"\n\n    // add other fields, getters and setters that are unique to ChildOne\n  }\n  '}ngOnInit(){}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-jakarta-jpa"]],decls:76,vars:8,consts:[["href","https://www.eclipse.org/eclipselink/","target","_blank"],["href","https://hibernate.org/","target","_blank"],["href","https://spring.io/projects/spring-data-jpa","target","_blank"],[1,"annot"],[3,"highlight","languages","highlighted"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"The Java Persistence API (JPA)"),Ks(),Ys(2,"p"),Sa(3," The JPA allows Java objects to be mapped to a persistent database. The framework which implements and handles the mapping is referred to as object-relation mapping, or ORM. The ORM handles different database queries, accommodates legacy code and can help perform transactions regardless of where the data is persisted (saved). The default actions can be overridden when required.\n"),Ks(),Ys(4,"p"),Sa(5," The JPA is an interface which is implemented by a number of frameworks or "),Ys(6,"b"),Sa(7,"providers"),Ks(),Sa(8," or JPA runtime. The default Java EE implementation is "),Ys(9,"a",0),Sa(10,"EclipseLink"),Ks(),Sa(11," though there are others in use in the enterprise environment including "),Ys(12,"a",1),Sa(13,"Hibernate"),Ks(),Sa(14," and "),Ys(15,"a",2),Sa(16,"Spring Data JPA"),Ks(),Sa(17,".\n"),Ks(),Ys(18,"h5"),Sa(19,"Setting up the tables and entities"),Ks(),Ys(20,"p"),Sa(21," The fundamental (atomic) unit of a JPA component is a POJO, with its class annotated with the "),Ys(22,"span",3),Sa(23,"@Entity"),Ks(),Sa(24,". The "),Ys(25,"span",3),Sa(26,"@Id"),Ks(),Sa(27," annotation is then applied to a field, of type Long, to ensure that each instance is unique with a unique Id.\n"),Ks(),Ys(28,"p"),Sa(29," To this point, the minimum needed to declare a JPA component is done. The name of the table is, without further intervention, the same as the class name. To use a different name, use the "),Ys(30,"span",3),Sa(31,'@Table(name = "SomeTableName")'),Ks(),Sa(32," annotation. So far, the class would look like the following.\n"),Ks(),Ys(33,"pre"),Sa(34,"    "),Ys(35,"code",4),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(36,"\n"),Ks(),Ys(37,"p"),Sa(38," Changing the table name enables POJOs to be stored according to different database requirements. Super classes can form the foundation of JPA entities which have similar fields. This can be implemented by defining an abstract class, itself implementing Serializable.\n"),Ks(),Ys(39,"pre"),Sa(40,"    "),Ys(41,"code",4),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(42,"\n"),Ks(),Ys(43,"p"),Sa(44," The abstract class can then be extended, using the same fields already listed, as follows.\n"),Ks(),Ys(45,"pre"),Sa(46,"    "),Ys(47,"code",4),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(48,"\n"),Ks(),Ys(49,"p"),Sa(50," To override fields in the child class, annotate the child class with "),Ys(51,"span",3),Sa(52,"@AttributeOverride"),Ks(),Sa(53,".\n"),Ks(),Ys(54,"pre"),Sa(55,"    "),Ys(56,"code",4),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(57,"\n"),Ks(),Ys(58,"p"),Sa(59," Fields are mapped directly to columns with a column name that is similar to the field name (depends on the JPA implementation), and are by default known as basic fields (types). The optional annotation "),Ys(60,"span",3),Sa(61,"@Basic"),Ks(),Sa(62," of a field, which follows this mapping approach, emphasises this in the code. The actual type stored in the JPA table depends on the implementation. For example, Java Strings are quite often mapped as VARCHAR types.\n"),Ks(),Ys(63,"p"),Sa(64," To customise the JPA column mapping, use the "),Ys(65,"span",3),Sa(66,'@Column(name = "jpaColumnName")'),Ks(),Sa(67,' annotation for the desired field. There are other options available, including "length", "nullable" and "unique".\n'),Ks(),Ys(68,"p"),Sa(69," To exclude the mapping of super class or child class field, use the "),Ys(70,"span",3),Sa(71,"@Transient"),Ks(),Sa(72," annotation. In other words, the Java POJO will have a field that is never stored or known when consulting the JPA table. This might be useful if the POJO stores metadata that is not relevant to the database. Otherwise, without the "),Ys(73,"span",3),Sa(74,"@Transient"),Ks(),Sa(75," annotation the field will automatically be mapped as a basic type.\n"),Ks()),2&e&&(Nr(35),$s("highlight",t.jpaTable)("languages",t.lang),Nr(6),$s("highlight",t.jpaSuperClass)("languages",t.lang),Nr(6),$s("highlight",t.jpaChildClass)("languages",t.lang),Nr(9),$s("highlight",t.jpaChildClassOverride)("languages",t.lang))},directives:[Ig],styles:[".annot[_ngcontent-%COMP%]{color:#ff0}.commands[_ngcontent-%COMP%]{color:#008b8b;padding:2px}"]}),e})(),dm=(()=>{class e{constructor(){this.lang=["java"],this.arrayListClass="\n  public class ArrayList<T> {\n\n    private T[] arrayList;\n    private int capacity;\n    private int length;\n\n    public ArrayList(int capacity) {\n        if (capacity == 0){\n            this.capacity = 1;\n        } else\n            this.capacity = capacity;\n\n        this.arrayList = (T[]) new Object[this.capacity];\n        this.length = 0;\n    }\n\n    /**\n     * Adds a new element to array at the lowest-index null\n     * element (not necessarily the end of the array).\n     * The array capacity increases automatically when the \n     * number of free elements remaining is one.\n     *\n     * @param newElement - element to be added\n     */\n    public void add(T newElement){\n        if (length > 0 && capacity - length < 2){\n            ArrayList<T> newArray = new ArrayList<>(2 * this.capacity);\n            int thisLength = clone(newArray);\n\n            newArray.arrayList[thisLength] = newElement;\n\n            // re-reference this.arrayList and properties\n            this.arrayList = newArray.arrayList;\n            this.capacity = newArray.capacity;\n            this.length++;\n        } else {\n            // get to the next null element\n            int j = 0;\n            while (this.arrayList[j] != null){\n                j++;\n            }\n            this.arrayList[j] = newElement;\n\n            // only increment this.length if newElement was added at the end\n            if (j == length){\n                this.length++;\n            }\n        }\n    }\n\n    /**\n     * Helper function that copies this.arrayList to a new array.\n     *\n     * @param newArray - reference to array clone\n     * @return number of elements copied (length of array copied)\n     */\n    private int clone(ArrayList<T> newArray) {\n        int i;\n        for (i = 0; i < this.length; i++) {\n            newArray.arrayList[i] = this.arrayList[i];\n        }\n        return i;\n    }\n\n    /**\n     * Returns the length or size of the array\n     *\n     * @return index of element that proceeds the last non-null element\n     */\n    public int size(){\n        return this.length;\n    }\n\n\n    /**\n     * Determines if an array is empty or not\n     *\n     * @return true if empty and false if not\n     */\n    public boolean isEmpty(){\n        return this.length == 0;\n    }\n\n    /**\n     * Retrieves the element (which can be null) at the supplied \n     * index and returns null if not found.\n     *\n     * @param index - index of element requested\n     * @return data of the element with the supplied index\n     */\n    public T get(int index){\n        if (index < length){\n            return this.arrayList[index];\n        } else\n            return null;\n    }\n\n    /**\n     * Clears the entire array and pads all elements as null, \n     * while resetting the length to zero.\n     *\n     * The capacity of and reference to the array are not changed.\n     */\n    public void clear(){\n        // use the same memory allocation\n        for (int i = 0; i < this.length; i++){\n            this.arrayList[i] = null;\n        }\n        this.length = 0;\n    }\n\n    /**\n     * Searches for the first element with the given data\n     *\n     * @param data value or data sought after\n     * @return index of the first element found; -1 if none found\n     */\n    public int indexOf(T data){\n        for (int i = 0; i < this.length; i++){\n            if (this.arrayList[i] == data){\n                return i;\n            }\n        }\n        return -1;\n    }\n\n    /**\n     * Sets the first element found as null, returning the element\n     * (which can be null) if valid and null if not.\n     *\n     * @param data nullable data to be removed\n     * @return data of the element removed (can be null); \n     * null if data not found\n     */\n    public T removeElement(T data){\n        int index = this.indexOf(data);\n        T temp = null;\n\n        if (index >= 0){\n            temp = this.arrayList[index];\n            this.arrayList[index] = null;\n            if (index == length - 1){\n                this.length--;\n            }\n        }\n        return temp;\n    }\n\n    /**\n     * Sets the element at the provided index to null.\n     *\n     * @param index index of the element to be removed\n     * @return data of element removed (can be null)\n     */\n    public T removeAtIndex(int index){\n        T temp = null;\n        if (index >= 0){\n            temp = this.get(index);\n            this.arrayList[index] = null;\n        }\n        return temp;\n    }\n\n    /**\n     * Assigns the element with the data passed.\n     *\n     * This method is equivalent to addAtIndex(), and expands the \n     * array as necessary to accommodate the newElement.\n     *\n     * @param data data to be assigned to the element\n     * @param index index of element to be set (this can be out of \n     * bounds of the array, the array will adjust length as\n     *              required)\n     */\n    public void set(T data, int index){\n        if (index < 0){\n            return;\n        }\n\n        if (index < length){\n            this.arrayList[index] = data;\n        } else {\n            // build a new array just large enough\n            ArrayList<T> newArray = new ArrayList<>(index+1);\n            this.clone(newArray);\n\n            newArray.arrayList[index] = data;\n            this.arrayList = newArray.arrayList;\n            this.length = index + 1;\n            this.capacity = newArray.capacity;\n        }\n    }\n  }\n  "}ngOnInit(){}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-java-arraylist"]],decls:14,vars:2,consts:[["href","https://github.com/jfspps/AlgorithmsInJava/blob/main/ADTsAlgoServices/src/main/java/com/algo_data/arrays/ArrayList.java","target","_blank"],["href","https://github.com/jfspps/AlgorithmsInJava/blob/main/ADTsAlgoServices/src/test/java/com/algo_data/arrays/ArrayListTest.java","target","_blank"],[3,"highlight","languages","highlighted"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Custom ArrayList"),Ks(),Ys(2,"p"),Sa(3," A custom implementation of the Java ArrayList, with common methods. The class taken from my Spring demo is "),Ys(4,"a",0),Sa(5,"here"),Ks(),Sa(6," and unit test "),Ys(7,"a",1),Sa(8,"here"),Ks(),Sa(9,".\n"),Ks(),Ys(10,"pre"),Sa(11,"    "),Ys(12,"code",2),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(13,"\n"),Ks()),2&e&&(Nr(12),$s("highlight",t.arrayListClass)("languages",t.lang))},directives:[Ig],styles:[""]}),e})(),pm=(()=>{class e{constructor(){this.lang=["java"],this.linkedListClass='\n  public class LinkedList<T> {\n    LinkedList<T> next = null;\n    private T data;\n\n    public LinkedList(T data) {\n        this.data = data;\n    }\n\n    public LinkedList(T[] arrayOfT){\n        if (arrayOfT.length == 0){\n            System.out.println("Cannot build from an empty array");\n            return;\n        }\n        //assign the Head node\n        int index = 0;\n        LinkedList<T> currentNode = this;\n        currentNode.data = arrayOfT[index++];\n\n        // note that data can be null; criteria is not to retrieve outOfBounds for arrayT\n        while (index < arrayOfT.length){\n            LinkedList<T> newNode = new LinkedList<>(arrayOfT[index]);\n            currentNode.next = newNode;\n            currentNode = newNode;\n            index++;\n        }\n    }\n\n    /**\n     * Traverses the entire list to find the length. Is always O(n)\n     * */\n    public int length(){\n        int count = 0;\n        LinkedList<T> linkedList = this;\n\n        while (linkedList != null){\n            count++;\n            linkedList = linkedList.next;\n        }\n        return count;\n    }\n\n    /**\n     * Retrieves the data from the current linked list node\n     * */\n    public T getData() {\n        return this.data;\n    }\n\n    /**\n     * getNode() traverses the list and returns the first instance of LinkedList with \n     * given data, hence O(n); can also be used to check if data is present\n    */\n    public LinkedList<T> getNode(T data){\n        if (this.data == data){\n            return this;\n        }\n        LinkedList<T> currentNode = this;\n        while (currentNode.next != null){\n            if (currentNode.next.data == data){\n                return currentNode.next;\n            }\n            currentNode = currentNode.next;\n        }\n        System.out.println("Data not found");\n        return null;\n    }\n\n    /**\n     * Determines is a given node reference is valid for the list; \n     * time complexity is O(n)\n     */\n    public boolean nodeIsPresent(LinkedList<T> node){\n        if (this == node){\n            return true;\n        }\n        LinkedList<T> currentNode = this;\n        while (currentNode.next != null){\n            if (currentNode.next == node){\n                return true;\n            }\n            currentNode = currentNode.next;\n        }\n        return false;\n    }\n\n    /**\n     * Adds to an array of references to LinkedLists, from index i (inc.), which have \n     * the value data; searches the entire list, so is always O(n)\n     */\n    public LinkedList<T>[] getNodeList(T data, int i){\n        LinkedList<T> currentNode = this;\n        int currentLength = this.length();\n\n        if (i >= currentLength){\n            System.out.println("Given index is out of bounds");\n            return null;\n        }\n\n        LinkedList<T>[] tempArray = new LinkedList[currentLength];\n        int tempArrayLength = 0;\n\n        if (currentNode.data == data){\n            tempArray[tempArrayLength++] = currentNode;\n        }\n\n        while (currentNode.next != null){\n            if (currentNode.next.data == data)\n                tempArray[tempArrayLength++] = currentNode.next;\n\n            currentNode = currentNode.next;\n        }\n        System.out.println("Found " + tempArrayLength + " nodes");\n\n        //build a new array minus the terminal null elements\n        LinkedList<T>[] returnArray = new LinkedList[tempArrayLength];\n\n        for (int k = 0; k < tempArrayLength; k++){\n            returnArray[k] = tempArray[k];\n        }\n\n        return returnArray;\n    }\n\n    // -----append methods: ------------------------------------------------------------\n\n    /**\n     * Appends data to the end of the list; time complexity is O(n)\n     * LinkedList instances cannot be null but data can be null\n     * */\n    public void append(T data){\n        LinkedList<T> newEnd = new LinkedList<>(data);      // new Node referenced by newEnd\n        LinkedList<T> thisLinkedList = this;                // grab head node\n\n        // traverse list and append to the tail\n        while (thisLinkedList.next != null){\n            thisLinkedList = thisLinkedList.next;\n        }\n        thisLinkedList.next = newEnd;\n    }\n\n    /**\n     * Appends a node to the end of the list; time complexity is O(n)\n     * LinkedList (nodes) instances cannot be null but data can be null\n     * */\n    public void append(LinkedList<T> next){\n        if (next == null){\n            System.out.println("Cannot append null node");\n            return;\n        }\n        LinkedList<T> thisLinkedList = this;           // grab this Node\n\n        // traverse list and append to the tail\n        while (thisLinkedList.next != null){\n            thisLinkedList = thisLinkedList.next;\n        }\n        thisLinkedList.next = next;\n    }\n\n    /**\n     * Appends an array of nodes, preserving the order, to the tail of the current \n     * linked list; time complexity is O(n)\n     * */\n    public void append(T[] array){\n        if (array.length != 0){\n            LinkedList<T> newList = new LinkedList<>(array);\n            LinkedList<T> currentNode = this;\n\n            while (currentNode.next != null){\n                currentNode = currentNode.next;\n            }\n\n            currentNode.next = newList;\n        }\n    }\n\n    // -------insert methods: -----------------------------------------------------------\n\n    /**\n     * Inserts a node after the first occurrence of precedingData;\n     * returns a reference to inserted node if inserted and null if not\n     * getNode() is O(n), thus insert() is also O(n)\n     */\n    public LinkedList<T> insert(T precedingData, T data){\n        LinkedList<T> precedingNode = getNode(precedingData);\n\n        // check data is somewhere in the list\n        if (precedingNode == null){\n            return null;\n        }\n\n        LinkedList<T> newNode = new LinkedList<>(data);\n        newNode.next = precedingNode.next.next;\n        precedingNode.next = newNode;\n        return newNode;\n    }\n\n    /**\n     * Inserts after the given node; nodeIsPresent() is O(n) so insert() is also O(n)\n     */\n    public LinkedList<T> insert(LinkedList<T> precedingNode, T data){\n        if (precedingNode == null){\n            System.out.println("Cannot insert a null node");\n            return null;\n        }\n\n        if (!this.nodeIsPresent(precedingNode)) {\n            System.out.println("Node not part of this list");\n            return null;\n        }\n\n        LinkedList<T> proceedingNode = precedingNode.next;\n        LinkedList<T> newNode = new LinkedList<>(data);\n        precedingNode.next = newNode;\n        newNode.next = proceedingNode;\n        return newNode;\n    }\n\n    // -----delete methods: updates the next property; garbage collection will clear up heap\n\n    /**\n     * Deletes the first node with given nodeData, if present; time complexity is O(n)\n     * returns a reference to the second node (which can be null) if the head is deleted, \n     * and returns head otherwise;\n     */\n    public LinkedList<T> deleteData(T nodeData){\n        LinkedList<T> currentLinkedList = this;\n\n        // if head holds requisite data, return head.next\n        if (currentLinkedList.data == nodeData){\n            LinkedList<T> secondNode = currentLinkedList.next;\n            currentLinkedList.next = null;\n            if (secondNode == null) {\n                System.out.println("Linked list is empty");\n            }\n            return secondNode;   // could be null\n        }\n\n        // still at head; traverse Node until data found\n        while (currentLinkedList.next != null){\n            if (currentLinkedList.next.data == nodeData){\n                currentLinkedList.next = currentLinkedList.next.next;\n                return this;\n            }\n            currentLinkedList = currentLinkedList.next;\n        }\n\n        System.out.println("Data not found; nothing deleted");\n        return this;\n    }\n\n    /**\n     * Deletes all nodes with the given data, if present. Cycles through the entire list, \n     * hence is always O(n);\n     * Returns a reference to the first (head) node of the updated list and null if the \n     * list is emptied\n     * */\n    public LinkedList<T> deleteAllOf(T data){\n        LinkedList<T> currentNode = this;       // traversal pointer\n        LinkedList<T> currentHead = this;\n\n        // delete all leading data values found and update head node\n        while (currentHead != null && currentHead.data == data){\n            currentHead = currentNode.next;\n            currentNode.next = null;\n            currentNode = currentHead;\n        }\n\n        // found an element.data != data; hence currentHead no longer involved\n        while (currentNode != null && currentNode.next != null){\n            if (currentNode.next.data == data){\n                LinkedList<T> refNode = currentNode.next;\n                currentNode.next = refNode.next;\n                refNode.next = null;\n            } else\n                currentNode = currentNode.next;\n        }\n\n        return currentHead;\n    }\n\n    /**\n     * Deletes the given node, if present; time complexity is O(n)\n     * returns a reference to the second node (which can be null) if the head is deleted, \n     * and returns head otherwise;\n     */\n    public LinkedList<T> deleteNode(LinkedList<T> linkedList){\n        if (this == linkedList){\n            LinkedList<T> secondNode = this.next;\n            this.next = null;\n            if (secondNode == null)\n                System.out.println("Linked list is empty");\n\n            return secondNode;   // could be null\n        }\n\n        LinkedList<T> currentLinkedList = this;\n\n        while (currentLinkedList.next != null){\n            if (currentLinkedList.next == linkedList){\n                currentLinkedList.next = currentLinkedList.next.next;\n                System.out.println("Node with value " + linkedList.data + " deleted");\n                return this;\n            } else {\n                currentLinkedList = currentLinkedList.next;\n            }\n        }\n\n        System.out.println("Node not found; nothing deleted");\n        return this;\n    }\n\n    // -----print methods: attempts to print a String of data----------------------------\n    // time complexity depends on the number of nodes to process; printing lists is O(n), \n    // printing nodes is O(1)\n\n    /**\n     * Returns a string of the linked list; time complexity is always O(n)\n     */\n    public String printToString(){\n        StringBuilder stringBuilder = new StringBuilder();\n\n        if (this.next == null){\n            stringBuilder.append("(Head) ").append(this.data).append(" (Tail)");\n            return stringBuilder.toString();\n        }\n        stringBuilder.append("(Head) ").append(this.data).append(", ");\n\n        LinkedList<T> currentLinkedList = this.next;\n        while (currentLinkedList.next != null){\n            stringBuilder.append(currentLinkedList.data).append(", ");\n            currentLinkedList = currentLinkedList.next;\n        }\n        stringBuilder.append(currentLinkedList.data).append(" (Tail)");\n        return stringBuilder.toString();\n    }\n\n    /**\n     * Returns a string of the given node of the linked list;\n     * checks if node is part of list so time complexity is O(n)\n     */\n    public String nodeToString(LinkedList<T> linkedList){\n        if (!nodeIsPresent(linkedList))\n            return "Node not found in list";\n\n        return String.valueOf(linkedList.data);\n    }\n\n    /**\n     * Returns a string of all nodes to the right of node k (inc.);\n     * checks if k is part of list and cycles through nodes after k, so time complexity is O(n)\n     */\n    public String printRightPartition(LinkedList<T> k) {\n        if (!nodeIsPresent(k))\n            return "Node not found in list";\n\n        StringBuilder stringBuilder = new StringBuilder();\n        stringBuilder.append("Right-hand partition is: ");\n\n        while (k.next !=null){\n            stringBuilder.append(k.data).append(", ");\n            k = k.next;\n        }\n        stringBuilder.append(k.data).append("; END");\n        return stringBuilder.toString();\n    }\n\n    /**\n     * Returns a string of all nodes to the left of node k (inc.);\n     * checks if k is part of list and cycles through nodes after k, so time complexity is \n     * at worst O(n)\n     */\n    public String printLeftPartition(LinkedList<T> k){\n        if (!nodeIsPresent(k))\n            return "Node not found in list";\n\n        StringBuilder stringBuilder = new StringBuilder();\n        stringBuilder.append("Left-hand partition is: ");\n\n        LinkedList<T> linkedList = this;\n        while (linkedList.next != null && linkedList.next != k){\n            stringBuilder.append(linkedList.data).append(", ");\n            linkedList = linkedList.next;\n        }\n        stringBuilder.append(linkedList.data).append("; END");\n        return stringBuilder.toString();\n    }\n  }\n  '}ngOnInit(){}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-java-linkedlist"]],decls:14,vars:2,consts:[["href","https://github.com/jfspps/AlgorithmsInJava/blob/main/ADTsAlgoServices/src/main/java/com/algo_data/linkedLists/LinkedList.java","target","_blank"],["href","https://github.com/jfspps/AlgorithmsInJava/blob/main/ADTsAlgoServices/src/test/java/com/algo_data/linkedLists/LinkedListTest.java","target","_blank"],[3,"highlight","languages","highlighted"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Custom linked list"),Ks(),Ys(2,"p"),Sa(3," An implementation of a Java singly linked list (without loops), with common methods. The class taken from my Spring demo is "),Ys(4,"a",0),Sa(5,"here"),Ks(),Sa(6," and unit test "),Ys(7,"a",1),Sa(8,"here"),Ks(),Sa(9,".\n"),Ks(),Ys(10,"pre"),Sa(11,"    "),Ys(12,"code",2),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(13,"\n"),Ks()),2&e&&(Nr(12),$s("highlight",t.linkedListClass)("languages",t.lang))},directives:[Ig],styles:[""]}),e})(),gm=(()=>{class e{constructor(){this.lang=["java"],this.arrayStack='\n  public class ArrayStack<T> {\n\n    // Java would use boxed types (Integer, String, Character)\n    // approach by storing items in an array, where the top item/node is updated\n    // after each method\n\n    private final int stackSize;\n    private final T[] stackArray;\n    private int topIndex;\n\n    public ArrayStack(int stackSize){\n        //care needed to keep this execution away from client code until T is known\n        this.stackSize = stackSize;\n        this.stackArray = (T[]) new Object[this.stackSize];\n        this.topIndex = -1;\n    }\n\n    /**\n     * Pushes a new element or node (the data of which can be null) to the top of the stack.\n     * New nodes\' data can be null hence pop() and peek() return null if the data is null\n     * and throw exceptions when the given stack is empty. ArrayStack is static-array based \n     * hence push() returns -1 of the array is full and 1 if push was accomplished.\n     * */\n    public int push(T data) {\n        // check if stack is already full (unlike linked lists)\n        if (this.topIndex == this.stackSize - 1){\n            System.out.println("Stack is full, cannot push to stack");\n            return -1;\n        }\n        this.stackArray[++this.topIndex] = data;\n        return 1;\n    }\n\n    /**\n     * Removes and returns the uppermost node\'s or element\'s data from the stack; throws an \n     * EmptyStackException if stack is empty.\n     * */\n    public T pop(){\n        if (topIndex == -1){\n            System.out.println("Stack is empty");\n            throw new EmptyStackException();\n        }\n        return stackArray[topIndex--];\n    }\n\n    /**\n     * Returns a copy of the uppermost node (which can be null) or element of the given stack.\n     * Throws an EmptyStackException if stack is empty.\n     * */\n    public T peek(){\n        if (topIndex == -1){\n            System.out.println("Stack is already empty");\n            throw new EmptyStackException();\n        }\n        return stackArray[topIndex];\n    }\n\n    /**\n     * Returns true if the stack is empty and false if not\n     * */\n    public boolean isEmpty(){\n        return topIndex < 0;\n    }\n  }\n  ',this.listStack="\n  public class ListStack<T> {\n\n    // when instantiating a Stack, the respective nodes are private and \n    // accessible/viewed via pop(), push(), peek() and isEmpty()\n    // note that the Stack and Queue are implemented here as linked lists \n    // to allow for dynamic allocation (arrays may also be employed; see ArrayStack)\n    private static class StackNode<T> {\n        private T data;\n        private StackNode<T> next;\n\n        public StackNode(T data){\n            this.data = data;\n        }\n    }\n\n    // references the top of the stack (last node in, first node out)\n    private StackNode<T> top;\n\n    /**\n     * Removes and returns the uppermost node's or element's data from the stack; \n     * throws an EmptyStackException if stack is empty.\n     * */\n    public T pop(){\n        if (top == null){\n            throw new EmptyStackException();\n        }\n\n        T item = top.data;\n        top = top.next;\n        return item;\n    }\n\n    /**\n     * Pushes a new element or node (the data of which can be null) to the top \n     * of the stack. New nodes' data can be null hence pop() and peek() return \n     * null if the data is null and throw exceptions when\n     * the given stack is empty.\n     * */\n    public void push(T item){\n        StackNode<T> newItem = new StackNode<>(item);\n        newItem.next = top;\n        top = newItem;\n    }\n\n    /**\n     * Returns a copy of the uppermost node (which can be null) or element of the stack.\n     * Throws an EmptyStackException if stack is empty.\n     * */\n    public T peek(){\n        if (top == null){\n            throw new EmptyStackException();\n        }\n        return top.data;\n    }\n\n    /**\n     * Returns true if the stack is empty and false if not\n     * */\n    public boolean isEmpty(){\n        return this.top == null;\n    }\n  }\n  "}ngOnInit(){}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-java-stack"]],decls:26,vars:4,consts:[["href","https://github.com/jfspps/AlgorithmsInJava/blob/main/ADTsAlgoServices/src/main/java/com/algo_data/stacksAndQueues/ArrayStack.java","target","_blank"],["href","https://github.com/jfspps/AlgorithmsInJava/blob/main/ADTsAlgoServices/src/test/java/com/algo_data/stacksAndQueues/ArrayStackTest.java","target","_blank"],[3,"highlight","languages","highlighted"],["href","https://github.com/jfspps/AlgorithmsInJava/blob/main/ADTsAlgoServices/src/main/java/com/algo_data/stacksAndQueues/ListStack.java","target","_blank"],["href","https://github.com/jfspps/AlgorithmsInJava/blob/main/ADTsAlgoServices/src/test/java/com/algo_data/stacksAndQueues/ListStackTest.java","target","_blank"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Custom stack"),Ks(),Ys(2,"p"),Sa(3," An implementation of a Java array based stack (the linked list based implementation is given below), with common methods. The class taken from my Spring demo is "),Ys(4,"a",0),Sa(5,"here"),Ks(),Sa(6," and unit test "),Ys(7,"a",1),Sa(8,"here"),Ks(),Sa(9,".\n"),Ks(),Ys(10,"pre"),Sa(11,"    "),Ys(12,"code",2),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(13,"\n"),Ks(),Ys(14,"p"),Sa(15," An implementation of a linked list based stack, with common methods. The class taken from my Spring demo is "),Ys(16,"a",3),Sa(17,"here"),Ks(),Sa(18," and unit test "),Ys(19,"a",4),Sa(20,"here"),Ks(),Sa(21,".\n"),Ks(),Ys(22,"pre"),Sa(23,"    "),Ys(24,"code",2),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(25,"\n"),Ks()),2&e&&(Nr(12),$s("highlight",t.arrayStack)("languages",t.lang),Nr(12),$s("highlight",t.listStack)("languages",t.lang))},directives:[Ig],styles:[""]}),e})(),mm=(()=>{class e{constructor(){this.lang=["java"],this.javaQueue="\n  public class Queue<T> {\n\n    // like the Stack class, a Queue is implemented with a linked list \n    // and accessed/viewed through public methods\n    private static class QueueNode<T> {\n        private T data;\n        private QueueNode<T> next;\n\n        public QueueNode(T data){\n            this.data = data;\n        }\n    }\n\n    // references to the first and last node or element in the queue\n    private QueueNode<T> front;\n    private QueueNode<T> back;\n\n    /**\n     * Adds a new node or element to the back of the queue. New node's \n     * data can be null.\n     * */\n    public void enqueue(T item){\n        QueueNode<T> newNode = new QueueNode<>(item);\n\n        // if queue is not empty then update last property\n        if (back != null){\n            back.next = newNode;\n        }\n\n        back = newNode;\n\n        // account for a new queue by setting first to newNode\n        if (front == null) {\n            front = back;\n        }\n    }\n\n    /**\n     * Removes and returns the node's data (which can be null) at the \n     * front of the queue.\n     * Throws a NoSuchElementException if the queue is empty.\n     * */\n    public T dequeue(){\n        if (front == null){\n            throw new NoSuchElementException();\n        }\n\n        //get the first item's data and then update the queue\n        T data = front.data;\n        front = front.next;\n\n        // if the queue is empty, then update last\n        if (front == null){\n            back = null;\n        }\n        return data;\n    }\n\n    /**\n     * Returns a copy of the the node's data (which can be null) at the \n     * front of the queue.\n     * Throws a NoSuchElementException if the queue is empty.\n     * */\n    public T peek(){\n        if (front == null){\n            throw new NoSuchElementException();\n        }\n        return front.data;\n    }\n\n    /**\n     * Returns true if the queue is empty and false if not\n     * */\n    public boolean isEmpty(){\n        return front == null;\n    }\n  }\n  "}ngOnInit(){}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-java-queue"]],decls:14,vars:2,consts:[["href","https://github.com/jfspps/AlgorithmsInJava/blob/main/ADTsAlgoServices/src/main/java/com/algo_data/stacksAndQueues/Queue.java","target","_blank"],["href","https://github.com/jfspps/AlgorithmsInJava/blob/main/ADTsAlgoServices/src/test/java/com/algo_data/stacksAndQueues/QueueTest.java","target","_blank"],[3,"highlight","languages","highlighted"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Custom queue"),Ks(),Ys(2,"p"),Sa(3," An implementation of a Java queue, with common methods. The class taken from my Spring demo is "),Ys(4,"a",0),Sa(5,"here"),Ks(),Sa(6," and unit test "),Ys(7,"a",1),Sa(8,"here"),Ks(),Sa(9,".\n"),Ks(),Ys(10,"pre"),Sa(11,"    "),Ys(12,"code",2),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(13,"\n"),Ks()),2&e&&(Nr(12),$s("highlight",t.javaQueue)("languages",t.lang))},directives:[Ig],styles:[""]}),e})(),fm=(()=>{class e{constructor(){this.lang=["java"],this.javaBinaryTree='\n  public class BinaryTree<T> {\n\n    private T data;\n    private BinaryTree<T> leftChild;\n    private BinaryTree<T> rightChild;\n    private BinaryTree<T> parent;\n\n    // root node cannot be null\n    public BinaryTree(T data) {\n        if (data != null){\n            this.data = data;\n        }\n    }\n\n    /**\n     * Print the passed node data (can be null)\n     * @param node\n     */\n    public StringBuilder printNode(BinaryTree<T> node, StringBuilder builder) {\n        return builder.append(node.data).append(" ");\n    }\n\n    public T getData() {\n        return this.data;\n    }\n\n    public BinaryTree<T> getLeftChild() {\n        return leftChild;\n    }\n\n    public BinaryTree<T> getRightChild() {\n        return rightChild;\n    }\n\n\n    public BinaryTree<T> getParent(){\n        return this.parent;\n    }\n\n    /**\n     * Set the left node; data can be null\n     * @param leftChild\n     */\n    public void setLeftChild(BinaryTree<T> leftChild) {\n        if (leftChild != null){\n            this.leftChild = leftChild;\n            leftChild.parent = this;\n        }\n    }\n\n    /**\n     * Set the right node; data can be null\n     * @param rightChild\n     */\n    public void setRightChild(BinaryTree<T> rightChild) {\n        if (rightChild != null){\n            this.rightChild = rightChild;\n            rightChild.parent = this;\n        }\n    }\n\n    /**\n     * Set both the left and right nodes\n     * @param lChild\n     * @param rChild\n     */\n    public void setChildren(BinaryTree<T> lChild, BinaryTree<T> rChild) {\n        if (lChild != null){\n            this.leftChild = lChild;\n            lChild.parent = this;\n        }\n        if (rChild != null){\n            this.rightChild = rChild;\n            rChild.parent = this;\n        }\n    }\n\n    /**\n     * Perform an in-Order binary tree traversal\n     * @param tree\n     */\n    public void inOrderTraversal(BinaryTree<T> tree, StringBuilder builder) {\n        // reach the bottom of the tree and return the leftChild, then the node, \n        // then the right child\n        if (tree != null) {\n            inOrderTraversal(tree.leftChild, builder);\n            printNode(tree, builder);\n            inOrderTraversal(tree.rightChild, builder);\n        }\n    }\n\n    /**\n     * Perform a pre-Order binary tree traversal\n     * @param tree\n     */\n    public void preOrderTraversal(BinaryTree<T> tree, StringBuilder builder) {\n        // process current node then visit the child nodes, left-to-right\n        if (tree != null) {\n            printNode(tree, builder);\n            preOrderTraversal(tree.leftChild, builder);\n            preOrderTraversal(tree.rightChild, builder);\n        }\n    }\n\n    /**\n     * Perform a post-Order binary tree traversal\n     * @param tree\n     */\n    public void postOrderTraversal(BinaryTree<T> tree, StringBuilder builder) {\n        // process the child nodes first, left-to-right and then process the given node\n        if (tree != null) {\n            postOrderTraversal(tree.leftChild, builder);\n            postOrderTraversal(tree.rightChild, builder);\n            printNode(tree, builder);\n        }\n    }\n\n    /**\n     * Perform a level-Order binary tree traversal, left-to-right\n     * @param root\n     */\n    public void levelOrderTraversal(BinaryTree<T> root, StringBuilder builder){\n        Queue<BinaryTree<T>> queue = new Queue<>();\n        printNode(root, builder);\n        queue.enqueue(root);\n\n        while (!queue.isEmpty()){\n            root = queue.dequeue();\n\n            if (root.getLeftChild() != null){\n                printNode(root.leftChild, builder);\n                queue.enqueue(root.getLeftChild());\n            }\n\n            if (root.getRightChild() != null){\n                printNode(root.rightChild, builder);\n                queue.enqueue(root.getRightChild());\n            }\n        }\n    }\n\n    /**\n     * Perform a level-Order traversal binary tree traversal, right-to-left\n     * @param root\n     */\n    public void levelOrderReversedTraversal(BinaryTree<T> root, StringBuilder builder){\n        Queue<BinaryTree<T>> queue = new Queue<>();\n        printNode(root, builder);\n        queue.enqueue(root);\n\n        while (!queue.isEmpty()){\n            root = queue.dequeue();\n\n            if (root.getRightChild() != null){\n                printNode(root.rightChild, builder);\n                queue.enqueue(root.getRightChild());\n            }\n\n            if (root.getLeftChild() != null){\n                printNode(root.leftChild, builder);\n                queue.enqueue(root.getLeftChild());\n            }\n        }\n    }\n\n    /**\n     * Deduce the longest sequence of child nodes from the root node\n     * @param tree\n     * @return the longest sequence of child nodes, including the root node\n     */\n    public int getMaxDepth(BinaryTree<T> tree) {\n        int leftBranch;\n        int rightBranch;\n\n        if (tree != null){\n            leftBranch = getMaxDepth(tree.leftChild);\n            rightBranch = getMaxDepth(tree.rightChild);\n\n            if (leftBranch > rightBranch){\n                return leftBranch + 1;\n            } else {\n                return rightBranch + 1;\n            }\n        }\n        return 0;\n    }\n\n    /**\n     * Deduce the shortest sequence of child nodes from the root node\n     * @param tree\n     * @return the shortest sequence of child nodes, including the root node\n     */\n    public int getShortestDepth(BinaryTree<T> tree){\n        int leftBranch;\n        int rightBranch;\n\n        if (tree != null){\n            leftBranch = getMaxDepth(tree.leftChild);\n            rightBranch = getMaxDepth(tree.rightChild);\n\n            if (leftBranch < rightBranch){\n                return leftBranch + 1;\n            } else {\n                return rightBranch + 1;\n            }\n        }\n        return 0;\n    }\n\n    // while not abstract binary trees, a binary search tree must handle comparable \n    // data types, in this case integers and is included here instead of the class, \n    // BinarySearchTree, which always builds BSTs\n\n    /**\n     * Determines if the given binary tree is a binary search tree \n     * (left-child <= root <= right-child).\n     * Data assumed to be of type Integer.\n     * @param tree\n     * @param list\n     * @return\n     */\n    public boolean isABinarySearchTree(BinaryTree<Integer> tree, LinkedList<Integer> list) {\n        if (tree != null) {\n            isABinarySearchTree(tree.leftChild, list);\n            list.add(tree.data);\n            isABinarySearchTree(tree.rightChild, list);\n        }\n        return checkIfBST(list);\n    }\n\n    // helper method which checks the sequence of nodes from an in-order traversal\n    boolean checkIfBST(LinkedList<Integer> linkedList) {\n        int size = linkedList.size();\n        for (int i = 0; i < size - 1; i++){\n            if (linkedList.get(i) > linkedList.get(i+1)){\n                return false;\n            }\n        }\n        return true;\n    }\n  }\n  '}ngOnInit(){}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-java-binarytree"]],decls:26,vars:2,consts:[["href","https://github.com/jfspps/AlgorithmsInJava/blob/main/ADTsAlgoServices/src/main/java/com/algo_data/treesAndGraphs/BinaryTree.java","target","_blank"],["href","https://github.com/jfspps/AlgorithmsInJava/blob/main/ADTsAlgoServices/src/test/java/com/algo_data/treesAndGraphs/BinaryTreeTest.java","target","_blank"],[3,"highlight","languages","highlighted"],["routerLink","/java/javaBinarySearchTree"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Custom binary tree"),Ks(),Ys(2,"p"),Sa(3," An implementation of a Java binary tree, with common methods. The class taken from my Spring demo is "),Ys(4,"a",0),Sa(5,"here"),Ks(),Sa(6," and unit test "),Ys(7,"a",1),Sa(8,"here"),Ks(),Sa(9,".\n"),Ks(),Ys(10,"p"),Sa(11," Methods for in-order, pre-order and post-order traversal are also given. Notice here that the level-order traversal of a tree (which uses a queue to store, in order, future nodes to be processed) scans all child nodes before moving to the next level. Thus, the level-order algorithm forms the basis of a "),Ys(12,"i"),Sa(13,"breadth-first search"),Ks(),Sa(14,".\n"),Ks(),Ys(15,"p"),Sa(16," A check to see if the binary tree is actually a binary search tree (such that the left child <= parent <= right child) is given towards the end of the class.\n"),Ks(),Ys(17,"pre"),Sa(18,"    "),Ys(19,"code",2),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(20,"\n"),Ks(),Ys(21,"p"),Sa(22," The binary search tree referenced above is given "),Ys(23,"a",3),Sa(24,"here"),Ks(),Sa(25,".\n"),Ks()),2&e&&(Nr(19),$s("highlight",t.javaBinaryTree)("languages",t.lang))},directives:[Ig,Tp],styles:[""]}),e})(),ym=(()=>{class e{constructor(){this.lang=["java"],this.singleton='\n  public class SomeClass {\n\n    // "volatile" ensures that threads which attempt to access \n    // INSTANCE do so through the main() stack only, thereby \n    // getting the most up-to-date object (Java VM 1.5+ only)\n    private static volatile SomeClass instance = null;\n\n    private SomeClass() {\n        //empty constructor\n    }\n\n    /**\n     * Grant access to SomeClass methods through the getter\n     * (static is optional)\n     */\n    public static SomeClass getInstance() {\n        if (instance == null){\n          instance = new SomeClass();\n        }\n        return instance;\n    }\n\n    // other methods\n  }\n  '}ngOnInit(){}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-java-singleton"]],decls:12,vars:2,consts:[[3,"highlight","languages","highlighted"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"The Singleton design pattern"),Ks(),Ys(2,"p"),Sa(3," The Singleton design pattern provides a way of building one and only one instance of a class in a given application. Applications which operate across multiple threads can lead to undefined problems and so a thread-safe approach is required.\n"),Ks(),Ys(4,"pre"),Sa(5,"    "),Ys(6,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(7,"\n"),Ks(),Ys(8,"p"),Sa(9," The class of a singleton pattern typically uses a non-global constructor and does not permit inheritance. The singleton object can be accessed by a public method (i.e. getInstance()) which returns the object. The getInstance() method need not be static but should always be parameterless. Since the getInstance() method is public, it means that the singleton is globally accessible.\n"),Ks(),Ys(10,"p"),Sa(11," This pattern, to some, is considered an \u2018anti-pattern\u2019. Singletons are global objects and if they represent mutable entities or can change readily then this becomes more difficult to manage when classes which depend on the singleton need a specifically configured singleton. Having global variables (not global constants) is generally bad practice since it may lead to unexpected/undefined results or behaviour.\n"),Ks()),2&e&&(Nr(6),$s("highlight",t.singleton)("languages",t.lang))},directives:[Ig],styles:[""]}),e})(),bm=(()=>{class e{constructor(){this.lang=["java"],this.Message="\n  public abstract class Message {\n\n    public abstract String getContent();\n    \n    public void addDefaultHeaders() {\n      // Adds default headers\n    }\n    \n    public void encrypt() {\n      // Encrypt the content\n    }\n    \n  }",this.MessageExt='\n  public class JSONMessage extends Message {\n\n    @Override\n    public String getContent() {\n      return "{JSON:[]}";\n    }\n    \n  }\n  \n  // elsewhere\n  \n  public class TextMessage extends Message {\n\t\n    @Override\n    public String getContent() {\n      return "Text";\n    }\n    \n  }',this.AbstractFactory="\n  public abstract class MessageCreator {\n\n    public Message getMessage() {\n      Message msg = createMessage();\n      \n      msg.addDefaultHeaders();\n      msg.encrypt();\n      \n      return msg;\n    }\n    \n    // Factory method (implemented by the concrete classes)\n    // this method can also be defined to set defaults if desired\n    protected abstract Message createMessage();\n  }",this.ConcreteFactory="\n  public class JSONMessageCreator extends MessageCreator {\n    @Override\n    public Message createMessage() {\n      return new JSONMessage();\n    }\n  }\n  \n  // elsewhere\n  \n  public class TextMessageCreator extends MessageCreator {\n    @Override\n    public Message createMessage() {\n      return new TextMessage();\n    }\n  }\n  ",this.theClient="\n  public class Client {\n\n    public static void main(String[] args) {\n\n      printMessage(new JSONMessageCreator());\n      printMessage(new TextMessageCreator());\n      \n    }\n    \n    public static void printMessage(MessageCreator creator) {\n      Message msg = creator.getMessage();\n      System.out.println(msg);\n    }\n  }"}ngOnInit(){}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-java-factorymethod"]],decls:34,vars:10,consts:[[3,"highlight","languages","highlighted"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"The Factory method pattern"),Ks(),Ys(2,"p"),Sa(3," The Factory method pattern, as the name implies, provides a way of building multiple instances of different types without knowing precisely how the objects are created. Quite often, one builds a singleton Factory method implementation and then uses the same method to build other objects as needed.\n"),Ks(),Ys(4,"p"),Sa(5," First, start with an abstract class that defines a generic message.\n"),Ks(),Ys(6,"pre"),Sa(7,"    "),Ys(8,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(9,"\n"),Ks(),Ys(10,"p"),Sa(11," Then provide more specific extensions of the abstract Message class.\n"),Ks(),Ys(12,"pre"),Sa(13,"    "),Ys(14,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(15,"\n"),Ks(),Ys(16,"p"),Sa(17," The abstract Factory class would instantiate the abstract Message class.\n"),Ks(),Ys(18,"pre"),Sa(19,"    "),Ys(20,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(21,"\n"),Ks(),Ys(22,"p"),Sa(23," Then extend the abstract Factory method for all relevant concrete classes.\n"),Ks(),Ys(24,"pre"),Sa(25,"    "),Ys(26,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(27,"\n"),Ks(),Ys(28,"p"),Sa(29," The client then requests specific instances as follows, passing a new concrete class instance and applying polymorphism in place of MessageCreator and Message.\n"),Ks(),Ys(30,"pre"),Sa(31,"    "),Ys(32,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(33,"\n"),Ks()),2&e&&(Nr(8),$s("highlight",t.Message)("languages",t.lang),Nr(6),$s("highlight",t.MessageExt)("languages",t.lang),Nr(6),$s("highlight",t.AbstractFactory)("languages",t.lang),Nr(6),$s("highlight",t.ConcreteFactory)("languages",t.lang),Nr(6),$s("highlight",t.theClient)("languages",t.lang))},directives:[Ig],styles:[""]}),e})(),vm=(()=>{class e{constructor(){this.lang=["java"],this.InnerBuilder='\n  public class UserDTO {\n\n    private String name;\n    private String address;\n  \n    // name and address public getters and private setters\n\n    @Override\n    public String toString() {\n      return "name = " + name + "\\naddress = " + address ;\n    }\n  \n    // Get builder instance (common practice, and optional, \n    // since the builder class is public)\n    public static UserDTOBuilder getBuilder() {\n      return new UserDTOBuilder();\n    }\n  \n    // Builder (declared within the class that it builds objects of) =====================\n    public static class UserDTOBuilder {\n      \n      private String firstName;\n      private String lastName;\n      private String address;\n      \n      // link between the Builder and the object it builds (UserDTO)\n      private UserDTO userDTO;\n  \n      // chain methods (note how they return the UserDTOBuilder object;\n      // this permits chaining)\n      public UserDTOBuilder withFirstName(String fname) {\n        this.firstName = fname;\n        return this;\n      }\n      \n      public UserDTOBuilder withLastName(String lname) {\n        this.lastName = lname;\n        return this;\n      }\n      \n      // assume Address is defined as appropriate\n      public UserDTOBuilder withAddress(Address address) {\n        this.address = address.getHouseNumber() + " " + address.getStreet()\n              + "\\n" + address.getCity() + ", " + address.getState() \n              + " " + address.getZipcode();\n        return this;\n      }\n  \n      // use the private setters of the outer class and return an object \n      // of its type (this means one can build an immutable object within \n      // the class);\n      // Since UserDTOBuilder is an inner class, it can access UserDTO\'s setters\n      public UserDTO build() {\n        this.userDTO = new UserDTO();\n        userDTO.setName(firstName + " " + lastName);\n        userDTO.setAddress(address);\n        return this.userDTO;\n      }\n      \n      public UserDTO getUserDTO() {\n        return this.userDTO;\n      }\n    }\n  }',this.theClient='\n  public class Client {\n\n    public static void main(String[] args) {\n      User user = createUser();\n\n      // Use the director to build the DTO;\n      // this is the cleaner approach particularly if User is extracted\n      // from a datasource\n      UserDTO directorDTO = directBuild(UserDTO.getBuilder(), user);\n  \n      // Call the builder directly;\n      // this would be used if a new User was built without reference\n      // to an external datasource\n      UserDTO directDTO = new UserDTOBuilder()\n          .withFirstName(user.getFirstName())\n          .withLastName(user.getLastName())\n          .withBirthday(user.getBirthday())\n          .withAddress(user.getAddress()).build();\n  \n      // the following should yield identical output\n      System.out.println(directorDTO);\n      System.out.println("==============================");\n      System.out.println(directDTO);\n    }\n  \n    /**\n     * This method serves the role of director in builder pattern.\n     */\n    private static UserDTO directBuild(UserDTOBuilder builder, User user) {\n      return builder\n                .withFirstName(user.getFirstName())\n                .withLastName(user.getLastName())\n                .withBirthday(user.getBirthday())\n                .withAddress(user.getAddress()).build();\n    }\n  \n    /**\n     * Returns a sample user. Simulates a DB datasource and is eventually mapped \n     * to a DTO\n     */\n    public static User createUser() {\n      User user = new User();\n\n      user.setBirthday(LocalDate.of(1960, 5, 6));\n      user.setFirstName("Ron");\n      user.setLastName("Swanson");\n\n      Address address = new Address();\n      address.setHouseNumber("100");\n      address.setStreet("State Street");\n      address.setCity("Pawnee");\n      address.setState("Indiana");\n      address.setZipcode("47998");\n      user.setAddress(address);\n\n      return user;\n    }\n  \n  }'}ngOnInit(){}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-java-builderpattern"]],decls:19,vars:4,consts:[["href","https://github.com/jfspps/JavaDesignPatterns/blob/main/docs/BuilderPattern.md","target","_blank"],[3,"highlight","languages","highlighted"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"The Builder pattern"),Ks(),Ys(2,"p"),Sa(3," The Builder pattern provides a way of building objects while setting some or all of the attributes/fields of the instance. The resultant code is generally cleaner and more concise than having to use a constructor and individual setters manually. A more commonly implemented form of the builder class, in which the class it instantiates is an inner class, is shown here. Alternatively, classes that would be instanced can be declared as separate, external classes, see "),Ys(4,"a",0),Sa(5,"here"),Ks(),Sa(6," for more details.\n"),Ks(),Ys(7,"p"),Sa(8," The builder class UserDTOBuilder can only handle UserDTO objects. A DTO is a data-transfer object and can be considered a reduced form of a database entity which retains the info sought after but omits sensitive or unnecessary database/backend metadata.\n"),Ks(),Ys(9,"pre"),Sa(10,"    "),Ys(11,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(12,"\n"),Ks(),Ys(13,"p"),Sa(14," The client would then execute the builder method (either through a director or directly) as follows. Note that as a result of the defined DTO, not all attributes are transferred.\n"),Ks(),Ys(15,"pre"),Sa(16,"    "),Ys(17,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(18,"\n"),Ks()),2&e&&(Nr(11),$s("highlight",t.InnerBuilder)("languages",t.lang),Nr(6),$s("highlight",t.theClient)("languages",t.lang))},directives:[Ig],styles:[""]}),e})(),wm=(()=>{class e{constructor(){this.lang=["java"],this.binarySearchTree='\n  public class BinarySearchTree extends BinaryTree<Integer> {\n\n    public BinarySearchTree(Integer data) {\n        super(data);\n    }\n\n    public BinarySearchTree buildBinarySearchTree(Integer[] sortedArray) {\n        if (sortedArray.length == 1){\n            return new BinarySearchTree(sortedArray[0]);\n        }\n\n        if (sortedArray.length > 1) {\n            int length = sortedArray.length;\n            BinarySearchTree parent = new BinarySearchTree(sortedArray[length / 2]);\n\n            Integer[] left = new Integer[length / 2];\n            for (int i = 0; i < length / 2; i++) {\n                left[i] = sortedArray[i];\n            }\n\n            Integer[] right;\n            if (length % 2 == 0) {\n                // right-hand will be one element smaller than the left\n                right = new Integer[(length / 2) - 1];\n                for (int j = 0; j < (length / 2) - 1; j++) {\n                    right[j] = sortedArray[j + (length / 2) + 1];\n                }\n            } else {\n                // left- and right-hand arrays would be of equal length\n                right = new Integer[(length / 2)];\n                for (int j = 0; j < (length / 2); j++) {\n                    right[j] = sortedArray[j + (length / 2) + 1];\n                }\n            }\n\n            parent.setChildren(\n              buildBinarySearchTree(left), buildBinarySearchTree(right));\n            return parent;\n        } else\n            return null;\n    }\n\n    /**\n     * Builds a linked list of each level in the BST\n     * level is zero-based to coincide with ArrayList and denotes which \n     * level is being processed; when calling initially, set level to 0\n     * time complexity is O(n), where n = number of nodes + null nodes\n     **/\n    public ArrayList<LinkedList<BinaryTree<Integer>>> createLevelLinkedList(\n            BinaryTree<Integer> node, \n            ArrayList<LinkedList<BinaryTree<Integer>>> levelList,\n            int level){\n        if (node == null){\n            return null;\n        }\n\n        // dataList stores the node; levelList stores a collection of \n        // dataLists for a given level; note that levelList is stored\n        // externally of the first call of createLevelLinkedList\n\n        LinkedList<BinaryTree<Integer>> dataList;\n        // **initially, size() is 0 and level is 0 meaning this level \n        // has not been visited before;\n        if (levelList.size() == level){\n            dataList = new LinkedList<>();\n            levelList.add(dataList);\n        } else {\n            // for the right-child, levelList.size > level\n            // levelList.size != level so instead dataList will get the\n            // list of nodes which already contains left-child\n            dataList = levelList.get(level);\n        }\n\n        dataList.add(node);\n        createLevelLinkedList(node.getLeftChild(), levelList, level + 1);\n        createLevelLinkedList(node.getRightChild(), levelList, level + 1);\n        return levelList;\n    }\n\n    // traverse a BST and retrieve the node with the matching "data" value\n    public BinarySearchTree getNode(BinarySearchTree parent, Integer data){\n        if (parent == null){\n            return null;\n        }\n\n        if (parent.getData().equals(data)){\n            return parent;\n        }\n\n        if (data < parent.getData()){\n            return getNode((BinarySearchTree) parent.getLeftChild(), data);\n        } else\n            return getNode((BinarySearchTree) parent.getRightChild(), data);\n    }\n\n    // from a given node, find the next in-order node\n    public BinarySearchTree getNextInOrder(BinarySearchTree node) {\n        // if a parent with a right-child\n        if (node.getRightChild() != null) {\n            BinarySearchTree tree = (BinarySearchTree) node.getRightChild();\n            while (tree.getLeftChild() != null) {\n                tree = (BinarySearchTree) tree.getLeftChild();\n            }\n            return tree;\n        } else if (node.getParent() != null) {\n            // leaf nodes next...\n            BinarySearchTree parent = (BinarySearchTree) node.getParent();\n\n            // if at right-child leaf\n            if (parent.getRightChild() == node && parent.getParent() != null) {\n                // check if parent is left child of grandparent\n                if (parent.getParent().getLeftChild() == parent){\n                    return (BinarySearchTree) parent.getParent();\n                } else {\n                    // currently on rightmost subtree\n                    return null;\n                }\n            }\n\n            // if a left-child leaf\n            if (parent.getLeftChild() == node) {\n                return parent;\n            }\n        }\n        return null;\n    }\n  }'}ngOnInit(){}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-java-bst"]],decls:25,vars:2,consts:[["href","https://github.com/jfspps/AlgorithmsInJava/blob/main/ADTsAlgoServices/src/main/java/com/algo_data/treesAndGraphs/BinarySearchTree.java","target","_blank"],["routerLink","/java/javaBinaryTree"],["href","https://github.com/jfspps/AlgorithmsInJava/blob/main/ADTsAlgoServices/src/test/java/com/algo_data/treesAndGraphs/BinarySearchTreeTest.java","target","_blank"],[1,"commands"],[3,"highlight","languages","highlighted"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Custom binary search tree"),Ks(),Ys(2,"p"),Sa(3," An implementation of a Java binary search tree, with common methods. The class taken from my Spring demo is "),Ys(4,"a",0),Sa(5,"here"),Ks(),Sa(6," and extends from "),Ys(7,"a",1),Sa(8,"binary tree"),Ks(),Sa(9,". The unit test for BST is "),Ys(10,"a",2),Sa(11,"here"),Ks(),Sa(12,".\n"),Ks(),Ys(13,"p"),Sa(14," Overall, the construction of a BST is as follows. A sorted array of Integer is passed to "),Ys(15,"span",3),Sa(16,"buildBinarySearchTree()"),Ks(),Sa(17," and then the parent BinaryTree structure is applied. The passed array is then partitioned as left and right arrays, both of which are independently passed again into "),Ys(18,"span",3),Sa(19,"buildBinarySearchTree()"),Ks(),Sa(20,", repeating the process.\n"),Ks(),Ys(21,"pre"),Sa(22,"    "),Ys(23,"code",4),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(24,"\n"),Ks()),2&e&&(Nr(23),$s("highlight",t.binarySearchTree)("languages",t.lang))},directives:[Tp,Ig],styles:[".commands[_ngcontent-%COMP%]{color:#008b8b;padding:2px}"]}),e})(),Sm=(()=>{class e{constructor(){this.lang=["java"],this.searchableTree='\n  public class SearchableGraph<T> {\n\n    private final T data;\n    private boolean visited;\n\n    // this applied to a more generic graph as opposed to a binary tree\n    private SearchableGraph<T>[] adjacent;\n\n    public SearchableGraph(T data) {\n        this.visited = false;\n        this.data = data;\n    }\n\n    public SearchableGraph<T>[] getAdjacent() {\n        return adjacent;\n    }\n\n    public void setAdjacent(SearchableGraph<T>[] adjacent) {\n        this.adjacent = adjacent;\n    }\n\n    public boolean hasBeenVisited() {\n        return this.visited;\n    }\n\n    public void setVisited(boolean visited) {\n        this.visited = visited;\n    }\n\n    // can be reviewed as required\n    public void printData(SearchableGraph<T> node) {\n        System.out.println(node.data);\n    }\n\n    // traverses a tree following a depth-based approach; like BFS, DFS is O(n)\n    public String depthFirstSearch(SearchableGraph<T> root, StringBuilder stringBuilder) {\n        if (root == null) {\n            System.out.println("Given node is null");\n            return "Null graph received";\n        }\n\n        // in considering recursion, the newly found node is printed before \n        // visiting it\'s "child" nodes (hence pre-order)\n        stringBuilder.append(root.data).append(" ");\n        root.visited = true;\n\n        for (SearchableGraph<T> tree : root.adjacent) {\n            // check if visited otherwise for cyclic graphs one would \n            // end up in an infinite loop\n            if (!tree.visited) {\n                depthFirstSearch(tree, stringBuilder);\n            }\n        }\n\n        return stringBuilder.toString();\n    }\n\n    // build a queue of neighbouring nodes using queuedNodes and \n    // visit them once all are queued; like DFS, BFS is O(n)\n    public String breadthFirstSearch(SearchableGraph<T> root, StringBuilder stringBuilder) {\n        if (root == null) {\n            System.out.println("Given node is null");\n            return "Null graph received";\n        }\n\n        Queue queuedNodes = new Queue();\n        root.visited = true;\n        queuedNodes.enqueue(root);    // FIFO, root handled first\n\n        while (!queuedNodes.isEmpty()) {\n            // initially, this returns root and then adds its adjacent nodes \n            // to the queue; the for loop should not repeat itself for each\n            // adjacent node since the flag node.visited is true\n            SearchableGraph<T> currentNode = (SearchableGraph<T>) queuedNodes.dequeue();\n            stringBuilder.append(currentNode.data).append(" ");\n\n            // check if visited otherwise for cyclic graphs one would end up in an infinite loop\n            for (SearchableGraph<T> node : currentNode.getAdjacent()) {\n                if (!node.visited) {\n                    node.visited = true;\n                    queuedNodes.enqueue(node);\n                }\n            }\n        }\n\n        return stringBuilder.toString();\n        }\n    }'}ngOnInit(){}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-java-dfs-and-bfs"]],decls:19,vars:2,consts:[["href","https://github.com/jfspps/AlgorithmsInJava/blob/main/ADTsAlgoServices/src/main/java/com/algo_data/treesAndGraphs/SearchableGraph.java","target","_blank"],["href","https://github.com/jfspps/AlgorithmsInJava/blob/main/ADTsAlgoServices/src/test/java/com/algo_data/treesAndGraphs/SearchableGraphTest.java","target","_blank"],["routerLink","/java/javaQueue"],[3,"highlight","languages","highlighted"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Searching graphs"),Ks(),Ys(2,"p"),Sa(3," An implementation of a Java depth-first search and breadth-first search of a graph. The class taken from my Spring demo is "),Ys(4,"a",0),Sa(5,"here"),Ks(),Sa(6,". Unit test is "),Ys(7,"a",1),Sa(8,"here"),Ks(),Sa(9,".\n"),Ks(),Ys(10,"p"),Sa(11," The child nodes are stored in primitive Java arrays. The breadth-first search uses the custom "),Ys(12,"a",2),Sa(13,"Queue ADT"),Ks(),Sa(14," and resembles a level-order traversal.\n"),Ks(),Ys(15,"pre"),Sa(16,"    "),Ys(17,"code",3),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(18,"\n"),Ks()),2&e&&(Nr(17),$s("highlight",t.searchableTree)("languages",t.lang))},directives:[Tp,Ig],styles:[""]}),e})();const Tm=[{path:"",component:eg},{path:"java",component:Pg,children:[{path:"javaAbstractInterface",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-javainterfaceabstractclass"]],decls:67,vars:0,consts:[[1,"commands"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Abstract classes and interfaces"),Ks(),Ys(2,"p"),Sa(3," When to use an abstract class and when to use interfaces is sometimes not always clear since they both appear to offer the same features. Neither abstract classes nor interfaces can be instantiated. This summary outlines the differences.\n"),Ks(),Ys(4,"h5"),Sa(5,"Abstract classes"),Ks(),Ys(6,"p"),Sa(7," Overall, abstract classes provide a common/default definition of some (not all) methods which can be tailored through subclassing. Abstract classes tend to be applied (implemented) by other classes all of which are closely related re. methods or fields involved. Some of the key properties:\n"),Ks(),Ys(8,"ul"),Ys(9,"li"),Sa(10,"Can contain a mix of method declarations and method implementations"),Ks(),Ys(11,"li"),Sa(12,"Fields can be non-static, non-final, "),Ys(13,"span",0),Sa(14,"static"),Ks(),Sa(15," or "),Ys(16,"span",0),Sa(17,"final"),Ks(),Ks(),Ys(18,"li"),Sa(19,"Concrete methods can be "),Ys(20,"span",0),Sa(21,"public"),Ks(),Sa(22,", "),Ys(23,"span",0),Sa(24,"protected"),Ks(),Sa(25,", package private or "),Ys(26,"span",0),Sa(27,"private"),Ks(),Ks(),Ys(28,"li"),Sa(29,"Can implement multiple interfaces but can only extend one class"),Ks(),Ys(30,"li"),Sa(31,"Any subclass must provide the implementation for abstract methods (subclasses are otherwise also "),Ys(32,"span",0),Sa(33,"abstract"),Ks(),Sa(34,")"),Ks(),Ks(),Ys(35,"h5"),Sa(36,"Interfaces"),Ks(),Ys(37,"p"),Sa(38," Interfaces are more commonly applied when the classes that implement them are unrelated. There are no fields, only method declarations*, all of which are "),Ys(39,"span",0),Sa(40,"public"),Ks(),Sa(41," and "),Ys(42,"span",0),Sa(43,"abstract"),Ks(),Sa(44," by default. Such flexibility is a core part of interfaces, they state what should be provided but not how. There are a few Java 8 and 9 changes to note*:\n"),Ks(),Ys(45,"ul"),Ys(46,"li"),Sa(47,"Java 8 interfaces can include "),Ys(48,"span",0),Sa(49,"default"),Ks(),Sa(50," and "),Ys(51,"span",0),Sa(52,"static"),Ks(),Sa(53," method implementations"),Ks(),Ys(54,"li"),Sa(55,"Java 9 interfaces can contain "),Ys(56,"span",0),Sa(57,"private"),Ks(),Sa(58," methods and "),Ys(59,"span",0),Sa(60,"private static"),Ks(),Sa(61," methods, though these can only be used by other methods in the same interface. That is, "),Ys(62,"span",0),Sa(63,"private"),Ks(),Sa(64," methods of Java 9 interfaces are helper methods."),Ks(),Ks(),Ys(65,"p"),Sa(66," Typical examples of interfaces are the Collections List interface, implemented by ArrayList and LinkedList. The JDBC API is another example, where JDBC drivers function as the implementation.\n"),Ks())},styles:[".commands[_ngcontent-%COMP%]{color:#008b8b;padding:2px}"]}),e})()},{path:"javaLambdas",component:im},{path:"javaStatic",component:nm},{path:"javaSortCollections",component:tm},{path:"javaRegExp",component:em},{path:"javaThreads",component:Lg},{path:"javaThreadsShareSync",component:zg},{path:"javaThreadSafe",component:Qg},{path:"javaDeadlock",component:Gg},{path:"javaFairlock",component:$g},{path:"javaIO_1",component:Xg},{path:"javaIO_2",component:Yg},{path:"javaNIO",component:Kg},{path:"javaNIO_2",component:Zg},{path:"javaClientServer",component:lg},{path:"javaDesignPatterns",component:jg},{path:"javaArrayList",component:dm},{path:"javaLinkedList",component:pm},{path:"javaStack",component:gm},{path:"javaQueue",component:mm},{path:"javaBinaryTree",component:fm},{path:"javaBinarySearchTree",component:wm},{path:"javaSingleton",component:ym},{path:"javaFactoryMethod",component:bm},{path:"javaBuilder",component:vm},{path:"javaDFSandBFS",component:Sm},{path:"javaBubbleSelection",component:(()=>{class e{constructor(){this.lang=["java"],this.bubbleSort="\n  public class BubbleSort {\n\n    private int[] array;\n\n    public BubbleSort(int[] array) {\n        this.array = array;\n    }\n\n    public int[] getArray() {\n        return array;\n    }\n\n    public void setArray(int[] array) {\n        this.array = array;\n    }\n\n    /**\n     * Performs a bubble sort on a primitive array of integers\n     * The worst case is O(n^2) (approx of O(n(n-1)/2))\n     */\n    public void bubbleSortArray() {\n        // require a maximum of n passes to sort an array of n elements\n        int length = this.array.length;\n\n        for(int pass = 0; pass < length-1; pass++)\n        {\n            boolean swapped = false;\n            for(int j = 0; j < length-pass-1; j++)\n            {\n                if(this.array[j] > this.array[j+1])\n                {\n                    int temp = this.array[j];\n                    this.array[j] = this.array[j+1];\n                    this.array[j+1] = temp;\n                    swapped = true;\n                }\n            }\n            // stop bubbleSort performing more unnecessary passes\n            if(!swapped)\n                break;\n        }\n    }\n  }",this.selectionSort="\n  public class SelectionSort {\n\n    private int[] array;\n\n    public SelectionSort(int[] array) {\n        this.array = array;\n    }\n\n    public int[] getArray() {\n        return array;\n    }\n\n    public void setArray(int[] array) {\n        this.array = array;\n    }\n\n    /**\n     * Performs a selection sort on an array of integers\n     * Time complexity is O(n(n-1)/2) or approx O(n^2)\n     */\n    public void selectionSortArray() {\n        int length = this.array.length;\n        int i, j, k;\n\n        for(i = 0; i < length - 1; i++)\n        {\n            for(j = k = i; j < length; j++)\n            {\n                if(this.array[j] < this.array[k])\n                    k = j;\n            }\n            int temp = this.array[i];\n            this.array[i] = this.array[k];\n            this.array[k] = temp;\n        }\n    }\n  }"}ngOnInit(){}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-java-bubbleselection"]],decls:28,vars:4,consts:[["href","https://github.com/jfspps/AlgorithmsInJava/blob/main/ADTsAlgoServices/src/main/java/com/algo_data/sortingMethods/BubbleSort.java","target","_blank"],["href","https://github.com/jfspps/AlgorithmsInJava/blob/main/ADTsAlgoServices/src/test/java/com/algo_data/sortingMethods/BubbleSortTest.java","target","_blank"],[3,"highlight","languages","highlighted"],["href","https://github.com/jfspps/AlgorithmsInJava/blob/main/ADTsAlgoServices/src/main/java/com/algo_data/sortingMethods/SelectionSort.java","target","_blank"],["href","https://github.com/jfspps/AlgorithmsInJava/blob/main/ADTsAlgoServices/src/test/java/com/algo_data/sortingMethods/SelectionSortTest.java","target","_blank"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Bubble sorting method"),Ks(),Ys(2,"p"),Sa(3," The bubble sorting method traverses an array, comparing and shuffling neighbouring pairs of elements, a maximum of n times (n = length of the array). A demo from my Spring app is "),Ys(4,"a",0),Sa(5,"here"),Ks(),Sa(6,", along with the unit test "),Ys(7,"a",1),Sa(8,"here"),Ks(),Sa(9,".\n"),Ks(),Ys(10,"pre"),Sa(11,"    "),Ys(12,"code",2),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(13,"\n"),Ks(),Ys(14,"h5"),Sa(15,"Selection sorting method"),Ks(),Ys(16,"p"),Sa(17," The selection sorting method traverses an array, comparing and shuffling a trailing element (i.e. towards the beginning of the array) to all other leading elements. During the next pass, the reference to the trailing element in incremented one place. As a result, there are as many passes as there are elements. A demo from my Spring app is "),Ys(18,"a",3),Sa(19,"here"),Ks(),Sa(20,", along with the unit test "),Ys(21,"a",4),Sa(22,"here"),Ks(),Sa(23,".\n"),Ks(),Ys(24,"pre"),Sa(25,"    "),Ys(26,"code",2),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(27,"\n"),Ks()),2&e&&(Nr(12),$s("highlight",t.bubbleSort)("languages",t.lang),Nr(14),$s("highlight",t.selectionSort)("languages",t.lang))},directives:[Ig],styles:[""]}),e})()},{path:"javaMergeSort",component:(()=>{class e{constructor(){this.lang=["java"],this.mergeSort="\n  public class MergeSort {\n\n    void startMergeSort(int[] array){\n        int[] workingArray = new int[array.length];\n\n        // split up the array into half until the lower index is the same \n        // as the upper index\n        mergesort(array, workingArray, 0, array.length - 1);\n    }\n\n    void mergesort(int[] array, int[] workingArray, int lowerIndex, int upperIndex){\n        if (lowerIndex < upperIndex){\n            int halfwayPoint = lowerIndex + (upperIndex - lowerIndex)/2;\n\n            // try to find the new indices again\n            mergesort(array, workingArray, lowerIndex, halfwayPoint);\n            mergesort(array, workingArray, halfwayPoint+1, upperIndex);\n\n            // by now, the element indices would have been set such \n            // that (lowerIndex = upperIndex) i.e. a singleton array\n            mergeArrays(array, workingArray, lowerIndex, halfwayPoint, upperIndex);\n        }\n    }\n\n    // called when lowerIndex < upperIndex\n    void mergeArrays(\n      int[] array, int[] workingArray, int lowerIndex, int halfwayPoint, int upperIndex){\n        \n        for (int i = lowerIndex; i <= upperIndex; i++){\n            workingArray[i] = array[i];\n        }\n\n        int workingLowerIndex = lowerIndex;\n        int workingUpperIndex = halfwayPoint + 1;\n        int currentLowest = lowerIndex;\n\n        while (workingLowerIndex <= halfwayPoint && workingUpperIndex <= upperIndex){\n            if (workingArray[workingLowerIndex] <= workingArray[workingUpperIndex]) {\n                array[currentLowest] = workingArray[workingLowerIndex];\n                workingLowerIndex++;\n            } else {\n                array[currentLowest] = workingArray[workingUpperIndex];\n                workingUpperIndex++;\n            }\n            currentLowest++;\n        }\n\n        int elementsRemaining = halfwayPoint - workingLowerIndex;\n        for (int i = 0; i <= elementsRemaining; i++){\n            array[currentLowest + i] = workingArray[workingLowerIndex + i];\n        }\n    }\n  }"}ngOnInit(){}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-java-mergesort"]],decls:22,vars:2,consts:[[1,"commands"],["href","https://github.com/jfspps/AlgorithmsInJava/blob/main/ADTsAlgoServices/src/main/java/com/algo_data/sortingMethods/MergeSort.java","target","_blank"],["href","https://github.com/jfspps/AlgorithmsInJava/blob/main/ADTsAlgoServices/src/test/java/com/algo_data/sortingMethods/MergeSortTest.java","target","_blank"],["href","https://jfspps.github.io/Data-Structures-and-Algorithms/26_Sorting_methods.html","target","_blank"],[3,"highlight","languages","highlighted"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Merge sort"),Ks(),Ys(2,"p"),Sa(3," The method continually divides an array in half until there are two singleton arrays. The helper method "),Ys(4,"span",0),Sa(5,"mergeArrays()"),Ks(),Sa(6,' then proceeds to copy across all elements from "array" to the working array ("array" will retain sorted elements on each iteration). Then it copies the element with the lowest value from the pair and update the index (the working lower or upper) accordingly. This repeats until the lower or upper pointers reaches the current array boundary. If the upper indexed elements were sent to the front, then all remaining lower indexed elements (which would have higher value) are copied across. Time complexity is O(n (log[2]n)).\n'),Ks(),Ys(7,"p"),Sa(8," The code can be found in my Spring demo "),Ys(9,"a",1),Sa(10,"here"),Ks(),Sa(11,", along with a "),Ys(12,"a",2),Sa(13,"unit test"),Ks(),Sa(14,". A more visual demonstration is outlined and explained "),Ys(15,"a",3),Sa(16,"here"),Ks(),Sa(17,".\n"),Ks(),Ys(18,"pre"),Sa(19,"    "),Ys(20,"code",4),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(21,"\n"),Ks()),2&e&&(Nr(20),$s("highlight",t.mergeSort)("languages",t.lang))},directives:[Ig],styles:[".commands[_ngcontent-%COMP%]{color:#008b8b;padding:2px}"]}),e})()},{path:"javaQuickSort",component:(()=>{class e{constructor(){this.lang=["java"],this.quickSort="\n  public class QuickSort {\n\n    public void quickSort(int[] array, int lower, int higher)\n    {\n        int j;\n        // an array with one element has lower = higher\n        if(lower < higher)\n        {\n            // set the partition element index j\n            j = partition(array, lower, higher);\n\n            // run partition again and sort elements on the LHS; \n            // the previous pivot element j becomes the new out-of-bounds index\n            quickSort(array, lower, j);\n            // run partition on the elements on the RHS\n            quickSort(array, j+1, higher);\n        }\n    }\n\n\n    // higher is the definite 'upper limit + 1' of the array; \n    // array[higher] is out of bounds\n    private int partition(int[] array, int lower, int higher)\n    {\n        // one could also pick a more central pivot element of a sorted list and \n        // reduce the time taken for partition() to execute\n        int pivot = array[lower];\n\n        int i = lower, j = higher;\n\n        // for a do-while loop, at least one iteration is carried out\n        do{\n            // traverse forwards with i\n            do{i++;} while(array[i] <= pivot);\n            // traverse backwards with j\n            do{j--;} while(array[j] > pivot);\n\n            if(i < j)\n                swap(array, i, j);\n        } while(i < j);\n\n        // j will be in range here, so an array with one element will swap with itself\n        swap(array, lower, j);\n        return j;\n    }\n\n    private void swap(int[] array, int a, int b){\n        int temp = array[a];\n        array[a] = array[b];\n        array[b] = temp;\n    }\n  }"}ngOnInit(){}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-java-quicksort"]],decls:19,vars:2,consts:[["href","https://jfspps.github.io/Data-Structures-and-Algorithms/26_Sorting_methods.html","target","_blank"],["href","https://github.com/jfspps/AlgorithmsInJava/blob/main/ADTsAlgoServices/src/main/java/com/algo_data/sortingMethods/QuickSort.java","target","_blank"],["href","https://github.com/jfspps/AlgorithmsInJava/blob/main/ADTsAlgoServices/src/test/java/com/algo_data/sortingMethods/QuickSortTest.java","target","_blank"],[3,"highlight","languages","highlighted"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Quick sort"),Ks(),Ys(2,"p"),Sa(3," A more visual demonstration is outlined and explained "),Ys(4,"a",0),Sa(5,"here"),Ks(),Sa(6,'. The method uses two pointers "i" (near the start) and "j" (near the end) to traverse the array, respectively, forwards and backwards. As this happens, the elements are compared and swapped so that the lower value is placed nearer the start of the array. If required, the lower of the indexed elements then becomes the pivot point, the element with the lowest value. The result is a left-half which is sorted and a right-half which is not sorted. The pivot point is then usually traversed from the start to the centre of the array and hence the next iteration is processed more quickly. The overall time complexity is at worst O(n^2), approximated from O(n(n+1)/2).\n'),Ks(),Ys(7,"p"),Sa(8," The code can be found in my Spring demo "),Ys(9,"a",1),Sa(10,"here"),Ks(),Sa(11,", along with a "),Ys(12,"a",2),Sa(13,"unit test"),Ks(),Sa(14,".\n"),Ks(),Ys(15,"pre"),Sa(16,"    "),Ys(17,"code",3),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(18,"\n"),Ks()),2&e&&(Nr(17),$s("highlight",t.quickSort)("languages",t.lang))},directives:[Ig],styles:[".commands[_ngcontent-%COMP%]{color:#008b8b;padding:2px}"]}),e})()}]},{path:"androidJavaFX",component:om,children:[{path:"androidButton",component:tg},{path:"androidCalc",component:ng},{path:"androidRSS",component:sg},{path:"androidYouTube",component:og},{path:"androidFlickr",component:rg},{path:"androidContentProviders",component:ig},{path:"androidTaskTimer",component:ag},{path:"javafxGradle",component:Og},{path:"javafxModules",component:rm}]},{path:"springJakarta",component:lm,children:[{path:"springMVC",component:Rg},{path:"springSecurity",component:Dg},{path:"springREST",component:Mg},{path:"springReactive",component:Ng},{path:"springAndJMS",component:Hg},{path:"jakartaDemo",component:cm},{path:"jakartaCDI",component:hm},{path:"jakartaContainerBean",component:(()=>{class e{constructor(){this.lang=["java"],this.commonInterface="\n  public interface CommonInterface{\n  }",this.cdiQualifiers="// in annotationsPackagePath\n\n  @Qualifier\n  @Retention(RetentionPolicy.RUNTIME)\n  // set how the dependency can be injected:\n  @Target({ElementType.FIELD, ElementType.TYPE, ElementType.METHOD})\n  public @interface CustomBean {\n  }",this.injectHere="\n  @Inject\n  // use SomeClass implementation of CommonInterface\n  @CustomBean\n  private CommonInterface someInstance;\n  ",this.qualifyBean="\n  @annotationsPackagePath.CustomBean\n  public class SomeClass implements CommonInterface {\n    // some fields/methods unique to SomeClass\n  }",this.cdiQualifierEnum="// in annotationsPackagePath\n\n  @Qualifier\n  @Retention(RetentionPolicy.RUNTIME)\n  // set how the dependency can be injected:\n  @Target({ElementType.FIELD, ElementType.TYPE, ElementType.METHOD})\n  public @interface CustomBeanManager {\n    CustomBeanType value();\n\n    // inner class of constants (enum)\n    public enum CustomBeanType{\n      TYPE1, TYPE2\n    }\n\n  }",this.qualifyBeanEnum="\n  // SomeClass is assigned TYPE2\n  @CustomBeanManager(value = CustomBeanManager.CustomBeanType.TYPE2)\n  public class SomeClass implements CommonInterface {\n    // some fields/methods unique to SomeClass\n  }",this.injectHereEnum="\n  @Inject\n  // use SomeClass implementation of CommonInterface\n  @CustomBeanManager(value = CustomBean.CustomBeanType.TYPE2)\n  private CommonInterface someInstance;\n  "}ngOnInit(){}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-jakarta-containerbeans"]],decls:123,vars:14,consts:[[1,"annot"],[3,"highlight","languages","highlighted"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Bean discovery mode"),Ks(),Ys(2,"p"),Ys(3,"b"),Sa(4,"Bean discovery"),Ks(),Sa(5," is handled by the "),Ys(6,"i"),Sa(7,"beans.xml"),Ks(),Sa(8," configuration. By default, the "),Ys(9,"i"),Sa(10,"bean-discovery-mode"),Ks(),Sa(11,' is set to "annotated" and directs only annotated classes (beans) to be managed by the CDI runtime. The other discovery mode is "all" and directs all beans to to be managed by the CDI runtime. Generally, most projects use the "all" mode.\n'),Ks(),Ys(12,"p"),Sa(13," Assuming the program runs, then the object will not be null and can be accessed by its reference from anywhere in the application.\n"),Ks(),Ys(14,"h5"),Sa(15,"CDI container, beans and contextual instances"),Ks(),Ys(16,"p"),Sa(17," The CDI container can be viewed as factory where beans (classes which will be instantiated in preparation for DI) are managed and looks out for adherence to the API standards. Failure to do so prevents the program from running.\n"),Ks(),Ys(18,"p"),Sa(19," The context is a part of the container where beans are instantiated. Contexts build objects, known as contextual instances and there can be more than one context present in the container. Dependencies can be injected through class fields, via a constructor or directly into methods. To do so, set the field/constructor/method with the @Inject annotation.\n"),Ks(),Ys(20,"h5"),Sa(21,"Lifecycle callbacks"),Ks(),Ys(22,"p"),Sa(23," The "),Ys(24,"span",0),Sa(25,"@PostConstruct"),Ks(),Sa(26," and "),Ys(27,"span",0),Sa(28,"@PreDestroy"),Ks(),Sa(29," are applied to methods which will be executed, respectively, once the contextual instance is built and before it is destroyed. The access modifiers private, package-private (i.e. nothing declared), protected (visible to parent and child classes only) and public can be applied.\n"),Ks(),Ys(30,"h5"),Sa(31,"Managed beans and bean types"),Ks(),Ys(32,"p"),Sa(33," Managed beans are simply beans managed by the CDI runtime. Beans which appear to be of the same type: they implement the same interface (and all parent interfaces before it), for example. The correct dependency is injected via a mechanism known as "),Ys(34,"b"),Sa(35,"CDI qualifiers"),Ks(),Sa(36,".\n"),Ks(),Ys(37,"p"),Sa(38," If one has an interface which can be implemented differently, such as:\n"),Ks(),Ys(39,"pre"),Sa(40,"    "),Ys(41,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(42,"\n"),Ks(),Ys(43,"p"),Sa(44,"One can direct the CDI container to instantiate a specific bean that implements CommonInterface. First define said bean:"),Ks(),Ys(45,"pre"),Sa(46,"    "),Ys(47,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(48,"\n"),Ks(),Ys(49,"p"),Sa(50," Then set a custom annotation CDI qualifier:\n"),Ks(),Ys(51,"pre"),Sa(52,"    "),Ys(53,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(54,"\n"),Ks(),Ys(55,"p"),Sa(56," The "),Ys(57,"span",0),Sa(58,"@Retention"),Ks(),Sa(59," annotation is explained later. A separate custom interface annotation (CustomBean) is required for each different implementation of CommonInterface.** Inject a specific implementation of CommonInterface:\n"),Ks(),Ys(60,"pre"),Sa(61,"    "),Ys(62,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(63,"\n"),Ks(),Ys(64,"p"),Sa(65," Note that the above CustomBean refers to one specific type of bean. **A more concise way of declaring a CDI qualifier involves enumerations (it is possible to use other types, though enums are generally safer). That is, only one CustomBean interface needs to be defined.\n"),Ks(),Ys(66,"pre"),Sa(67,"    "),Ys(68,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(69,"\n"),Ks(),Ys(70,"p"),Sa(71," The important part is pairing SomeClass with CustomBeanManager's value. This is done by setting the specific class with the given value. Note that the "),Ys(72,"span",0),Sa(73,"@annotationsPackagePath.CustomBean"),Ks(),Sa(74," is no longer needed.\n"),Ks(),Ys(75,"pre"),Sa(76,"    "),Ys(77,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(78,"\n"),Ks(),Ys(79,"p"),Sa(80," Then use the SomeClass (TYPE2) implementation with the following.\n"),Ks(),Ys(81,"pre"),Sa(82,"    "),Ys(83,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(84,"\n"),Ks(),Ys(85,"h5"),Sa(86,"CDI scopes and contexts"),Ks(),Ys(87,"p"),Sa(88," The context is the environment within the container where contextual instances are created and reside. There can be more than one context in the given container. The container is responsible for the lifecycle of all contexts. When a bean is instantiated in a particular context, the bean is said to be in scope of the given context and is bound to that context. Scopes are definitions that associate a managed bean with a context. That is, it defines which context is responsible for the lifecycle of the bean.\n"),Ks(),Ys(89,"p"),Sa(90," Any bean that is not assigned a scope is by default assigned the DependentScope (optionally, the bean can be annotated with "),Ys(91,"span",0),Sa(92,"@Dependent"),Ks(),Sa(93," to signify this). The DependentScope is a class which defines the scope of a bean that is not a dependency of any particular context when instantiated. When it is injected into, say, Bean2, which is assigned a scope (so other than DependentScope) then the injected bean will inherit whatever scope Bean2 is assigned. This is why it is called DependentScope because the injected bean's scope depends on what other bean it is injected into.\n"),Ks(),Ys(94,"p"),Sa(95," All CDI beans are "),Ys(96,"i"),Sa(97,"lazily"),Ks(),Sa(98," created: they are only instantiated when needed. There are other scopes:\n"),Ks(),Ys(99,"ul"),Ys(100,"li"),Sa(101,"Request scoped (annotate bean with "),Ys(102,"span",0),Sa(103,"@RequestScoped"),Ks(),Sa(104,"): a context which creates and destroys beans based on HTTP requests"),Ks(),Ys(105,"li"),Sa(106,"Session scoped (annotate bean with "),Ys(107,"span",0),Sa(108,"@SessionScoped"),Ks(),Sa(109,"): a context based on client-server sessions (conversations as such), beans are created on session startup and destroyed when a session is closed. Session contextual instances tend to run over long periods and consequently bound contextual instances can persist in memory for the same duration. To optimise memory use on the server, contextual instances are set into service when needed but then "),Ys(110,"i"),Sa(111,"passivated"),Ks(),Sa(112," by the container (placed into hibernation) until they are needed again."),Ks(),Ys(113,"li"),Sa(114,"Application scoped (annotate bean with "),Ys(115,"span",0),Sa(116,"@ApplicationScoped"),Ks(),Sa(117,"): lifecycle of the bean parallels the lifetime of the application. Consequently, only one contextual instance of the given type can exist and as such application scoped instances follow a Singleton pattern."),Ks(),Ys(118,"li"),Sa(119,"Conversation scoped (annotate with "),Ys(120,"span",0),Sa(121,"@ConversationScoped"),Ks(),Sa(122,"): related to JSF API and can partly be viewed as Models in Spring. They have a lifetime shorter than the session and traverse along HTTP requests."),Ks(),Ks()),2&e&&(Nr(41),$s("highlight",t.commonInterface)("languages",t.lang),Nr(6),$s("highlight",t.qualifyBean)("languages",t.lang),Nr(6),$s("highlight",t.cdiQualifiers)("languages",t.lang),Nr(9),$s("highlight",t.injectHere)("languages",t.lang),Nr(6),$s("highlight",t.cdiQualifierEnum)("languages",t.lang),Nr(9),$s("highlight",t.qualifyBeanEnum)("languages",t.lang),Nr(6),$s("highlight",t.injectHereEnum)("languages",t.lang))},directives:[Ig],styles:[".annot[_ngcontent-%COMP%]{color:#ff0}"]}),e})()},{path:"jakartaProducers",component:(()=>{class e{constructor(){this.lang=["java"],this.producerMethod="\n  import javax.enterprise.inject.Produces;\n  import javax.enterprise.inject.spi.InjectionPoint;\n  import java.util.logging.Logger;\n  \n  public class LoggerProducer {\n    // note that Logger is now a bean\n    @Produces\n    public Logger produceLogger(InjectionPoint injectionPoint) {\n        return Logger.getLogger(injectionPoint.getMember().getDeclaringClass().getName());\n    }\n  }",this.injectLogger="    //Producer object in a class that implements Serializable, inheriting the same scope\n  @Inject\n  private Logger logger;",this.producerMethodList='\n  public class SomeNonBean {\n    @Produces\n    public List<String> getList() {\n\n      List<String> someList = new ArrayList<>();\n\n      someList.add("Greetings");\n      someList.add("Bye for now");\n      \n      return someList;\n    }\n  }',this.producerMethodListField="\n  public class SomeNonBean {\n      @Produces\n      SomeOtherNonBean example;\n  }\n  \n  // some other class, inject SomeOtherNonBean\n  \n  @Inject\n  SomeOtherNonBean anotherBean;\n  ",this.producerMethodListQualifier="\n  public class SomeNonBean {\n    @Produces\n    // the important bit is here:\n    @pathToPackage.CustomBean\n    public CommonInterface getTheRightBean() {        \n      return new CustomBean;\n    }\n  }\n  \n  // some other class\n  \n  @Inject\n  // recall, CustomBean is an annotation referencing SomeClass\n  // SomeClass is one implementation of CommonInterface\n  @CustomBean\n  private CommonInterface someInstance;",this.producerMethodListFieldDisposes="\n  public class SomeNonBean {\n    @Produces\n    SomeOtherNonBean example;\n\n    // note that the method must return void\n    public void dispose(@Disposes SomeOtherNonBean currentInstance) {\n      // do stuff to currentInstance before SomeOtherNonBean instance is destroyed\n    }\n  }\n  \n  // some other class, inject SomeOtherNonBean\n  \n  @Inject\n  SomeOtherNonBean anotherBean;\n  ",this.interceptor="\n  @InterceptorBinding\n  @Retention(RetentionPolicy.RUNTIME)\n  // consecutively, by method and by class\n  @Target({ElementType.METHOD, ElementType.TYPE})\n  @Inherited\n  public @interface Logged {\n  }",this.interceptorBinding='\n  @Logged\n  @Interceptor\n  // this activates the interceptor (Java EE 7+ ; previously done via XML config)\n  @Priority(Interceptor.Priority.APPLICATION)\n  public class LoggedInterceptor {\n  \n    @Inject\n    private Logger logger;\n\n    private String username = "Jimi";\n  \n    // This method will be called by the container when the interceptor is triggered\n    // InvocationContext passes info re. the class where the interceptor was \n    // triggered/invoked (the invocation target) and grants the runtime access to the \n    // class, allowing it to handle its properties\n    @AroundInvoke\n    public Object logMethodCall(InvocationContext context) throws Exception {\n\n        // Log for example user who called method and time\n        logger.log(Level.INFO, "User {0} invoked {1} method at {2}", \n            new Object[]{username, context.getMethod().getName(), LocalDate.now()});\n\n        // allow the context to continue with the method called\n        return context.proceed();\n    }\n\n    // other methods and fields...\n    }'}ngOnInit(){}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-jakarta-producers"]],decls:64,vars:16,consts:[[1,"annot"],[3,"highlight","languages","highlighted"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"CDI Producers"),Ks(),Ys(2,"p"),Sa(3," Producers are non-void methods (annotated with "),Ys(4,"span",0),Sa(5,"@Produces"),Ks(),Sa(6,") that convert Java classes, not normally managed or owned, into CDI managed beans. The method must return an object. The method parameters are optional but must be injectable. All are handled by the container.\n"),Ks(),Ys(7,"p"),Sa(8," The return object is not normally handled by the CDI container e.g. an instance of Logger. "),Ks(),Ys(9,"pre"),Sa(10,"    "),Ys(11,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(12,"\n"),Ks(),Ys(13,"p"),Sa(14," Any class which attempts to inject a Logger instance automatically triggers the execution of produceLogger() and returns the Logger instance as a contextual instance.\n"),Ks(),Ys(15,"pre"),Sa(16,"    "),Ys(17,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(18,"\n"),Ks(),Ys(19,"p"),Sa(20," The Producer converts Logger into a bean, scoped as the DependentScope, and in many ways can be viewed as implementations of Factory design patterns. The above injection in particular is scoped according to the calling class.\n"),Ks(),Ys(21,"p"),Sa(22," Any object from the Java library can be returned and managed as a bean e.g. a Collections API List of Strings, for example.\n"),Ks(),Ys(23,"pre"),Sa(24,"    "),Ys(25,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(26,"\n"),Ks(),Ys(27,"p"),Sa(28," Classes can also be injected directly as managed beans using fields. This works if the non-bean does not require further inquiry (e.g. EntityManager).\n"),Ks(),Ys(29,"pre"),Sa(30,"    "),Ys(31,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(32,"\n"),Ks(),Ys(33,"p"),Sa(34," Related to the above discussion about CDI qualifiers, the producers (methods or fields) can be qualified to eliminate ambiguity. Consequently, an injection of CommonInterface will invoke the above Producer method.\n"),Ks(),Ys(35,"pre"),Sa(36,"    "),Ys(37,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(38,"\n"),Ks(),Ys(39,"p"),Sa(40," Methods or events can be executed to the contextual instance, produced from the Produces annotation, before the instance is destroyed. This can be achieved by using the "),Ys(41,"span",0),Sa(42,"@Disposes"),Ks(),Sa(43," annotation.\n"),Ks(),Ys(44,"pre"),Sa(45,"    "),Ys(46,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(47,"\n"),Ks(),Ys(48,"h5"),Sa(49,"CDI Interceptors"),Ks(),Ys(50,"p"),Sa(51," Interceptors intercept method calls and execute other functions (auditing, security etc.) before the method is executed. Interceptors can also help decide if the method call goes ahead.\n"),Ks(),Ys(52,"p"),Sa(53," Interceptors are implemented by declaring the method that is intercepted and the interceptor code (the binding code)that is executed. Typically, a custom annotation is defined, giving the target type i.e. does the interceptor intercept a method or class. If a class is the target then all methods of the class are intercepted. The approach is similar to Aspect Orientated Programming paradigms.\n"),Ks(),Ys(54,"pre"),Sa(55,"    "),Ys(56,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(57,"\n"),Ks(),Ys(58,"p"),Sa(59," The interceptor binding code is demonstrated next. This could run, for example, security related functions. The InvocationContext interface is used to pass info related to calling method and its class so decisions about what to do now next can be carried out.\n"),Ks(),Ys(60,"pre"),Sa(61,"    "),Ys(62,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(63,"\n"),Ks()),2&e&&(Nr(11),$s("highlight",t.producerMethod)("languages",t.lang),Nr(6),$s("highlight",t.injectLogger)("languages",t.lang),Nr(8),$s("highlight",t.producerMethodList)("languages",t.lang),Nr(6),$s("highlight",t.producerMethodListField)("languages",t.lang),Nr(6),$s("highlight",t.producerMethodListQualifier)("languages",t.lang),Nr(9),$s("highlight",t.producerMethodListFieldDisposes)("languages",t.lang),Nr(10),$s("highlight",t.interceptor)("languages",t.lang),Nr(6),$s("highlight",t.interceptorBinding)("languages",t.lang))},directives:[Ig],styles:[""]}),e})()},{path:"jakartaEvents",component:(()=>{class e{constructor(){this.lang=["java"],this.payLoad="public class Payload {\n    private String email;\n    private LocalDateTime loginTime;\n    \n    // constructors, getters and setters\n    // note that this payload instance is injected so the bean must have a \n    // defined constructor\n  }",this.injectEvent="\n  // this represents the dependency whose fields are replicated by Payload\n  @Inject\n  SomeUserClass user;\n\n  // this represents the event that send PayLoad to the observer class \n  // (any valid class, including SomeUserClass, could have also been passed)\n  @Inject\n  Event<Payload> someEvent;\n\n  // the next two fields represent other events which invokes the observer \n  // method annotated with @SpecificEvent or @Admin\n  @Inject\n  @SpecificEvent\n  private Event<PayLoad> someSpecificEvent;\n\n  @Inject\n  @Admin\n  private Event<PayLoad> conditionalEvent;\n\n  public void someMethod(){\n\n    // do stuff\n\n    // this fires a plain event\n    someEvent.fire(new PayLoad(user.getEmail(), LocalDateTime.now()));\n\n    // do other stuff\n\n    // this fires the specific event\n    someSpecificEvent.fire(new PayLoad(user.getEmail(), LocalDateTime.now()));\n\n    // this fires the asynchronous event (the required return, CompletionStage\n    // is part of Java 8's concurrent package)\n    CompletionStage<PayLoad> fireAsync = someSpecificEvent.fireAsync(\n          new PayLoad(user.getEmail(), LocalDateTime.now()));\n  }\n  ",this.observerClass='@RequestScoped\n  public class EventObserver implements Serializable {\n      \n    // inject the necessary dependencies\n    @Inject\n    private Logger logger;\n\n    // this method is invoked by the CDI when someEvent.fire() is executed\n    // where fire() is expecting a new PayLoad object parameter\n    void plainEvent(@Observes PayLoad eventData) {\n\n      // do something with PayLoad object (via the logger instance for example)\n\n    }\n\n    // invoked by fire()\n    void userDidSomething(@Observes @SpecificEvent PayLoad eventData) {\n        \n      // do something different to PayLoad object only when an Event instance, \n      // annotated by SpecificEvent, is fired\n\n    }\n\n    // invoked by fireAsync()\n    void asyncObserver(@ObservesAsync @SpecificEvent PayLoad eventData) {\n        \n      // run code asynchronously (not blocking); the CDI manages the new thread\n      // this is invoked by fireAsync(), not fire(), so would not run alongside \n      // userDidSomething()\n\n    }\n    \n    // this runs when the event, annotated by @Admin, is fired\n    // notifyObserver checks two conditions, that Reception is set to available and \n    // TransactionPhase is completed (both classes are part of the java.lang.enum package).\n    // Without setting "during", then the defaults are \n    // Reception.IS_AVAILABLE and TransactionPhase.IN_PROGRESS\n    void conditionalObserver(@Observes(notifyObserver = Reception.IS_AVAILABLE,\n            during = TransactionPhase.AFTER_COMPLETION) @Admin PayLoad eventData) {\n        \n        // this only runs when the conditions are satisfied\n\n    }\n  }',this.specificEventAnnotation="\n  @Qualifier\n  @Retention(RetentionPolicy.RUNTIME)\n  @Target({ElementType.PARAMETER, ElementType.FIELD})\n  public @interface SpecificEvent {\n  }",this.eventObserverPriority="\n  void runMeSecond(@Observes @Priority(20) PayLoad someData){\n    // run this second\n  }\n  \n  void runMeFirst(@Observes @Priority(10) PayLoad someData){\n    // run this first\n  }"}ngOnInit(){}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-jakarta-events"]],decls:45,vars:10,consts:[[3,"highlight","languages","highlighted"],[1,"annot"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"CDI events"),Ks(),Ys(2,"p"),Sa(3," Disparate classes can be linked, such that one observes the events (occurrences) of another. The observer class (an event observer) is not dependency. One can trigger the observer class (the event is fired by the observed class) to run its own code. The observed class passes data (a payload) to the observer class and the observer class processes the payload. Since CDI 2.0, the observer class can run asynchronously to the observed class.\n"),Ks(),Ys(4,"p"),Sa(5," Less abstractly, a user can book tickets online and the data can be managed by a dependency. The dependency can then fire an event (e.g. ticketsBooked) and send data re. the booking to another observer class. The ticket booking dependency continues on with whatever it was assigned to do and the event observer takes the payload and can process it independently of the booking dependency. Another example are mouse clicks. An application processes the action of a mouse click, usually through the OS, while the class fires an event, onClick, which the application then responds to and performs some directed action.\n"),Ks(),Ys(6,"p"),Sa(7," The Event interface allows the application to fire events. The Event interface (as an injected instance) receives the payload. The payload is defined by its own POJO.\n"),Ks(),Ys(8,"pre"),Sa(9,"    "),Ys(10,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(11,"\n"),Ks(),Ys(12,"p"),Sa(13," One then injects an instance of the Event interface, usually at the controller level.\n"),Ks(),Ys(14,"pre"),Sa(15,"    "),Ys(16,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(17,"\n"),Ks(),Ys(18,"p"),Sa(19,' The observer class is then defined and lists the methods that are executed when it receives a payload. Note how specific events can be fired. Each method that can be invoked are more generally referred to as "observers".\n'),Ks(),Ys(20,"pre"),Sa(21,"    "),Ys(22,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(23,"\n"),Ks(),Ys(24,"p"),Sa(25," The custom annotation "),Ys(26,"span",1),Sa(27,"@SpecificEvent"),Ks(),Sa(28," is given below.\n"),Ks(),Ys(29,"pre"),Sa(30,"    "),Ys(31,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(32,"\n"),Ks(),Ys(33,"p"),Sa(34," If there are multiple observers (methods) then the CDI will execute all in a random order. A specific order can be established by passing the "),Ys(35,"span",1),Sa(36,"@Priority(100)"),Ks(),Sa(37," annotation. Passing lower integers into the "),Ys(38,"span",1),Sa(39,"@Priority()"),Ks(),Sa(40," annotation causes the CDI to place more priority to the annotated observer.\n"),Ks(),Ys(41,"pre"),Sa(42,"    "),Ys(43,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(44,"\n"),Ks()),2&e&&(Nr(10),$s("highlight",t.payLoad)("languages",t.lang),Nr(6),$s("highlight",t.injectEvent)("languages",t.lang),Nr(6),$s("highlight",t.observerClass)("languages",t.lang),Nr(9),$s("highlight",t.specificEventAnnotation)("languages",t.lang),Nr(12),$s("highlight",t.eventObserverPriority)("languages",t.lang))},directives:[Ig],styles:[""]}),e})()},{path:"jakartaJPA",component:um},{path:"jakartaAccessMappingFetching",component:(()=>{class e{constructor(){this.lang=["java","xml"],this.jpaPropertyAccess='\n  @Entity\n  @Table(name = "Some_Table_Name")\n  public class Costs {\n\n    private Long id;\n\n    private double income;\n\n    // getters and setters\n\n    // this signal the use of Property access\n    @Id\n    public Long getId(){\n      return this.id;\n    }\n  }\n  ',this.jpaEnums="\n  public enum Status {\n    // each enum is zero-based, so VACANT is 0, OCCUPIED is 1 etc.\n    // this also means that the order of the list is important\n    VACANT,\n    OCCUPIED,\n    MAINTENANCE\n  }",this.jpaEnumsFields="\n  public class SomeClass {\n\n    // assume to store ordinals of the enum\n    private Status currentStatus;\n\n\n    // assume to store strings of the enum\n    @Enumerated(EnumType.STRING)\n    private Status currentStatusString;\n\n    // only load someImage when the getter is called\n    @Lob\n    @Basic(fetch = FetchType.LAZY)\n    private byte[] someImage;\n  }",this.jpaEmbedded="\n  @Embeddable\n  public class HelperClass {\n    // other fields and methods\n  }\n\n  // in some other class file...\n\n  public class MainClass {\n\n    @Embedded\n    private HelperClass embeddedClass;\n\n    // getters and setters etc.\n  }\n  "}ngOnInit(){}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-jakarta-accessmappingtypes"]],decls:71,vars:8,consts:[[1,"annot"],[3,"highlight","languages","highlighted"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Access types"),Ks(),Ys(2,"p"),Sa(3," As stated, the JPA implementation is also known as the provider. Access types describe the method which the provider follows to map data to/from the database/Java object. Regarding the Java object, the data can be retrieved or set directly via the fields or though its class' getter and setters.\n"),Ks(),Ys(4,"p"),Sa(5,' Take the case when a provider extracts field values from the POJO\'s fields directly and stores them in the database. This direct mechanism is referred to as "Field Access" and is the default mechanism for all fields of a class, where at least one field not method (normally the '),Ys(6,"span",0),Sa(7,"@Id"),Ks(),Sa(8," annotated field) is given a valid JPA annotation. More fundamentally, the runtime will use 'reflection' to access the field \"income\" above directly. It will not make use of any getter.\n"),Ks(),Ys(9,"p"),Sa(10," In general, all fields of a class which are then assumed to follow field access are field access types and should be either private or protected. Furthermore, classes which extend said class are also assumed to follow field access. Only the JPA provider will have access to the fields.\n"),Ks(),Ys(11,"p"),Sa(12,' "Property Access" is a mechanism where the provider uses getters and setters to access fields\' values. The getters and setters must be public. To signal property access of the Id, for example, simply move the '),Ys(13,"span",0),Sa(14,"@Id"),Ks(),Sa(15," annotation from its field to the getter.\n"),Ks(),Ys(16,"pre"),Sa(17,"    "),Ys(18,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(19,"\n"),Ks(),Ys(20,"p"),Sa(21,' Generally, field access tends to be easier to read and is applied more often than property access. It is also possible to follow a "Mixed Access" method which is essentially a mixture of Field and Property access types. This can be achieved by a combination of the '),Ys(22,"span",0),Sa(23,"@Access"),Ks(),Sa(24," and "),Ys(25,"span",0),Sa(26,"@Transient"),Ks(),Sa(27," annotations. This approach is quite rare and not described here.\n"),Ks(),Ys(28,"h5"),Sa(29,"Mapping types and Fetching"),Ks(),Ys(30,"p"),Sa(31," Java String types are mapped to the database as VARCHAR (in fact, all mapping types are provider dependent so this discussion attempts to be somewhat generic). Other Java primitive types, wrapper types, enums and Serializable objects can also be mapped to the JPA.\n"),Ks(),Ys(32,"p"),Sa(33," Enum types are normally assigned ordinal values, according to the order they are listed in the class.\n"),Ks(),Ys(34,"pre"),Sa(35,"    "),Ys(36,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(37,"\n"),Ks(),Ys(38,"p"),Sa(39," The ordinals are, by default, stored to the database as integers. This is fine as long as the enumerated list never changes. If however the order changes or an enum is added/removed, then any database stored values will be mis-assigned. To overcome this, the enum can be mapped as a string (a VARCHAR) and use the literal of the enum instead of its ordinal value. In the enum field, use the "),Ys(40,"span",0),Sa(41,"@Enumerated(EnumType.STRING)"),Ks(),Sa(42,". Storing as a string tends to be the preferred method.\n"),Ks(),Ys(43,"pre"),Sa(44,"    "),Ys(45,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(46,"\n"),Ks(),Ys(47,"p"),Sa(48," Large entities of variable length (arrays, lists etc.) are represented as CLOBs and BLOBs, that is, character large objects and binary large objects. A primitive array of Java char would be handled by a CLOB whereas a primitive array of Java byte would be handled by a BLOB. The annotation "),Ys(49,"span",0),Sa(50,"@Lob"),Ks(),Sa(51," signals to the JPA provider to handle the Java array or list with large format file routines, optimised for the specific purpose.\n"),Ks(),Ys(52,"p"),Sa(53,' When dealing with large files, it is more optimal to retrieve data only when needed, typically through a getter. When an object (a database row) is retrieved from the database, all fields by default (where fields are "eagerly" fetched) are extracted and assigned to the properties of the object. To prevent the JPA provider from retrieving certain fields when a Java object is built with database fields, apply the '),Ys(54,"span",0),Sa(55,"@Basic(fetch = FetchType.LAZY)"),Ks(),Sa(56,' annotation to the fields that must be excluded. Only when the object getter (if the field is private) is called does the annotated field get extracted from the database and are said to be "lazily" fetched.\n'),Ks(),Ys(57,"p"),Sa(58," JPA 2.2 introduced support for Java 8's java.time package. The JPA provider will normally use the corresponding Date type in the database. No special annotations are required. Prior version of the JPA required the use of specific annotations to get things going.\n"),Ks(),Ys(59,"p"),Sa(60," Inner classes or classes which are embedded into others (through composition) in Java usually have no purpose other than to serve the Java class they are embedded in. Instances of the outer class typically have fields which are the same type as the inner (embedded) class. To store the inner class, annotate the class to be embedded with "),Ys(61,"span",0),Sa(62,"@Embeddable"),Ks(),Sa(63," and then annotate the field of the class which is embedded with "),Ys(64,"span",0),Sa(65,"@Embedded"),Ks(),Sa(66,". This causes the JPA to save the embedded (inner) class with its own columns, into the 'main class'.\n"),Ks(),Ys(67,"pre"),Sa(68,"    "),Ys(69,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(70,"\n"),Ks()),2&e&&(Nr(18),$s("highlight",t.jpaPropertyAccess)("languages",t.lang),Nr(18),$s("highlight",t.jpaEnums)("languages",t.lang),Nr(9),$s("highlight",t.jpaEnumsFields)("languages",t.lang),Nr(24),$s("highlight",t.jpaEmbedded)("languages",t.lang))},directives:[Ig],styles:[".annot[_ngcontent-%COMP%]{color:#ff0}.commands[_ngcontent-%COMP%]{color:#008b8b;padding:2px}"]}),e})()},{path:"jakartaPKsRelationalMapping",component:(()=>{class e{constructor(){this.lang=["java","xml"],this.jpaCustomSequence='\n  public class someClass {\n\n    @SequenceGenerator(name = "CustomSeq", sequenceName = "newKeySeq")\n    @GeneratedValue(generator = "CustomSeq")\n    @Id\n    private Long id;\n\n    // this query would be executed in the DB client beforehand\n    // CREATE SEQUENCE newKeySeq MINVALUE 1 START WITH 1 INCREMENT BY 20\n\n    // other fields and methods\n  }',this.jpaTableGenerator='\n  public class someClass {\n\n    @TableGenerator(name = "tableGen", table = "pkTable",\n          pkColumnName = "generatedIDsPKs", valueColumnName = "latestPK")\n    @GeneratedValue(generator = "tableGen")\n    @Id\n    private Long id;\n\n    // other fields and methods\n  }',this.jpaSingleValued='\n  public class Employee {\n\n    // to the "left" of the annotation, there are many Employees and to\n    // the right is one department; note, this assumes field access\n    // the optional @JoinColumn annotation sets the provider foreign key (join) column name\n    @ManyToOne\n    @JoinColumn(name = "departmentID")\n    private Department department;\n  }\n  \n  // some other class file\n  \n  public class Department {\n\n    // Department is owned by Employee (see Multivalued relationships)\n    @OneToMany(mappedBy = "department")\n    private List<Employee> employees = new ArrayList<>();\n  }',this.jpaSingleValued2="\n  public class Employee {\n\n    @OneToOne\n    private PaySlip payslip;\n  }\n  \n  // some other class file\n  public class PaySlip {\n\n    // various other fields and methods (no reference to Employee)\n  }",this.jpaBidirectional='\n  public class Employee {\n\n    // use the name of the Java bean field\n    @OneToOne(mappedBy = "employee")\n    private Office office;\n  }\n  \n  // some other class file\n  public class Office {\n\n    @OneToOne\n    @JoinColumn(name = "EMPLOYEE_ID")\n    private Employee employee;\n  }',this.oneToMany='\n  public class Employee {\n\n    // the optional @JoinColumn annotation sets the provider foreign key (join) column name\n    @ManyToOne\n    @JoinColumn(name = "departmentID")\n    private Department department;\n  }\n  \n  // some other class file\n\n  public class Department {\n\n    // Department is owned by Employee\n    @OneToMany(mappedBy = "department")\n    private List<Employee> employees = new ArrayList<>();\n  }',this.manyToMany='\n  public class Employee {\n\n    // option to fetch lazily (this is the default anyway)\n    @ManyToMany(mappedBy = employees, fetch = FetchType.LAZY)\n    private List<Project> projects = new ArrayList<>();\n\n  }\n  \n  // another class file\n  \n  public class Project {\n\n    // in order, the annotation options are\n    // 1. join table name\n    // 2. column of PKs of the owning entity\n    // 3. column of PKs of the owned entity\n    @ManyToMany\n    @JoinTable(\n      name = "Employees_Projects",\n      joinColumns = @JoinColumn(name = "projectID"),\n      inverseJoinColumns = @JoinColumn(name = "employeeID"))\n    private List<Employee> employees = new ArrayList<>();\n  }',this.jpaEmbeddedCollection='\n  @Embeddable\n  public class HelperClass {\n    // other fields and methods\n  }\n\n  // in some other class file...\n\n  public class MainClass {\n\n    // this actually directs the provider to build a secondary table of \n    // HelperClass entities (@CollectionTable is optional)\n    @ElementCollection\n    @CollectionTable(\n        name = "secondaryTableName", \n        joinColumns = @JoinColumn(name = "employeeID"))\n    private Collection<HelperClass> embeddedClasses;\n\n    // getters and setters etc.\n  }\n  '}ngOnInit(){}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-jakarta-pkrelationalmapping"]],decls:198,vars:16,consts:[[1,"annot"],[3,"highlight","languages","highlighted"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Primary keys"),Ks(),Ys(2,"p"),Sa(3," Primary keys can take the form of different Java types, not only (wrapped) Long types. Generally, the floating point types like double and Double are not recommended given the representation is not uniformly defined across systems. "),Ks(),Ys(4,"p"),Sa(5," Primary keys generation types vary. The annotation "),Ys(6,"span",0),Sa(7,"@GeneratedValue(strategy = GenerationType.AUTO)"),Ks(),Sa(8," assigns responsibility of primary key generation to the JPA provider and is fine for development. For deployment, this is not recommended since more control is generally expected. The primary key is only set once the transaction (for example, an insertion) has been completed.\n"),Ks(),Ys(9,"p"),Sa(10," The annotation "),Ys(11,"span",0),Sa(12,"@GeneratedValue(strategy = GenerationType.IDENTITY)"),Ks(),Sa(13," directs supporting providers to generate unique primary keys in a primary key column. Not all implementations support a dedicated primary key column.\n"),Ks(),Ys(14,"p"),Sa(15," Some database implementation enable (indeed, expect) custom sequences of integers to be constructed, using the SEQUENCE command. In these cases, the database does not have an automatic schema generator (requires administration). By default, a primary key is constructed as unit integers, that is, the next key is one integer greater than the previous. The SEQUENCE command can be used to define a different sequence. The application of the custom sequence can be directed using the annotations "),Ys(16,"span",0),Sa(17,"@SequenceGenerator"),Ks(),Sa(18," in combination with "),Ys(19,"span",0),Sa(20,"@GeneratedValue"),Ks(),Sa(21,".\n"),Ks(),Ys(22,"pre"),Sa(23,"    "),Ys(24,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(25,"\n"),Ks(),Ys(26,"p"),Sa(27," A more flexible primary key generator is the Table Generator and tends to be used during deployment. This generates a separate table in the database which specifically acts as a mapper between the Java object and its persistent entity on the database. "),Ks(),Ys(28,"pre"),Sa(29,"    "),Ys(30,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(31,"\n"),Ks(),Ys(32,"p"),Sa(33,' Going through each part (above), the name of the table is "pkTable". The primary key column for '),Ys(34,"i"),Sa(35,"pkTable"),Ks(),Sa(36,' is "generatedIDsPKs". The second column in '),Ys(37,"i"),Sa(38,"pkTable"),Ks(),Sa(39,' labelled "latestPK" contains a record of the last primary key that was set. This last column informs the JPA provider what the next key should be, normally one unit integer higher. It examines the value in this column and then proceeds to assign the next entity primary key based on teh value in "latestPK".\n'),Ks(),Ys(40,"h5"),Sa(41,"Relational mapping with JPA"),Ks(),Ys(42,"p"),Sa(43," Relationships between two entities can either be unidirectional or bidirectional (explain in more detail shortly). An address related to a employee is normally unidirectional since it makes more sense for the employee to know its address but it does not make sense for an address to know its employee.\n"),Ks(),Ys(44,"p"),Sa(45," The "),Ys(46,"i"),Sa(47,"cardinality"),Ks(),Sa(48," refers to the number entities at the end of each relationship. From a department's viewpoint, the department will have many employees, and be one-to-many. From the employees viewpoint it would be many-to-one. The cardinality is one for the department and many for the employees, as such.\n"),Ks(),Ys(49,"p"),Sa(50," The "),Ys(51,"i"),Sa(52,"ordinality"),Ks(),Sa(53,' (or "optionality") refers to a boolean which denotes whether or not a entity must be defined when persisting data. Other authors refer to ordinality as the minimum number of entities that must exist in a given relationship. In order for employees to be saved to the database, a department must exist. However, in order for a department to be saved, having employees is not a requirement. From a global viewpoint, the ordinality (in the department-employee relationship) is said to be "0" or false for employee and "1+" or true for the department.\n'),Ks(),Ys(54,"h5"),Sa(55,"Single-valued associations"),Ks(),Ys(56,"p"),Ys(57,"i"),Sa(58,"Single-valued associations"),Ks(),Sa(59," are those where there is only one entity at the target end of the relationship. From the employee point of view, whether there is one employee or multiple employees, the target entity (the department) is the sole entity. As such, there are consequently either one-to-one and many-to-one relationships.\n"),Ks(),Ys(60,"p"),Sa(61," The annotations used are "),Ys(62,"span",0),Sa(63,"@ManyToOne"),Ks(),Sa(64," and "),Ys(65,"span",0),Sa(66,"@OneToOne"),Ks(),Sa(67,".\n"),Ks(),Ys(68,"pre"),Sa(69,"    "),Ys(70,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(71,"\n"),Ks(),Ys(72,"p"),Sa(73," To parse this, read the source from the class' point of view. Reading from the Employee literal, of which there are many, is a department, of which there is one. There will be a column in the Employee, known as the "),Ys(74,"i"),Sa(75,"foreign key column"),Ks(),Sa(76,' (in JPA, the "join column", named according to the provider defaults), which references the primary key of the Department table. Thus, the Employee table will store not only the primary keys of its employee entities but also the reference (a foreign key) of the Department entity. The Department table currently does not store references re. the Employees. It does not know anything about Employee entities. As such, the Employee is said to have '),Ys(77,"b"),Sa(78,"ownership"),Ks(),Sa(79," over the relationship.\n"),Ks(),Ys(80,"p"),Sa(81,' By default, the join column name is normally "targetName_id". To customise the name of the join column, annotate the Department field with '),Ys(82,"span",0),Sa(83,'@JoinColumn(name = "departmentID")'),Ks(),Sa(84,", see above.\n"),Ks(),Ys(85,"p"),Sa(86," One-to-one relationships are single-valued and unidirectional. The owner of the relationship is given by the class that references to the other entity.\n"),Ks(),Ys(87,"pre"),Sa(88,"    "),Ys(89,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(90,"\n"),Ks(),Ys(91,"p"),Sa(92," In the above case, Employee is the owner of the relationship. The "),Ys(93,"span",0),Sa(94,"@JoinColumn"),Ks(),Sa(95," annotation can be applied to the PaySlip reference in the same way. In both one-to-one and many-to-one relationships, one can only traverse from one entity to the other in one direction, that is, from Employee to Department and from Employee to PaySlip. Such relationships are "),Ys(96,"i"),Sa(97,"unidirectional"),Ks(),Sa(98,".\n"),Ks(),Ys(99,"p"),Ys(100,"i"),Sa(101,"Bidirectional relationships"),Ks(),Sa(102," are those where it is possible to traverse between entities in both directions of the relationship (or continuum). In this case, both entities would need to reference the other entity in their respective Java beans.\n"),Ks(),Ys(103,"p"),Sa(104," To set Office with the ownership via the join column, set as follows. In this case, the Office entity is the owner and the Employee entity is owned.\n"),Ks(),Ys(105,"pre"),Sa(106,"    "),Ys(107,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(108,"\n"),Ks(),Ys(109,"h5"),Sa(110,"Multivalued associations"),Ks(),Ys(111,"p"),Sa(112," When there is more than one target entity, it gives rise to Collection valued relationships. This includes one-to-many and many-to-many relationships.\n"),Ks(),Ys(113,"p"),Sa(114," The one-to-many relationship has been shown previously between employees and the department (above).\n"),Ks(),Ys(115,"pre"),Sa(116,"    "),Ys(117,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(118,"\n"),Ks(),Ys(119,"p"),Sa(120," Note that the "),Ys(121,"span",0),Sa(122,"@OneToMany"),Ks(),Sa(123," annotation ensures that one can traverse from Department "),Ys(124,"i"),Sa(125,"to"),Ks(),Sa(126," Employee and ensure that the relationship is bidirectional. Without the "),Ys(127,"span",0),Sa(128,"@OneToMany"),Ks(),Sa(129," annotation, the relationship would be unidirectional (from Employee to Department).\n"),Ks(),Ys(130,"p"),Sa(131," A single entity on the one-side is unable to store the foreign keys of multiple entities from the many-side (a single cell in a row can only hold one value). To proceed, virtually all one-to-many relationships require a complimentary many-to-one declaration given on the one-side's target. That is, "),Ys(132,"b"),Sa(133,"one cannot have a "),Ys(134,"span",0),Sa(135,"@OneToMany"),Ks(),Sa(136," annotation in Department without the "),Ys(137,"span",0),Sa(138,"@ManyToOne"),Ks(),Sa(139," on the Employee side"),Ks(),Sa(140,". The converse though is not a requirement, that is, a "),Ys(141,"span",0),Sa(142,"@ManyToOne"),Ks(),Sa(143," annotation in Employee can exist without the "),Ys(144,"span",0),Sa(145,"@OneToMany"),Ks(),Sa(146," in Department. (Each Employee will only need to store one foreign key to one department.) If the "),Ys(147,"span",0),Sa(148,"@OneToMany"),Ks(),Sa(149," annotation is omitted then the JPA provider will build a separate join table (explained shortly) to enable the one-side to store the foreign keys.\n"),Ks(),Ys(150,"p"),Sa(151," The many-to-many relationship is signified by the "),Ys(152,"span",0),Sa(153,"@ManyToMany"),Ks(),Sa(154," annotation. This brings in "),Ys(155,"i"),Sa(156,"join tables"),Ks(),Sa(157," which are separate tables that are solely purposed to store primary keys of the related entities.\n"),Ks(),Ys(158,"pre"),Sa(159,"    "),Ys(160,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(161,"\n"),Ks(),Ys(162,"p"),Sa(163," The owned table (entity) is signified by a field with "),Ys(164,"span",0),Sa(165,'@ManyToMany(mappedBy = "ownerField")'),Ks(),Sa(166," annotation.\n"),Ks(),Ys(167,"p"),Sa(168," With the above relationships, it is necessary to control what other related entities are loaded when a contextual instance is constructed. This is handled with options to the relationship annotations. Note that the provider is not bound to fetch lazily or eagerly, and any fetch annotation is considered a suggestion (consult the provider documentation).\n"),Ks(),Ys(169,"h5"),Sa(170,"Embeddable object persistence"),Ks(),Ys(171,"p"),Sa(172," Previously Embeddable objects were given their own allocation in the database when the embedded object was persisted to a database. The above example focused on one entity.\n"),Ks(),Ys(173,"p"),Sa(174," To embed a Collection, annotate the field with "),Ys(175,"span",0),Sa(176,"@ElementCollection"),Ks(),Sa(177,". The HelperClass objects are not JDK entities. Generally all non-JDK entities are flagged with "),Ys(178,"span",0),Sa(179,"@ElementCollection"),Ks(),Sa(180,". This causes the provider to build a secondary table, where one column stores a reference to the Employee table and the remaining columns relate to the fields of the HelperClass.\n"),Ks(),Ys(181,"pre"),Sa(182,"    "),Ys(183,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(184,"\n"),Ks(),Ys(185,"p"),Sa(186," The JPA handles the mapping and build of a separate table. The "),Ys(187,"span",0),Sa(188,"@CollectionTable"),Ks(),Sa(189," overrides the defaults of the secondary table.\n"),Ks(),Ys(190,"p"),Sa(191," Standard JDK entities can be stored along with the owning entity in their own column, as opposed to being stored in a separate table. To handle Collections of standard JDK entities, for example String, use a combination of "),Ys(192,"span",0),Sa(193,"@ElementCollection"),Ks(),Sa(194," and optionally customise the name of the "),Ys(195,"span",0),Sa(196,'@Column(name = "collectionColumnName")'),Ks(),Sa(197," annotations.\n"),Ks()),2&e&&(Nr(24),$s("highlight",t.jpaCustomSequence)("languages",t.lang),Nr(6),$s("highlight",t.jpaTableGenerator)("languages",t.lang),Nr(40),$s("highlight",t.jpaSingleValued)("languages",t.lang),Nr(19),$s("highlight",t.jpaSingleValued2)("languages",t.lang),Nr(18),$s("highlight",t.jpaBidirectional)("languages",t.lang),Nr(10),$s("highlight",t.oneToMany)("languages",t.lang),Nr(43),$s("highlight",t.manyToMany)("languages",t.lang),Nr(23),$s("highlight",t.jpaEmbeddedCollection)("languages",t.lang))},directives:[Ig],styles:[".annot[_ngcontent-%COMP%]{color:#ff0}.commands[_ngcontent-%COMP%]{color:#008b8b;padding:2px}"]}),e})()},{path:"jakartaSortingCollections",component:(()=>{class e{constructor(){this.lang=["java","xml"],this.jpaSortCollection='\n  public class SomeClass {\n    \n    @OrderBy("fieldName desc, nextField asc, nextField2 desc")\n    private List<SomeNonEntity> customObjects = new ArrayList<>();\n  }',this.jpaMapCollection='\n  public class SomeClass {\n    \n    @ElementCollection\n    @CollectionTable(name = "collectionTableName")\n    @MapKeyColumn(name = "keyColumnName")\n    @Column(name = "valueColumnValue")\n    private Map<String, String> customObjects = new HashMap<>();\n  }',this.jpaMapEnumKeyCollection='\n  public class SomeClass {\n    \n    // note that for keys as enums, use \n    // @MapKeyEnumerated instead of @Enumerated\n    @ElementCollection\n    @CollectionTable(name = "collectionTableName")\n    @MapKeyColumn(name = "keyColumnName")\n    @Column(name = "valueColumnValue")\n    @MapKeyEnumerated(EnumType.STRING)\n    private Map<SomeEnum, String> customObjects = new HashMap<>();\n  }',this.jpaMapFieldKeyCollection='\n  public class SomeClass {\n    \n    private Long fieldName;\n\n    // allow the JPA provider to build other tables as needed with @OneToMany\n    @OneToMany\n    @MapKey(name = "fieldName")\n    private Map<Long, Employee> employees = new HashMap<>(); \n  }',this.jpaMapEntityKeyCollection='\n  public class SomeOtherClass {\n    \n    // use the @MapKeyJoinColumn to persist the Employee by employeeID\n    @ElementCollection\n    @CollectionTable(name = "collectionTableName")\n    @MapKeyJoinColumn(name = "employeeID")\n    @Column(name = "shiftNo")\n    private Map<Employee, Integer> employeeShift = new HashMap<>(); \n  }'}ngOnInit(){}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-jakarta-sorting"]],decls:59,vars:10,consts:[[1,"annot"],[3,"highlight","languages","highlighted"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Sorting Collections"),Ks(),Ys(2,"p"),Sa(3," It is recommended to use the Collection interface when defining the variable type of a collection of objects. This is because some providers will use their own more optimised implementation of the collection, rather than the Collections List, ArrayList, Set or Map implementations.\n"),Ks(),Ys(4,"p"),Sa(5," By default, elements in a Java List (indeed any JDK entity) are ordered, ascending, by the primary key. This is symbolised by the optional annotation "),Ys(6,"span",0),Sa(7,"@OrderBy()"),Ks(),Sa(8,". To order by a particular field of the persisted object can be applied with "),Ys(9,"span",0),Sa(10,'@OrderBy("fieldName asc, secondaryFieldName desc")'),Ks(),Sa(11,". Here, the list is sorted by fieldName first, and then by secondaryFieldName. One can add more field names. The token asc and desc represent ascending (default) ordering and descending order, respectively.\n"),Ks(),Ys(12,"pre"),Sa(13,"    "),Ys(14,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(15,"\n"),Ks(),Ys(16,"p"),Sa(17," By default, the ordering of primitive Java types is based on the values. The ordering of non-JDK entities is undefined. Note that the fields of a target non-JDK entity used to sort a collection must be orderable and not another non-JDK entity type.\n"),Ks(),Ys(18,"p"),Sa(19," In cases where there are no orderable fields, an alternative sorting method is signalled by the "),Ys(20,"span",0),Sa(21,"@OrderColumn"),Ks(),Sa(22,' annotation. This creates a separate column in the database which mirrors the indices of the Collections List object. As such, the column is zero-based. The name of the column is by default "ClassName_order" and can be overridden with '),Ys(23,"span",0),Sa(24,'@OrderColumn(name = "indexColumnName")'),Ks(),Sa(25," annotation option. The developer then needs to set the index of the List element as desired separately from the JPA provider. The JPA provider will simply order by index.\n"),Ks(),Ys(26,"h5"),Sa(27,"Java Maps in JPA"),Ks(),Ys(28,"p"),Sa(29," The persistence of Java Maps (assume that the key and value are JDK entities for now) are handled such that both the key and value are stored in their own columns in a separate table along with a reference to the entity in which they were declared. Use "),Ys(30,"span",0),Sa(31,"@ElementCollection"),Ks(),Sa(32," and a few other annotations.\n"),Ks(),Ys(33,"pre"),Sa(34,"    "),Ys(35,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(36,"\n"),Ks(),Ys(37,"p"),Sa(38," It is possible to use an enumeration as a key to a map. To enforce the provider to use the literals instead of the ordinals of the enumeration, follow the aforementioned persistence mode.\n"),Ks(),Ys(39,"pre"),Sa(40,"    "),Ys(41,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(42,"\n"),Ks(),Ys(43,"p"),Sa(44," One can also use a field of the entity as a key and the entity itself as the value. (For example, a field might be security number of an employee as the key.)\n"),Ks(),Ys(45,"pre"),Sa(46,"    "),Ys(47,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(48,"\n"),Ks(),Ys(49,"p"),Sa(50," Note that the key is not stored in a separate table since it already exists, effectively, as a column in the given entity.\n"),Ks(),Ys(51,"p"),Sa(52," One can also use non-JDK entities as keys. For example, the key represents a particular employee in a department and the value (of the map) represents shift allocation (late shift is 0, day shift is 1 etc.). The key column is actually represented by the ID of the employee; the actual non-JDK entity is not stored in the column (cell).\n"),Ks(),Ys(53,"pre"),Sa(54,"    "),Ys(55,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(56,"\n"),Ks(),Ys(57,"p"),Sa(58," One can in theory use Embeddable types as keys, however, their use is not recommended. This is largely because embeddable types do not have their own tables, and are only persisted with the embedded entity. If the embedded entity is not in the database then the embeddable entities are also absent; as a result, the querying of embeddable types is not guaranteed.\n"),Ks()),2&e&&(Nr(14),$s("highlight",t.jpaSortCollection)("languages",t.lang),Nr(21),$s("highlight",t.jpaMapCollection)("languages",t.lang),Nr(6),$s("highlight",t.jpaMapEnumKeyCollection)("languages",t.lang),Nr(6),$s("highlight",t.jpaMapFieldKeyCollection)("languages",t.lang),Nr(8),$s("highlight",t.jpaMapEntityKeyCollection)("languages",t.lang))},directives:[Ig],styles:[".annot[_ngcontent-%COMP%]{color:#ff0}.commands[_ngcontent-%COMP%]{color:#008b8b;padding:2px}"]}),e})()},{path:"jakartaEJBs",component:(()=>{class e{constructor(){this.lang=["java","xml"],this.simpleEJB="\n  @Stateless\n  public class SomeService {\n\n    // methods involving other beans\n  }"}ngOnInit(){}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-jakarta-ejbs"]],decls:105,vars:2,consts:[[1,"annot"],[3,"highlight","languages","highlighted"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Enterprise JavaBeans EJBs"),Ks(),Ys(2,"p"),Sa(3," Components are self-contained units and can be defined by a class. Java EE gives a component driven APIs, known as EJBs, to help solve business applications. It provides a set of constructs which form an abstract layer and removes (encapsulates) common tasks such as security and scaling amongst others. While historically, EJBs and the JPA were interwoven, now more modern versions of EJB (to date, version 3) are separated but still complimentary to the JPA.\n"),Ks(),Ys(4,"p"),Sa(5,' EJBs is largely an annotation driven API. A lot of defaults are set for the developer, and only need to be overridden when needed (in exceptional cases). EJB is aligned with Java EE\'s CDI and all dependencies are handled automatically by a "EJB container" which specifically manages all forms of EJBs and mirrors much of functionality of the CDI. EJB components have automatically managed lifecycles. They are scalable, secure and portable. All transactions are also handled in the background.\n'),Ks(),Ys(6,"p"),Sa(7,' The EJB container and the "EJB component model" are the first and second parts of the EJB architecture. The latter is where the developer focuses on. There are different parts of the component model, or different types of EJBs.\n'),Ks(),Ys(8,"ul"),Ys(9,"li"),Sa(10,"Stateless EJBs"),Ks(),Ys(11,"li"),Sa(12,"Stateful EJBs"),Ks(),Ys(13,"li"),Sa(14,"Singleton EJBs"),Ks(),Ks(),Ys(15,"p"),Sa(16," The "),Ys(17,"i"),Sa(18,"stateless session bean"),Ks(),Sa(19," is an EJB that is designed to complete a given task within the lifetime or cycle of a single method. It is very much like a request-scoped bean. To build a stateless session bean, annotate a POJO with the "),Ys(20,"span",0),Sa(21,"@Stateless"),Ks(),Sa(22," annotation.\n"),Ks(),Ys(23,"pre"),Sa(24,"    "),Ys(25,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(26,"\n"),Ks(),Ys(27,"p"),Sa(28," All methods defined in an EJB are exclusive. Each method does not assume or know about if other methods in the same EJB were invoked before or after its execution. This is because when the method is invoked, the container will take one EJB from a predefined pool of EJBs, execute the method and then return the EJB to the pool once the method is finished. If it is invoked again, the container will pass another EJB instance (which may or may not be the same as that passed before) and then return the EJB again on completion. This is an example of a "),Ys(29,"i"),Sa(30,"stateless"),Ks(),Sa(31," bean. This also means that the methods defined in an EJB are isolated and do not rely on one another.\n"),Ks(),Ys(32,"p"),Sa(33," Stateless EJBs pop in and out of a pool of EJB(s), running the method on a needs basis. This makes stateless EJBs scalable and memory efficient. They do not store the state of the system and are overall expendable units. This also marks the beginning and ending of a transaction (when an EJB is injected and when it is returned).\n"),Ks(),Ys(34,"p"),Sa(35," The complement of a stateless EJB is a "),Ys(36,"i"),Sa(37,"stateful"),Ks(),Sa(38," EJB. Annotate the POJO with "),Ys(39,"span",0),Sa(40,"@Stateful"),Ks(),Sa(41,". Examples of this include a shopping cart. When methods are invoked, it consults the current state of the system and runs based on its state. The stateful EJB can be placed in passive mode, where it resides in the background without taking up vital resources. It is not committed to a (stateless) pool. The state is unique to a client (no use sharing the same shopping cart).\n"),Ks(),Ys(42,"p"),Sa(43," The third type of EJBs are beans which are instantiated only once, throughout the application lifetime, and are known as "),Ys(44,"i"),Sa(45,"Singleton EJBs"),Ks(),Sa(46,". They are stateful and are generally used to share information or state across the entire application and furthermore its state is not handled elsewhere. Annotate the bean with "),Ys(47,"span",0),Sa(48,"@Singleton"),Ks(),Sa(49,". To force the bean to run on startup (i.e. eagerly) then use "),Ys(50,"span",0),Sa(51,"@Startup"),Ks(),Sa(52," annotation, otherwise it is instantiated lazily when it is needed (this is the default action).\n"),Ks(),Ys(53,"p"),Sa(54," Stateless and singleton EJBs have two lifecycle stages.\n"),Ks(),Ys(55,"ul"),Ys(56,"li"),Ys(57,"span",0),Sa(58,"@PostConstruct"),Ks(),Sa(59,' - annotates a void method which is invoked after an EJB is "created"'),Ks(),Ys(60,"li"),Ys(61,"span",0),Sa(62,"@PreDestroy"),Ks(),Sa(63," - annotates a void method that is invoked before an EJB is destroyed"),Ks(),Ks(),Ys(64,"p"),Sa(65," Stateful EJBs can apply the @PostConstruct and @PreDestroy annotation but also have:\n"),Ks(),Ys(66,"ul"),Ys(67,"li"),Ys(68,"span",0),Sa(69,"@PrePassivate"),Ks(),Sa(70," - invokes a void method before the bean is hibernated or put to sleep as it were"),Ks(),Ys(71,"li"),Ys(72,"span",0),Sa(73,"@PostActivate"),Ks(),Sa(74," - invokes a void method right after the bean is returned from its passivated state"),Ks(),Ks(),Ys(75,"p"),Sa(76," Jakarta EE also provides message driven beans. This is not covered here.\n"),Ks(),Ys(77,"h5"),Sa(78,"Transactions with the JPA"),Ks(),Ys(79,"p"),Sa(80," Transactions group operations such that the operations only persist data to a database if all operations in the same group succeeded. If one or more operations failed for whatever reason then all operations are nullified or cancelled. The transaction is characterised by four properties (an acronym of ACID):\n"),Ks(),Ys(81,"ul"),Ys(82,"li"),Sa(83,"Atomicity - the transaction is broken up into its smallest, simplest operations"),Ks(),Ys(84,"li"),Sa(85,"Consistency - the outcomes of the transaction following all atomic operations must be consistent with some expectation (requesting cash out of an ATM and then either receiving cash or no cash is consistent; receiving a bowl of fruit is not)"),Ks(),Ys(86,"li"),Sa(87,"Isolation - changes within an individual transaction are not globally visible to other transactions in the application until the transaction is successful"),Ks(),Ys(88,"li"),Sa(89,"Durability - changes resulting from a transaction endure or persists long after the transaction has completed"),Ks(),Ks(),Ys(90,"p"),Sa(91," There are two approaches to transaction management: bean management and container management, the latter of which is practised most widely and the default under the Java EE framework. Container management directs the application server to handle the transactions. Bean management requires the developer to manage transactions. "),Ks(),Ys(92,"p"),Sa(93," Since container managed transactions are the default, then all methods are by default transactional. To signal bean management, use the "),Ys(94,"span",0),Sa(95,"@TransactionManagement(TransactionManagementType.BEAN)"),Ks(),Sa(96," annotation for the given class or bean. This latter approach tends to go against the whole point of EJBs and is not discussed further here. The default would be "),Ys(97,"span",0),Sa(98,"@TransactionManagement(TransactionManagementType.CONTAINER)"),Ks(),Sa(99,".\n"),Ks(),Ys(100,"p"),Sa(101," One can fine tune container managed transaction operations (by annotating the methods within a container managed transactional bean) with "),Ys(102,"span",0),Sa(103,"@TransactionAttribute(TransactionAttributeType.OPTION)"),Ks(),Sa(104,', where OPTION = NEVER, OPTION = MANDATORY and OPTION = NOT_SUPPORTED, OPTION = REQUIRED amongst others. "Never" means never run this method as a transaction, "Mandatory" means that the method must be run in a transaction, "Not_supported" means this method does not support being run in a transaction (and an exception is raised if an attempt to do so occurs) and the default "Required" means a method should be invoked in a transaction (if there is no transaction, then one is created in the background). '),Ks()),2&e&&(Nr(25),$s("highlight",t.simpleEJB)("languages",t.lang))},directives:[Ig],styles:[".annot[_ngcontent-%COMP%]{color:#ff0}.commands[_ngcontent-%COMP%]{color:#008b8b;padding:2px}"]}),e})()},{path:"jakartaEntityManager",component:(()=>{class e{constructor(){this.lang=["java","xml"],this.persistenceXML='\n<persistence xmlns="http://xmlns.jcp.org/xml/ns/persistence"\n  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" version="2.2"\n  xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/persistence \n  http://xmlns.jcp.org/xml/ns/persistence/persistence_2_2.xsd">\n\n  \x3c!-- Define persistence unit below --\x3e\n  <persistence-unit name="my-persistence-unit">\n  </persistence-unit>\n\n</persistence>',this.entityManagerClass='\n  public class AppProducers{\n\n    // use @PersistenceContext(unitName = "my-persistence-unit") \n    // if there are >1 units\n\n    // Recall, the EntityManager is assumed as CDI managed bean with \n    // @Produces and allows EntityManager instances to be injected\n\n    @Produces\n    @PersistenceContext\n    EntityManager entityManager;\n\n  }',this.CRUD_entityManager="\n@Stateless\npublic class PersistenceService {\n\n    @Inject\n    EntityManager entityManager;\n\n    // use the QueryService methods instead of redefining them here\n    @Inject\n    QueryService queryService;\n\n    public void saveDepartment(Department department) {\n        entityManager.persist(department);\n    }\n\n    public void removeParkingSpace(Long employeeId) {\n        Employee employee = queryService.findEmployeeById(employeeId);\n        ParkingSpace parkingSpace = employee.getParkingSpace();\n\n        // update employee before removing (one-to-one mapping in place)\n        employee.setParkingSpace(null);\n\n        entityManager.remove(parkingSpace);\n    }\n\n    public void saveEmployee(Employee employee, ParkingSpace parkingSpace) {\n        employee.setParkingSpace(parkingSpace);\n\n        // this will also persist the ParkingSpace entity (explained below)\n        entityManager.persist(employee);\n    }\n\n    public void updateDepartment(Department department) {\n        entityManager.merge(department);\n    }\n}",this.queryServiceClass="\n@Stateless\npublic class QueryService {\n\n    @Inject\n    EntityManager entityManager;\n\n    @PostConstruct\n    private void init() {\n    }\n\n    @PreDestroy\n    private void destroy() {\n    }\n\n    public List<Department> getAllDepartments() {\n        return entityManager.createNamedQuery(\n          Department.GET_DEPARTMENT_LIST, Department.class).getResultList();\n    }\n\n    public List<String> getAllDepartmentNames() {\n        return entityManager.createNamedQuery(\n          Department.GET_DEPARTMENT_NAMES, String.class).getResultList();\n    }\n\n    public List<ParkingSpace> getAllAllocatedParkingSpaces() {\n        return entityManager.createNamedQuery(\n          Employee.GET_ALL_PARKING_SPACES, ParkingSpace.class).getResultList();\n    }\n\n    public Collection<Object[]> getEmployeeProjection() {\n        return entityManager.createNamedQuery(\n          Employee.EMPLOYEE_PROJECTION, Object[].class).getResultList();\n    }\n\n    public List<EmployeeDetails> getEmployeeDetails() {\n        return entityManager.createNamedQuery(\n          Employee.EMPLOYEE_CONSTRUCTOR_PROJ, EmployeeDetails.class).getResultList();\n    }\n\n    public Department findDepartmentById(Long id) {\n        return entityManager.find(Department.class, id);\n    }\n\n    public Employee findEmployeeById(Long id) {\n        return entityManager.find(Employee.class, id);\n    }\n}",this.cascadingOps='\npublic class Employee extends AbstractEntity {\n\n  // other fields and methods\n\n  @OneToOne(\n    mappedBy = "employee", \n    fetch = FetchType.LAZY, \n    cascade = CascadeType.PERSIST)\n  private ParkingSpace parkingSpace;\n\n}',this.persistenceXMLoptions='\n<persistence xmlns="http://xmlns.jcp.org/xml/ns/persistence"\n  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" version="2.2"\n  xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/persistence \n  http://xmlns.jcp.org/xml/ns/persistence/persistence_2_2.xsd">\n\n  \x3c!-- Define persistence unit below --\x3e\n  <persistence-unit name="my-persistence-unit" transaction-type="JTA">\n\n    <provider>\n      \x3c!-- Override the default application server JPA provider --\x3e\n    </provider>\n\n    <jta-data-source>\n      java:app/pathTo/theDB\n    </jta-data-source>\n\n    <exclude-unlisted-classes>false</exclude-unlisted-classes>\n\n    <properties>\n      \x3c!-- Set the application deployment properties --\x3e\n\n      <property name="javax.persistence.schema-generation.database.action" \n        value="drop-and-create" />\n\n      \x3c!-- Handle scripts (if value="drop" then the create-target is not expected etc.) --\x3e\n      <property name="javax.persistence.schema-generation.scripts.action"\n        value="drop-and-create"/>\n\n      <property name="javax.persistence.schema-generation.scripts.drop-target"\n        value="file:///c:/scripts/dropped.ddl"/>\n\n      <property name="javax.persistence.schema-generation.scripts.create-target"\n        value="file:///c:/scripts/created.ddl"/>\n\n    </properties>\n\n  </persistence-unit>\n\n</persistence>',this.datasourceAnnot='\n@DataSourceDefinition(\n  name = "java:app/pathTo/theDB",\n  className = "org.apache.derby.jdbc.ClientDriver",\n  url = "jdbc:derby://localhost:1976/theDB",\n  user = "usernameHere",\n  password = "pwd")\n@Stateless\npublic class SomeService {\n\n  @Inject\n  EntityManager entityManager;\n\n  // other methods and fields\n\n}',this.datasourceXML="\n<web-app ...>\n\n    <data-source>\n        <name>java:app/pathTo/theDB</name>\n        <class-name>org.apache.derby.jdbc.ClientDriver</class-name>\n        <url>jdbc:derby://localhost:1976/theDB</url>\n        <user>usernameHere</user>\n        <password>pwd</password>\n    </data-source>\n\n</web-app>\n    "}ngOnInit(){}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-jakarta-entitymanager"]],decls:117,vars:18,consts:[[3,"highlight","languages","highlighted"],[1,"annot"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"The persistence context and entity manager"),Ks(),Ys(2,"p"),Ys(3,"i"),Sa(4,"Persistence units"),Ks(),Sa(5,' are XML file configurations which group persistence entity classes as discrete units. The file "persistence.xml" is stored in /resources/META_INF. Within each persistence unit are settings, for example, data sources and transaction types.\n'),Ks(),Ys(6,"pre"),Sa(7,"    "),Ys(8,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(9,"\n"),Ks(),Ys(10,"p"),Sa(11," A "),Ys(12,"i"),Sa(13,"persistence context"),Ks(),Sa(14," is a pool of managed entities (entities managed by the Entity Manager; more shortly). One can think of the persistence context as scratch space or a cache between the model layer and the viewer layer of an MVC framework. All classes that fall under a given persistence unit are managed in their own persistence context by the entity manager. Most of the time, the persistence context is hidden from the application and developer.\n"),Ks(),Ys(15,"p"),Sa(16," The "),Ys(17,"i"),Sa(18,"entity manager"),Ks(),Sa(19," operates on persistence contexts, of which there can be many. The entity manager itself, like all Java beans, is declared in its own class. If there are more than one persistence units available then it will be necessary to link the entity manager instance with the required persistence unit. If there is only one persistence unit then the CDI will link the entity manager instance automatically. "),Ks(),Ys(20,"pre"),Sa(21,"    "),Ys(22,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(23,"\n"),Ks(),Ys(24,"p"),Sa(25," The application container handles the lifetime of the entity manager. One then injects the entity manager into a class where the instance is required, without worrying about its lifecycle.\n"),Ks(),Ys(26,"p"),Sa(27," An CRUD-style example of a service example is given below (this example will not compile at present as there are other required annotations missing). The injected QueryService bean is also defined below. "),Ks(),Ys(28,"pre"),Sa(29,"    "),Ys(30,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(31,"\n"),Ks(),Ys(32,"p"),Sa(33," When a new transaction begins, a persistence context is initialised. Changes to the database entities are not made to the database entries (rows) directly but are instead made to entities pulled (using find()) from the database to the persistence context. Once the transaction is committed, any entities in the persistence context are sent back to the database that have matching IDs, thus saving any changes. The transaction is then no longer in action and the persistence context is flushed.\n"),Ks(),Ys(34,"p"),Sa(35," The key EntityManager methods to note are persist(), find(), detach(), merge() and remove().\n"),Ks(),Ys(36,"ul"),Ys(37,"li"),Sa(38,"persist() - save the new entity (not already in the persistence context) to a given persistence context (and ultimately the database)"),Ks(),Ys(39,"li"),Sa(40,"find() - find the entity on, usually by primary key, from the persistence context or the provider (more below)"),Ks(),Ys(41,"li"),Sa(42,"detach() - remove the entity from the persistence context (usually sent to the viewer layer, e.g. JSF); this does not remove the entity from the database"),Ks(),Ys(43,"li"),Sa(44,"merge() - the opposite of detach(), placing the object into the persistence context; this is also used to update entities once the transaction is committed"),Ks(),Ys(45,"li"),Sa(46,"remove() - remove the entity from the persistence context and database"),Ks(),Ks(),Ys(47,"p"),Sa(48," Recall that the entity manager operates on the persistence context. A few comments are in order.\n"),Ks(),Ys(49,"ul"),Ys(50,"li"),Sa(51,"An exception is thrown when persist() is performed on an entity that already exists in the database"),Ks(),Ys(52,"li"),Sa(53,"The method find() first queries the persistence context and if the entity cannot be found it then queries the provider's database, and places anything found in to the persistence context"),Ks(),Ys(54,"li"),Sa(55,"Detached entities are no longer part of the persistence context. Changes to the detached entity are not automatically applied to the corresponding entity on the database."),Ks(),Ys(56,"li"),Sa(57,"If the entity was found (using find()) on the persistence layer then it automatically becomes detached. Fields of an entity that are set to be loaded lazily can only be retrieved from the database while the entity resides in the persistence context. Hence, lazily loaded fields must be retrieved (if required later) before the entity is detached, either through detach() or find(). Any getter related to a lazily defined field (that has not already been accessed) that is executed on a detached entity will return undefined behaviour. To get around this, first extract the field data before detachment."),Ks(),Ks(),Ys(58,"p"),Sa(59," When the transaction is committed, all entities in the persistence context will be transferred to the database. Subsequent calls to a operation will trigger a new transaction and a new persistence context.\n"),Ks(),Ys(60,"pre"),Sa(61,"    "),Ys(62,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(63,"\n"),Ks(),Ys(64,"p"),Sa(65," Related entities can be made to persist automatically when the owning entity is persisted. For example, when an employee entity is saved (or furthermore, merged, detached, refreshed or removed), so too would their ParkingSpace entities. This automated form of operations is a referred to as "),Ys(66,"i"),Sa(67,"cascading"),Ks(),Sa(68,". "),Ks(),Ys(69,"pre"),Sa(70,"    "),Ys(71,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(72,"\n"),Ks(),Ys(73,"p"),Sa(74," In the above case, whenever an Employee entity is persisted, then its ParkingSpace entity is also persisted.\n"),Ks(),Ys(75,"h5"),Sa(76,"Configuring the persistence unit"),Ks(),Ys(77,"p"),Sa(78," The XML to the persistence unit can be configured to runtime properties according to the requirements. Normally there is only one unit in a given XMl configuration (persistence.xml).\n"),Ks(),Ys(79,"p"),Sa(80,' The name (in this case, "my-persistence-unit") is the unique identifier of the persistence unit.\n'),Ks(),Ys(81,"pre"),Sa(82,"    "),Ys(83,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(84,"\n"),Ks(),Ys(85,"p"),Sa(86," The transaction type defines the type of transaction used by the entity manager. The JTA is the Java Transactions API and is the default (and most commonly applied). This then directs the container to handle the transactions in the background and is generally recommended overall. (To manually handle transactions, use RESOURCE_LOCAL.)\n"),Ks(),Ys(87,"p"),Sa(88," To set the persistence provider, use the provider tags. Different application servers apply their own default provider and so if the provider tag is absent, then the default set by the application server is assumed. Payara server ships with EclipseLink, for example.\n"),Ks(),Ys(89,"pre"),Sa(90,"    "),Ys(91,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(92,"\n"),Ks(),Ys(93,"p"),Sa(94," The JTA datasource tag (optional) defines the configuration (usernames, passwords etc.) need to allow the application server to connect to the database. The datasource itself can take the form of an annotation "),Ys(95,"span",1),Sa(96,"@DataSourceDefinition()"),Ks(),Sa(97,' and list the required settings for a class which requires access to the database. The name given in the "jta-data-source" tag references the name attribute of the '),Ys(98,"span",1),Sa(99,"@DataSourceDefinition()"),Ks(),Sa(100," annotation.\n"),Ks(),Ys(101,"pre"),Sa(102,"    "),Ys(103,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(104,"\n"),Ks(),Ys(105,"p"),Sa(106," The datasource can also be set more globally (and arguably more concisely) in the web.xml file (usually located in the same directory as beans.xml: /main/webapp/WEB_INF/).\n"),Ks(),Ys(107,"pre"),Sa(108,"    "),Ys(109,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(110,"\n"),Ks(),Ys(111,"p"),Sa(112,' To define non-JTA datasources, use "non-jta-data-source" tag instead of "jta-data-source". Post Java EE 7, if both JTA and non-JTA tags are omitted from the XML configuration then the application will use an in-memory database.\n'),Ks(),Ys(113,"p"),Sa(114,' Classes not marked as JPA classes (i.e. not JPA annotated) are not scanned or included in the given persistence unit if the "exclude-unlisted-classes" tag is set to true. If the tag is set to false, then all classes (regardless if annotated as JPA classes or not) are scanned and included.\n'),Ks(),Ys(115,"p"),Sa(116,' Finally, deployment properties are given by the "properties" tag. A commonly set property relates to schema generation (given above) handled by the JPA provider. The other schema generation options are "none" (the default, equivalent to having no "property" tag), "create" and "drop". Scripts can also be managed with the scripts property. A dropped script and a new script (both optional) can be applied.\n'),Ks()),2&e&&(Nr(8),$s("highlight",t.persistenceXML)("languages",t.lang),Nr(14),$s("highlight",t.entityManagerClass)("languages",t.lang),Nr(8),$s("highlight",t.CRUD_entityManager)("languages",t.lang),Nr(32),$s("highlight",t.queryServiceClass)("languages",t.lang),Nr(9),$s("highlight",t.cascadingOps)("languages",t.lang),Nr(12),$s("highlight",t.persistenceXML)("languages",t.lang),Nr(8),$s("highlight",t.persistenceXMLoptions)("languages",t.lang),Nr(12),$s("highlight",t.datasourceAnnot)("languages",t.lang),Nr(6),$s("highlight",t.datasourceXML)("languages",t.lang))},directives:[Ig],styles:[".annot[_ngcontent-%COMP%]{color:#ff0}.commands[_ngcontent-%COMP%]{color:#008b8b;padding:2px}"]}),e})()},{path:"jakartaJPQL",component:(()=>{class e{constructor(){this.lang=["java","xml"],this.jpqlExpression='\n  @NamedQuery(name = SomeClass.GET_ITEM_LIST, query = "select d from SomeClass d")\n  @NamedQuery(name = SomeClass.GET_NAME, query = "select d.className from SomeClass d")\n  @Access(AccessType.FIELD)\n  public class SomeClass {\n\n    public static final String GET_ITEM_LIST = "SomeClass.getList";\n    public static final String GET_NAME = "SomeClass.getName";\n\n    // this annotation is part of the Bean Validation API, discussed later\n    @NotEmpty(message = "This must be set to something")\n    private String className;\n\n    // other fields and methods, and no-args constructor\n\n  }\n\n  // somewhere-else\n\n  public class SomeServiceClass {\n\n    @Inject\n    EntityManager entityManager;\n\n    // other methods\n\n    public List<SomeClass> getAllEntities() {\n      // this initially builds a TypedQuery<> and then its results list\n      return entityManager\n        .createNamedQuery(SomeClass.GET_ITEM_LIST, SomeClass.class)\n        .getResultList();\n    }\n  }',this.jpqlExpressionObject='\n  @NamedQuery(name = SomeClass.GET_ITEM_LIST, query = "select d from SomeClass d")\n  @NamedQuery(name = SomeClass.GET_NAME, query = "select d.className from SomeClass d")\n  @NamedQuery(name = SomeClass.GET_OBJ_name, \n    query = "select d.customObject.name from SomeClass d")\n  @Access(AccessType.FIELD)\n  public class SomeClass {\n\n    public static final String GET_ITEM_LIST = "SomeClass.getList";\n    public static final String GET_NAME = "SomeClass.getName";\n    public static final String GET_OBJ_name = "SomeClass.getObjName";\n\n    // this annotation is part of the Bean Validation API, discussed later\n    @NotEmpty(message = "This must be set to something")\n    private String className;\n\n    // here customObject has its own field, "name" of type String\n    @OneToOne\n    private CustomObject customObject;\n\n    // other fields and methods, and no-args constructor\n\n  }\n  \n  // somewhere-else\n\n  public class SomeServiceClass {\n\n    @Inject\n    EntityManager entityManager;\n\n    // other methods\n\n    public List<SomeClass> getAllEntities() {\n      return entityManager\n        .createNamedQuery(SomeClass.GET_ITEM_LIST, SomeClass.class)\n        .getResultList();\n    }\n\n    public List<String> getAllClassNames() {\n      return entityManager\n        .createNamedQuery(SomeClass.GET_NAME, String.class)\n        .getResultList();\n    }\n\n    public List<String> getAllObjectName() {\n      return entityManager\n        .createNamedQuery(SomeClass.GET_OBJ_name, String.class)\n        .getResultList();\n    }\n  }',this.jpqlCollection="\n  public Collection<Object[]> getMixedFields() {\n    return entityManager.createNamedQuery(SomeClass.IDENTIFIER, Object[].class).getResultList();\n  }",this.dtoConstructorExpression='\n  // essentially, pass d fields to a new POJO entity\n  @NamedQuery(name = "DTO", \n    query = "select new packagePath.POJO(d.field1, d.field2, d.field3) from SomeClass d")\n  @Access(AccessType.FIELD)\n  public class SomeClass {\n\n    // fields and methods\n\n  }\n\n  // in a different package\n\n  public class POJO {\n    private String field1;\n    private String field2;\n    private Object field3;\n\n    // all-args constructor, no-args constructor, setters and getters\n  }',this.jpqlCollection2='\n  public List<POJO> getPOJO() {\n    return entityManager.createNamedQuery("DTO", POJO.class).getResultList();\n  }',this.joinFrom='\n  @NamedQuery(name  = "", query = "select cl from Variable v join v.classes cl")\n  // using the property "v.mapField", return entities from \n  // the map, maps, which have matching properties\n  // to "v.mapfield" based on the value; then list their key and value\n  @NamedQuery(\n    name = "mapsQuery",\n    query = "select v.mapField, KEY(m), VALUE(m) from Variable v join v.maps m")\n  public Class Variable {\n\n    @OneToMany(cascade = {CascadeType.PERSIST, CascadeType.REMOVE})\n    private Set<SomeOtherClass> classes = new HashSet<>();\n\n    @ElementCollection\n    @MapKeyEnumerated(EnumType.STRING)\n    private Map<SomeObject, String> maps = new HashMap<>();\n  }',this.joinFetch='\n  @NamedQuery(\n    name = "joinFetchDemo",\n    query = "select e from SomeClass e join fetch e.classes")\n  public Class Variable {\n\n    @OneToMany(cascade = {CascadeType.PERSIST, CascadeType.REMOVE})\n    private Set<SomeOtherClass> classes = new HashSet<>();\n  }',this.paramWhere='\n  public Collection<Objects> getAllObjects(Integer firstParam) {\n    return entityManager.createNamedQuery("queryName", Objects.class)\n      .setParameter("value", firstParam).getResultList();\n  }',this.betweenAnd='\n  public Collection<Objects> getAllObjects(Integer firstParam, Integer secondParam) {\n    // the order of the parameters matters not\n    return entityManager.createNamedQuery("queryName", Objects.class)\n      .setParameter("lowerLimit", firstParam)\n      .setParameter("upperLimit", secondParam)\n      .getResultList();\n  }',this.createQuery='\n  public Collection<Objects> filterByName(String pattern) {\n    return entityManager\n      .createQuery("select e from SomeClass e where e.name LIKE :filter", SomeClass.class)\n      .setParameter("filter", pattern).getResultList();\n  }',this.createSubQuery='\n  public Objects filterByQuantity() {\n    // max() is JQPL function (more later)\n    return entityManager\n      .createQuery(\n        "select e from SomeClass e where e.quantity = (select max(an.someQuantity) from AnotherClass an)",\n      SomeClass.class).getSingleList();\n  }',this.whereIn="\n  public Collection<Objects> filterObjectByState() {\n    return entityManager\n      .createQuery(\"select e from SomeClass e where e.object.state in ('open', 'closed')\", SomeClass.class)\n      .getResultList();\n  }",this.notEmpty='\n  public Collection<Objects> filterObjectByState() {\n    // list all SomeClass entities which have a collection field "object" that is not empty\n    return entityManager\n      .createQuery("select e from SomeClass e where e.someCollection not empty", SomeClass.class)\n      .getResultList();\n  }',this.memberOf='\n  public Collection<Objects> filterByName(SomeObject member) {\n    return entityManager\n      .createQuery("select e from SomeClass e where :check member of e.someCollection", SomeClass.class)\n      .setParameter("check", member).getResultList();\n  }',this.andAll='\n  public Collection<Objects> getAll() {\n    // get all SomeClass entities with a non-empty someCollection collection and \n    // whose "quantity" property is less than all "quantity" properties of someCollection\n    // entities (the subquery returns a list of quantities from someCollection entities)\n    String query = "select e from SomeClass e where e.someCollection not empty " + \n      "and e.quantity < all (select s.quantity from e.someCollection s)";\n\n    return entityManager\n      .createQuery(query, SomeClass.class)\n      .getResultList();\n  }',this.orderBy='\n  public Collection<Objects> sortByName(SomeObject member) {\n    String query_asc = "select e from SomeClass e where :check member of " + \n      "e.someCollection order by e.someField.someName";\n\n    return entityManager\n      .createQuery(query_asc, SomeClass.class)\n      .setParameter("check", member).getResultList();\n  }\n  \n  public Collection<Objects> sortByName_AdjustedDesc() {\n    // here the parameter (column) e.someValue + 20 is given the alias "adjusted";\n    // the returned list is sorted by "adjusted"\n    String query_desc = "select e, e.someValue + 20 as adjusted from SomeClass e" + \n      " order by adjusted desc";\n\n    return entityManager\n      .createQuery(query_desc, SomeClass.class)\n      .getResultList();\n  }',this.having='\n  public Collection<Object[]> getAllAbove(Integer minThreshold) {\n    // this concerns entities which have a collection, "collection"\n    // that itself has its own entities each with a "value" field;\n    // this then returns an entity that has an average above minThreshold\n    String query = "select d.name, avg(e.someValue) from SomeClass d " +\n    "join d.collection e where e.anotherCollection is empty " +\n    "group by d.name having avg(e.someValue) > :threshold";\n\n    return entityManager\n      .createQuery(query, Object[].class)\n      .setParameter("threshold", minThreshold).getResultList();\n  }',this.criteriaAPI='\n  public Collection<SomeObject> queryMethod() {\n\n    CriteriaBuilder builder = entityManager.getCriteriaBuilder();\n    CriteriaQuery<SomeObject> cq = builder.createQuery(SomeObject.class);\n    Root<SomeObject> root = cq.from(SomeObject.class);\n\n    // equivalent to "select e from SomeObject e where e.name = \'findThisString\'\n    \n    CriteriaQuery<SomeObject> query = cq\n      .select(root)\n      .where(builder.equal(root.get("name"), "findThisString"));\n\n    return entityManager.createQuery(query).getResultList;\n  }'}ngOnInit(){}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-jakarta-jpql"]],decls:237,vars:36,consts:[[1,"annot"],[1,"commands"],[3,"highlight","languages","highlighted"],["href","https://openjpa.apache.org/builds/1.2.3/apache-openjpa/docs/jpa_langref.html#jpa_langref_like","target","_blank"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"The Java Persistence Query Language JPQL"),Ks(),Ys(2,"p"),Sa(3," The JPQL is an API for a Java String based language which resembles much of SQL. JPQL queries on objects/entities in contrast to SQL which queries tables. JPQL can be applied to different SQL vendors. Since the types are defined (or implied) in the String literals, the compiler cannot check for type mismatches. In other words, JPQL is not typesafe. An alternative to JPQL is the Criteria API, which is typesafe but generally more verbose than JPQL.\n"),Ks(),Ys(4,"h5"),Sa(5,"Named and Dynamic queries of mandatory expressions"),Ks(),Ys(6,"p"),Sa(7," A "),Ys(8,"span",0),Sa(9,'@NamedQuery(name = "someName", query = "JPQL_expression")'),Ks(),Sa(10," annotation can be used to define the expression and are compiled with the entity class. They are immutable. The name of the particular query is identified by the name property and query expression is given by the query property. A simple example would be "),Ys(11,"span",0),Sa(12,'@NamedQuery(name = "", query = "select d from ClassName d")'),Ks(),Sa(13,". The "),Ys(14,"span",1),Sa(15,"select"),Ks(),Sa(16," and "),Ys(17,"span",1),Sa(18,"from"),Ks(),Sa(19,' keywords are mandatory for all JPQL expressions. The mandatory token "d" is an alias to the ClassName entity, so "select d" (without a WHERE clause) attempts to select and return a list of objects as a whole. All eagerly fetched fields associated with the object will also be retrieved and made available.\n'),Ks(),Ys(20,"p"),Sa(21," JPA 2.2 allows for multiple annotations, as long as the name properties are different. The name property can optionally be substituted with static fields (public static final String fields of the entity class). Legacy code will use "),Ys(22,"span",0),Sa(23,"@NamedQueries()"),Ks(),Sa(24,".\n"),Ks(),Ys(25,"p"),Sa(26," When data is returned from the database following a JPQL query, the default constructor and annotated fields are used to build the instance. This is why a default, no-arguments constructor is required with all JPA entity classes.\n"),Ks(),Ys(27,"p"),Sa(28," With the query written, the output is passed to the Entity manager. This is an example of a "),Ys(29,"i"),Sa(30,"named query"),Ks(),Sa(31," because the query has a unique name.\n"),Ks(),Ys(32,"pre"),Sa(33,"    "),Ys(34,"code",2),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(35,"\n"),Ks(),Ys(36,"p"),Sa(37," To access a particular field of the entity (of the defined type), use the path expression: "),Ys(38,"span",0),Sa(39,'@NamedQuery(name = SomeClass.GET_NAME, query = "select d.className from SomeClass d")'),Ks(),Sa(40,". In this case, the return type is String.\n"),Ks(),Ys(41,"p"),Sa(42," To retrieve entities which are not simple Java types (custom Beans) is also performed similarly. The type is effectively cast as appropriate. Furthermore, one could retrieve the field within the entity e.g. "),Ys(43,"span",0),Sa(44,'@NamedQuery(name = SomeClass.GET_OBJ_name, query = "select d.customObject.name from SomeClass d")'),Ks(),Sa(45,", where customObject is a separate entity that has a relationship with SomeClass entities. The custom class' fields can be lazily loaded.\n"),Ks(),Ys(46,"pre"),Sa(47,"    "),Ys(48,"code",2),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(49,"\n"),Ks(),Ys(50,"p"),Sa(51," Note here that the query is made from the point of view of SomeClass, not CustomObject. It is also possible to extract multiple fields from a custom entity by separating the reqeusted fields with commas. For example, "),Ys(52,"span",0),Sa(53,'@NamedQuery(name = SomeClass.GET_OBJ_name, query = "select d.customObject.name, d.customObject.date from SomeClass d")'),Ks(),Sa(54,". The return type in this case is "),Ys(55,"span",1),Sa(56,"Collection<Object[]>"),Ks(),Sa(57,", where each field (of the same type) is stored in its own Collection element. This also introduces "),Ys(58,"i"),Sa(59,"dynamic queries"),Ks(),Sa(60," which, in contrast to named queries, are not initially identified by a name. They can be called by function. The entity manager call would be:\n"),Ks(),Ys(61,"pre"),Sa(62,"    "),Ys(63,"code",2),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(64,"\n"),Ks(),Ys(65,"p"),Sa(66," An alternative to combined path expressions are constructor expressions. This is implemented first by preparing for a new POJO which contains the fields that are needed. View it as a data-transfer object, DTO. The return type is then the POJO with "),Ys(67,"span",0),Sa(68,'@NamedQuery(name = "DTO", query = "select new packagePath.POJO(d.field1, d.field2, d.field3) from ClassName d")'),Ks(),Sa(69," declared in the original (non-DTO) class. "),Ks(),Ys(70,"pre"),Sa(71,"    "),Ys(72,"code",2),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(73,"\n"),Ks(),Ys(74,"p"),Sa(75," In this case, the all-args constructor of POJO is used as the return to the query.\n"),Ks(),Ys(76,"pre"),Sa(77,"    "),Ys(78,"code",2),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(79,"\n"),Ks(),Ys(80,"p"),Sa(81," More on the "),Ys(82,"span",1),Sa(83,"from EntityClass alias"),Ks(),Sa(84," clause. The EntityClass, as shown, must be a JPA entity. The alias must be unique across the given expression. To extract from an entity referenced in the queried class (a collection) through a join expression use the following. "),Ks(),Ys(85,"pre"),Sa(86,"    "),Ys(87,"code",2),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(88,"\n"),Ks(),Ys(89,"p"),Sa(90,' Optionally, one can prefix the collection alias with the "distinct" keyword to, like SQL, retrieve unique records.\n'),Ks(),Ys(91,"p"),Sa(92," Querying Java Maps. By default, queries compare the value of the map, not the key (demonstrated above). "),Ks(),Ys(93,"p"),Sa(94,' When an entity has been detached from the persistence context (when sent to the viewer layer for example) any lazily loaded fields not already loaded are inaccessible. The normal workaround is to set the field as eagerly loaded or to use the JPQL "fetch join" expression. The latter can be applied even when the entity is in a detached state. Note that this feature only relates to JPQL "join fetch" expression and not other routine Java getters. The field remains lazily loaded. This is demonstrated next.\n'),Ks(),Ys(95,"pre"),Sa(96,"    "),Ys(97,"code",2),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(98,"\n"),Ks(),Ys(99,"h5"),Sa(100,"The optional expressions"),Ks(),Ys(101,"p"),Sa(102,' The "where" expression is an example of an optional clause or expression. As with SQL, the "where" clause filters the data returned. The expression is added after the from or (if present) the join expression. Some typical examples are listed.\n'),Ks(),Ys(103,"ul"),Ys(104,"li"),Ys(105,"span",1),Sa(106," where alias.property > 155"),Ks(),Sa(107,": constant parameter"),Ks(),Ys(108,"li"),Ys(109,"span",1),Sa(110,"where alias.property > ?1"),Ks(),Sa(111,": via a positional parameter, in this case position 1 (one-based) of a parameter list in a method call (below; this approach is quite rare)"),Ks(),Ys(112,"li"),Ys(113,"span",1),Sa(114,"where alias.property > :value"),Ks(),Sa(115,': via a named parameter, where "value" is defined in the method parameter list (this approach is preferred and in many cases can minimise the number of SQL injection attacks)'),Ks(),Ks(),Ys(116,"p"),Sa(117," The latter two expressions can be accomplished by the same method:\n"),Ks(),Ys(118,"pre"),Sa(119,"    "),Ys(120,"code",2),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(121,"\n"),Ks(),Ys(122,"p"),Sa(123,' Similarly, the "between" and "and" expression can be used to set a range of values: '),Ys(124,"span",1),Sa(125,"where alias.property between :lowerLimit and :upperLimit"),Ks(),Sa(126,". The EntityManager call would be:\n"),Ks(),Ys(127,"pre"),Sa(128,"    "),Ys(129,"code",2),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(130,"\n"),Ks(),Ys(131,"p"),Sa(132,' To compare string patterns, with wildcards, use the "like" clause. This example also shows an alternative way of defining and executing queries without using annotations. More specifics re. patterns are given '),Ys(133,"a",3),Sa(134,"here"),Ks(),Sa(135,".\n"),Ks(),Ys(136,"pre"),Sa(137,"    "),Ys(138,"code",2),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(139,"\n"),Ks(),Ys(140,"p"),Sa(141," One can also perform queries within queries, that is, subqueries. More deeply nested subqueries can also be designed though are not generally recommended. This particular example also shows how one record (again, from a TypedQuery<>) is returned, as opposed to a Collection, using "),Ys(142,"span",1),Sa(143,"getSingleResult()"),Ks(),Sa(144,".\n"),Ks(),Ys(145,"pre"),Sa(146,"    "),Ys(147,"code",2),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(148,"\n"),Ks(),Ys(149,"p"),Sa(150," Note that the method "),Ys(151,"span",1),Sa(152,"getSingleResult()"),Ks(),Sa(153," is expecting a single entity. If no entity is found or more than one entity is found, then an exception (NoResultException or NoUniqueResultException) will be thrown. Therefore, this approach should only be applied when it is known that there is only one unique result.\n"),Ks(),Ys(154,"p"),Sa(155,' To ascertain if a single entity can be found in a given collection, use the "where" and "in" expressions. The following returns a list of SomeClass entities which have an "object" field set to (assume String) "open" or "closed". '),Ks(),Ys(156,"pre"),Sa(157,"    "),Ys(158,"code",2),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(159,"\n"),Ks(),Ys(160,"p"),Sa(161,' A subquery can be placed immediately after a "in" clause (instead of the literal form above). To negate "in", that is to check an entity is not present is given by "not in" instead of "in".\n'),Ks(),Ys(162,"p"),Sa(163,' The Collection operators, "IS EMPTY" and "IS NOT EMPTY" operate on an entity\'s collection. These operations can be used to list entities which have collections as fields that are empty or not empty. These operations allow one to list such entities.\n'),Ks(),Ys(164,"pre"),Sa(165,"    "),Ys(166,"code",2),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(167,"\n"),Ks(),Ys(168,"p"),Sa(169,' The "MEMBER OF" operator can be used to return entities where some object, passed as a parameter, is stored in one of the entity\'s collection field. See the following.\n'),Ks(),Ys(170,"pre"),Sa(171,"    "),Ys(172,"code",2),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(173,"\n"),Ks(),Ys(174,"p"),Sa(175,' The "AND" and "ALL" operators provide more functionality to the above expressions. The "AND" operator joins boolean conditions. The "ALL" operator compares all records that proceed it in the expression.\n'),Ks(),Ys(176,"pre"),Sa(177,"    "),Ys(178,"code",2),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(179,"\n"),Ks(),Ys(180,"p"),Sa(181,' The "ANY" operator can be used in place of the "ALL" operator but unlike the "ALL" operator, it will only check for one (whichever is first returned in the subquery). The "SOME" operator is identical to "ANY" and is essentially an alias to "ANY".\n'),Ks(),Ys(182,"p"),Sa(183,' The returned entities can be sorted using "ORDER BY". By default sorting method is ascending ("asc"). To override the default to set to descending, use "desc". To use more custom columns with aliases, use the "as" expression along with "order by"\n'),Ks(),Ys(184,"pre"),Sa(185,"    "),Ys(186,"code",2),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(187,"\n"),Ks(),Ys(188,"h5"),Sa(189,"JPQL aggregate functions"),Ks(),Ys(190,"p"),Sa(191," Aggregate functions are database optimised functions which perform grouped tasks.\n"),Ks(),Ys(192,"p"),Sa(193," The "),Ys(194,"span",1),Sa(195,"sum()"),Ks(),Sa(196," function sums a set of data. The Entity Manager query String would be something like "),Ys(197,"span",1),Sa(198,"select d.name, sum(e.value) from SomeClass d join d.collection e group by d.name"),Ks(),Sa(199,', where "collection" is a (Collection type) field of SomeClass. This return a list of the name and the sum of the "collection" entities\' "value" field, and sorts them in ascending order by name. '),Ks(),Ys(200,"p"),Sa(201," The "),Ys(202,"span",1),Sa(203,"avg()"),Ks(),Sa(204," and "),Ys(205,"span",1),Sa(206,"count()"),Ks(),Sa(207," functions return the averaged result and number of rows (records), respectively. Both can be applied in a similar way to "),Ys(208,"span",1),Sa(209,"sum()"),Ks(),Sa(210,".\n"),Ks(),Ys(211,"p"),Sa(212," The "),Ys(213,"span",1),Sa(214,"max()"),Ks(),Sa(215," and "),Ys(216,"span",1),Sa(217,"min()"),Ks(),Sa(218," functions return the largest and smallest values of a given field, respectively. Both can be applied as already outlined.\n"),Ks(),Ys(219,"p"),Sa(220,' The final aggregate function discussed here is the "having" expression. This (like "group by") is used in conjunction with an aggregate function and filters returns based on the output of an aggregate function. '),Ks(),Ys(221,"pre"),Sa(222,"    "),Ys(223,"code",2),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(224,"\n"),Ks(),Ys(225,"p"),Sa(226," For the above snippet, recall that since the return type contains more than one field (a name and a computed average), the entity is returned as a collection of two Object arrays, one holding all name attributes and the other holding all computed averages. (A DTO could be applied instead if desired.)\n"),Ks(),Ys(227,"h5"),Sa(228,"An example of the Criteria API"),Ks(),Ys(229,"p"),Sa(230," As already mentioned, JPQL is not typesafe (checks cannot be performed at runtime on types defined in String literals) whereas Criteria API is typesafe. The following is a simple example which applied the Criteria API.\n"),Ks(),Ys(231,"pre"),Sa(232,"    "),Ys(233,"code",2),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(234,"\n"),Ks(),Ys(235,"p"),Sa(236," Clearly, the Criteria API can be checked for type safety but can get quite verbose.\n"),Ks()),2&e&&(Nr(34),$s("highlight",t.jpqlExpression)("languages",t.lang),Nr(14),$s("highlight",t.jpqlExpressionObject)("languages",t.lang),Nr(15),$s("highlight",t.jpqlCollection)("languages",t.lang),Nr(9),$s("highlight",t.dtoConstructorExpression)("languages",t.lang),Nr(6),$s("highlight",t.jpqlCollection2)("languages",t.lang),Nr(9),$s("highlight",t.joinFrom)("languages",t.lang),Nr(10),$s("highlight",t.joinFetch)("languages",t.lang),Nr(23),$s("highlight",t.paramWhere)("languages",t.lang),Nr(9),$s("highlight",t.betweenAnd)("languages",t.lang),Nr(9),$s("highlight",t.createQuery)("languages",t.lang),Nr(9),$s("highlight",t.createSubQuery)("languages",t.lang),Nr(11),$s("highlight",t.whereIn)("languages",t.lang),Nr(8),$s("highlight",t.notEmpty)("languages",t.lang),Nr(6),$s("highlight",t.memberOf)("languages",t.lang),Nr(6),$s("highlight",t.andAll)("languages",t.lang),Nr(8),$s("highlight",t.orderBy)("languages",t.lang),Nr(37),$s("highlight",t.having)("languages",t.lang),Nr(10),$s("highlight",t.criteriaAPI)("languages",t.lang))},directives:[Ig],styles:[".annot[_ngcontent-%COMP%]{color:#ff0}.commands[_ngcontent-%COMP%]{color:#008b8b;padding:2px}"]}),e})()},{path:"jakartaOutro",component:(()=>{class e{constructor(){this.lang=["java","xml"],this.entityListener="\n  public class CustomerListener {\n\n    @PrePersist\n    public void doSomethingBeforePersist(Customer customer){\n      customer.setCreatedDate(LocalDateTime.now());\n      // do other stuff to Customer entity as required\n    }\n\n    @PreUpdate\n    public void doSomethingBeforeUpdating(Customer customer){\n      customer.setUpdatedDate(LocalDateTime.now());\n      // do other stuff if needed\n    }\n  }",this.generalEntityListener="\n  public class AbstractEntityListener {\n\n    @PrePersist\n    public void doSomethingBeforePersist(AbstractEntity entity){\n      entity.setCreatedDate(LocalDateTime.now());\n      // do other stuff to Customer entity as required\n    }\n\n    @PreUpdate\n    public void doSomethingBeforeUpdating(AbstractEntity entity){\n      entity.setUpdatedDate(LocalDateTime.now());\n      // do other stuff if needed\n    }\n  }",this.dynamicNativeQuery='\n  // it may be necessary to add annotate here since the compiler returns\n  // a Query not a TypedQuery\n  @SuppressWarnings("unchecked")\n  public Collection<SomeClass> findAllObjects() {\n    String nativeSQLstring = "SELECT DISTINCT * FROM tableName ORDER BY someColumn";\n\n    return entityManager\n      .createNativeQuery(nativeSQLstring, SomeClass.class)\n      .getResultList();\n  }',this.equalsHashCode='\n  @Override\n  public boolean equals(Object o) {\n      if (this == o) return true;\n\n      // could use "if (o instanceOf SomeClass) { ... }"\n      if (o == null || getClass() != o.getClass()) return false;\n\n      SomeClass other = (SomeClass) o;\n      return Objects.equals(\n        this.getUniqueIdentifier().toUpperCase(), that.getUniqueIdentifier().toUpperCase());\n  }\n\n  @Override\n  public int hashCode() {\n\n      return Objects.hash(getUniqueIdentifier().toUpperCase());\n  }'}ngOnInit(){}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-jakarta-jpaoutro"]],decls:178,vars:8,consts:[[1,"annot"],["routerLink","/java/javaRegExp"],["routerLink","/springJakarta/jakartaContainerBean"],[3,"highlight","languages","highlighted"],[1,"commands"],["routerLink","/java/javaSortCollections"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Validation"),Ks(),Ys(2,"p"),Sa(3," Data should be validated right before it is persisted to a database. This can be achieved with the Bean Validation API, which is integrated with the JPA. The default provider for Bean Validation API is Hibernate (not EclipseLink) so the following subsection is aimed at Hibernate.\n"),Ks(),Ys(4,"p"),Sa(5," To verify the integrity of the beans (and consequently entities), one sets constraints on the bean fields as annotations. If the constraint is violated, then and exception is raised and the current transaction is not committed (causing all other invoked methods to be rolled back). A few are summarised below.\n"),Ks(),Ys(6,"ul"),Ys(7,"li"),Ys(8,"span",0),Sa(9,'@NotEmpty(message = "this cannot be null or empty")'),Ks(),Sa(10,": field cannot be null or empty (the message parameter is optional)"),Ks(),Ys(11,"li"),Ys(12,"span",0),Sa(13,'@Past(message = "this must be set in the past"'),Ks(),Sa(14,": this ensures that the local date must be set in the past"),Ks(),Ys(15,"li"),Ys(16,"span",0),Sa(17,'@PastOrPresent(message = "must be set in the past or present")'),Ks(),Sa(18,": the annotated LocalDate field cannot be set in the future"),Ks(),Ys(19,"li"),Ys(20,"span",0),Sa(21,'@NotNull(message = "entity cannot be null")'),Ks(),Sa(22,": a somewhat legacy implementation of "),Ys(23,"span",0),Sa(24,"@NotEmpty"),Ks(),Sa(25," except that it does not check for empty collections"),Ks(),Ys(26,"li"),Ys(27,"span",0),Sa(28,'@DecimalMax(value = "65", message = "Value must be less than or equal to 65")'),Ks(),Sa(29,": the field must not be greater than the stated value (65, for example)"),Ks(),Ys(30,"li"),Ys(31,"span",0),Sa(32,'@DecimalMin(value = "65", message = "Value must be greater than or equal to 65")'),Ks(),Sa(33,": the field must be less than or equal to the stated value"),Ks(),Ys(34,"li"),Ys(35,"span",0),Sa(36,'@Email(message = "Enter a valid email address")'),Ks(),Sa(37,": expects user@domain.com or similar"),Ks(),Ys(38,"li"),Ys(39,"span",0),Sa(40,'@NotBlank(message = "Value cannot be null or composed entirely of whitespace")'),Ks(),Sa(41,": as instructed, there must be at least one character present"),Ks(),Ys(42,"li"),Ys(43,"span",0),Sa(44,'@Pattern(regExp = "[de][FG]", message = "string must contain the sequence deFG at least once")'),Ks(),Sa(45,": the given field must be recognised by the stated "),Ys(46,"a",1),Sa(47,"regular expression"),Ks(),Ks(),Ys(48,"li"),Ys(49,"span",0),Sa(50,'@Size(min = 3, max = 55, message = "Value must be greater than or equal to 3 and less than or equal to 55")'),Ks(),Sa(51,": a combination of min and max annotations; the default min value is zero if not stated"),Ks(),Ks(),Ys(52,"h5"),Sa(53,"Entity lifecycle callbacks"),Ks(),Ys(54,"p"),Sa(55," There are a number lifecycle points which are available and enable custom functions to be executed. CDI contextual instance callbacks were briefly introduced "),Ys(56,"a",2),Sa(57,"here"),Ks(),Sa(58,". For JPA entities, the custom methods are also annotated and then invoked at the required stage.\n"),Ks(),Ys(59,"ul"),Ys(60,"li"),Ys(61,"span",0),Sa(62,"@PrePersist"),Ks(),Sa(63,": invoked prior to persistence to the database; can be private or public etc., but must parameterless and void"),Ks(),Ys(64,"li"),Ys(65,"span",0),Sa(66,"@PostPersist"),Ks(),Sa(67,": invoked after persistence (note that this in relation to the individual entity not the transaction as a whole, so this annotated method would still run even if the transaction fails)"),Ks(),Ks(),Ys(68,"p"),Sa(69," There are other fairly self-explanatory annotations which are somewhat JPA provider dependent. These include "),Ys(70,"span",0),Sa(71,"@PreUpdate"),Ks(),Sa(72,", "),Ys(73,"span",0),Sa(74,"@PostUpdate"),Ks(),Sa(75," and "),Ys(76,"span",0),Sa(77,"@PostLoad"),Ks(),Sa(78,".\n"),Ks(),Ys(79,"p"),Sa(80," Note the above annotations can, in principle, be applied to the same method.\n"),Ks(),Ys(81,"h5"),Sa(82,"Entity listeners"),Ks(),Ys(83,"p"),Sa(84," Entity listeners provide another way of implementing lifecycle callbacks, including a more general implementation of the callback function. This approach can be cleaner in some cases and focuses solely on entity callbacks.\n"),Ks(),Ys(85,"p"),Sa(86," For example, a method can be annotated with a specific callback or callbacks. Instead of invoking the specific method, one can build and invoke a more general method instead. For example, many entities will have their own logging callback which logs metadata once an entity has been persisted to the database. If for some reason that a more general logging callback is required then it is possible to isolate (or withdraw) the specific callback and instead invoke a more general one. This is achieved through entity listeners.\n"),Ks(),Ys(87,"p"),Sa(88," To implement entity listeners, build a new class with methods that have the same method signature.\n"),Ks(),Ys(89,"pre"),Sa(90,"    "),Ys(91,"code",3),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(92,"\n"),Ks(),Ys(93,"p"),Sa(94," The first snippet above shows how the specific callback would be implemented, the second snippet below shows how a more general callback would be applied.\n"),Ks(),Ys(95,"pre"),Sa(96,"    "),Ys(97,"code",3),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(98,"\n"),Ks(),Ys(99,"p"),Sa(100," To associate the entity with the above listeners (clearly the first listener should only be applied to Customer class), annotate the bean with "),Ys(101,"span",0),Sa(102,"@EntityListener({CustomerListener.class, AbstractEntityListener.class})"),Ks(),Sa(103," for example. Edit the array parameter as needed.\n"),Ks(),Ys(104,"h5"),Sa(105,"Native Queries"),Ks(),Ys(106,"p"),Sa(107," Native queries provides some of the provider specific queries which are not normally available to the standard JPQL through the interaction with JPA entities. Native queries supplement the JPQL by allowing one to use native SQL.\n"),Ks(),Ys(108,"p"),Sa(109," The annotation is "),Ys(110,"span",0),Sa(111,'@NamedNativeQuery(name = "someNativeQuery", query = "select * from SomeEntity", resultClass = SomeEntity.class)'),Ks(),Sa(112,". The SQL query is passed as the query parameter and overall, this native query is referred to as a "),Ys(113,"i"),Sa(114,"named native query"),Ks(),Sa(115,". The native query can be passed to a service class methods (via a EntityManager instance) with "),Ys(116,"span",4),Sa(117,"createNamedQuery()"),Ks(),Sa(118," in very much the same way as named queries (which use "),Ys(119,"span",0),Sa(120,"@NamedQuery()"),Ks(),Sa(121,"). All SQL queries are available though some thought about the provider used (this approach may also render the application less database agnostic).\n"),Ks(),Ys(122,"p"),Sa(123," It is also possible to implement "),Ys(124,"i"),Sa(125,"dynamic native queries"),Ks(),Sa(126," in the same way as dynamic queries by defining a method that returns a Collection. Note in both cases that the terminating semicolon is needed in the string. Also note that native SQL queries work on SQL tables directly, not Java entities.\n"),Ks(),Ys(127,"pre"),Sa(128,"    "),Ys(129,"code",3),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(130,"\n"),Ks(),Ys(131,"p"),Sa(132,' With native queries, the return type is not TypedQuery but instead an "untyped" Query (part of EntityManager class). It may be necessary to annotate the method to suppress compiler warnings (see snippet above).\n'),Ks(),Ys(133,"h5"),Sa(134,"Overriding equals() and hashCode()"),Ks(),Ys(135,"p"),Sa(136," Generally, it is recommended that one override the "),Ys(137,"span",4),Sa(138,"equals()"),Ks(),Sa(139," and "),Ys(140,"span",4),Sa(141,"hashCode()"),Ks(),Sa(142," methods when managing JPA beans. Doing so grants more control about how objects are compared and how it rejects new entities that already exist in the database. Another brief exploration of the implications of "),Ys(143,"span",4),Sa(144,"equals()"),Ks(),Sa(145," and "),Ys(146,"span",4),Sa(147,"hashCode()"),Ks(),Sa(148," were discussed in the "),Ys(149,"a",5),Sa(150,"Collections framework"),Ks(),Sa(151," notes. The Set interface, for examples, relies on "),Ys(152,"span",4),Sa(153,"equals()"),Ks(),Sa(154," and "),Ys(155,"span",4),Sa(156,"hashCode()"),Ks(),Sa(157," methods. In short, "),Ys(158,"span",4),Sa(159,"equals()"),Ks(),Sa(160," checks if two Java objects are the same by comparing their hash code, through "),Ys(161,"span",4),Sa(162,"hashCode()"),Ks(),Sa(163,". If the hash code is not set and overridden properly then "),Ys(164,"span",4),Sa(165,"equals()"),Ks(),Sa(166," will probably return false positives or negatives.\n"),Ks(),Ys(167,"p"),Sa(168," It is worth highlighting that the id of an entity is not normally decided before the "),Ys(169,"span",4),Sa(170,"equals()"),Ks(),Sa(171," method is called. The new Java object may be undergoing validation etc. and is only assigned an id by the provider once the object has satisfied the prerequisites. Hence, the id cannot be used to determine if two new Java objects (or one new Java object and one entity with an id) are the same or not. The id field is intended for the database, nothing else.\n"),Ks(),Ys(172,"p"),Sa(173," One would need to choose fields which can help distinguish between objects. Also be aware that the case of the String should be made the same, since different providers may not treat string literals in the same way. Something like the following would work.\n"),Ks(),Ys(174,"pre"),Sa(175,"    "),Ys(176,"code",3),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(177,"\n"),Ks()),2&e&&(Nr(91),$s("highlight",t.entityListener)("languages",t.lang),Nr(6),$s("highlight",t.generalEntityListener)("languages",t.lang),Nr(32),$s("highlight",t.dynamicNativeQuery)("languages",t.lang),Nr(47),$s("highlight",t.equalsHashCode)("languages",t.lang))},directives:[Tp,Ig],styles:[".annot[_ngcontent-%COMP%]{color:#ff0}.commands[_ngcontent-%COMP%]{color:#008b8b;padding:2px}"]}),e})()},{path:"jakartaJAXRSIntro",component:(()=>{class e{constructor(){this.lang=["java"],this.simpleResourceMethod='\n  @Path("somewhere")\n  public class SomeResource {\n\n    @Path("{parameter}")\n    @GET\n    public Response returnParameter(@PathParam("parameter") String entered){\n      String returnString = "Parameter recieved: " + entered;\n\n      return Response.ok(returnString).build();\n    }\n\n    @GET\n    // this would be "api/v1/somewhere/overHere"\n    @Path("overHere")\n    public String getResponse() {\n      return "over here";\n    }\n  }',this.contentType='\n  @Path("somewhere")\n  public class SomeResource {\n\n    @Inject\n    SomeService someService;\n\n    @GET\n    @Path("overHere")\n    @Produces("application/json")\n    public List<SomeClass> getResponse() {\n\n      return someService.getSomeClassResource();\n    }\n  }',this.consumes='\n  @Path("somewhere")\n  @Consumes("application/json")\n  public class SomeResource {\n\n    @Inject\n    SomeService someService;\n\n    // this assumes that the client sends a json in the body\n    // with the expected fields for SomeClass\n    @POST\n    @Path("overThere")\n    public void getResponse(SomeClass payload) {\n\n      someService.save(payload);\n    }\n  }',this.pathParam='\n  @Path("somewhere")\n  public class SomeResource {\n\n    @Path("{parameter}")\n    @GET\n    public Response returnParameter(@PathParam("parameter") String entered){\n      String returnString = "Parameter recieved: " + entered;\n\n      return Response.ok(returnString).build();\n    }\n  }',this.pathParam2='\n  @Path("somewhere")\n  public class SomeResource {\n\n    @Path("{ID: ^[0-9]+$}")\n    @GET\n    public Response returnObject(@PathParam("ID") Long id){\n      return someService.getObjectById(id);\n    }\n  }',this.defaultParam='\n  @Path("somewhere")\n  public class SomeResource {\n\n    @Path("{ID: ^[0-9]+$}")\n    @GET\n    public Response returnObject(@PathParam("ID") @DefaultValue("0") Long id){\n\n      // if the URL is wrong then the default value of 0 is sent (which is null \n      // since all JPA indices are one-based not zero-based)\n      return someService.getObjectById(id);\n    }\n  }',this.queryParam='\n  @Path("somewhere")\n  public class SomeResource {\n\n    // sending "api/v1/somewhere/someObject/has?ID=1" would work\n    @Path("someObject/has")\n    @GET\n    public Response returnObject(@QueryParam("ID") @DefaultValue("0") Long id){\n      return someService.getObjectById(id);\n    }\n  }'}ngOnInit(){}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-jakarta-jaxrsintro"]],decls:168,vars:14,consts:[[1,"commands"],[1,"annot"],[3,"highlight","languages","highlighted"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Jakarta RESTful Web Services"),Ks(),Ys(2,"p"),Sa(3," JAX-RS is an API that is part of the Java EE standard (previously known as Java API for RESTful Web Services), and uses interfaces and annotations to support the construction of RESTful Web Services. It is not necessary to include other dependencies when the "),Ys(4,"span",0),Sa(5,"javaee-api"),Ks(),Sa(6," is imported. This introduction presents the minimum required to build a RESTful web service with JAX-RS.\n"),Ks(),Ys(7,"p"),Sa(8," The REST architecture is specification within a set of constraints. For example, the client (be it Angular, React, Vue etc.) must be separated from the server (.NET, Python, Spring, Java etc.), and are independent units. There are a few other constraints:\n"),Ks(),Ys(9,"ul"),Ys(10,"li"),Sa(11,"The client-server requests are all stateless. Each request is treated independently of all other requests and do not depend on the ongoing execution of other requests."),Ks(),Ys(12,"li"),Sa(13,"The client and server should cache resources to help with performance and scalability"),Ks(),Ys(14,"li"),Sa(15,"The client should have general interface that can access resources on the server. The server must in turn expose a general uniform interface from which the client can access resources."),Ks(),Ys(16,"li"),Sa(17,"The server should be built around a layered system and is required as a part of a load balancer related to scaling"),Ks(),Ks(),Ys(18,"h5"),Sa(19,"JAX-RS configuration classes"),Ks(),Ys(20,"p"),Sa(21," Classes (representing different REST API versions, for example) which extend "),Ys(22,"span",0),Sa(23,"javax.ws.rs.core.Application"),Ks(),Sa(24," constitute the definition of the web service and the root path. The class is annotated with "),Ys(25,"span",1),Sa(26,'@ApplicationPath("api/v1")'),Ks(),Sa(27,' (the resources route "api/v1" can be changed). With Spring REST, one could use the '),Ys(28,"span",1),Sa(29,"@RestController"),Ks(),Sa(30," and "),Ys(31,"span",1),Sa(32,'@RequestMapping("/api/v1")'),Ks(),Sa(33,' annotations on a simple POJO. All other REST endpoint paths or routes will be based on whatever is set in place of "api/v1".\n'),Ks(),Ys(34,"h5"),Sa(35,"JAX-RS paths and request methods"),Ks(),Ys(36,"p"),Sa(37," With Spring REST, one would define a "),Ys(38,"span",1),Sa(39,"@RestController"),Ks(),Sa(40,' annotated class to define the root path "/api/v1" and/or "sub-paths" needed. This is also the case with Java EE, where a class, which represents a particular resource (files, records, data etc. on the server managed in part by Java classes) is annotated with '),Ys(41,"span",1),Sa(42,'@Path("somePath")'),Ks(),Sa(43,". There is only one parameter, value, expected. This annotation "),Ys(44,"i"),Sa(45,"exposes"),Ks(),Sa(46," resources through RESTful resource points.\n"),Ks(),Ys(47,"p"),Sa(48," Once the "),Ys(49,"span",1),Sa(50,'@Path("somePath")'),Ks(),Sa(51,' annotation is applied to the resource class, one exposes at least one resource related method by defining the path needed to invoke the method. (Note that the prefixing/postfixing forward-slash characters used to break up the URL is inserted automatically in Java EE: "api/v1" is fine, "/api/v1/" is not expected.) An experienced Spring REST developer should be able to follow the snippet below.\n'),Ks(),Ys(52,"pre"),Sa(53,"    "),Ys(54,"code",2),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(55,"\n"),Ks(),Ys(56,"p"),Sa(57," The HTTP request methods are the usual standards:\n"),Ks(),Ys(58,"ul"),Ys(59,"li"),Ys(60,"span",1),Sa(61,"@GET"),Ks(),Sa(62,": GET methods are used to retrieve resources from the server without making changes to the resource on the server"),Ks(),Ys(63,"li"),Ys(64,"span",1),Sa(65,"@POST"),Ks(),Sa(66,": POST methods are used to create new resources, using a payload or body. Repeated POST requests lead to the construction of more new resources"),Ks(),Ys(67,"li"),Ys(68,"span",1),Sa(69,"@PUT"),Ks(),Sa(70,": PUT methods are used to update changes to a resource that already exists on the server. Repeated PUT requests will only change one resource and will not build new resources."),Ks(),Ys(71,"li"),Ys(72,"span",1),Sa(73,"@DELETE"),Ks(),Sa(74,": DELETE methods instruct the server to remove resources from the server. Repeated DELETE requests will not lead to further change to the resource or other resources."),Ks(),Ks(),Ys(75,"p"),Sa(76," GET, PUT and DELETE are "),Ys(77,"i"),Sa(78,"idempotent"),Ks(),Sa(79," methods: they can be called multiple times without making subsequent changes to the resource or server. The state of the resource or the server following the first call will not change. "),Ks(),Ys(80,"p"),Sa(81," Clearly, it is important to set different resource paths for the same HTTP method, even though the same method can be called using different paths. The container is only interested in the annotation and not the method signature. Only one method for each HTTP request method can use the class' path annotation. Generally it is recommended to explicitly define different sub-paths for all methods.\n"),Ks(),Ys(82,"p"),Sa(83," The REST controller class is intended to expose the resources and business layer of the application, not implement or define them. A service class will contain the fields and methods that are specific to the resources on hand. Injecting an instance of the service layer will enable the controller class to invoke the service methods.\n"),Ks(),Ys(84,"h5"),Sa(85,"HTTP content types"),Ks(),Ys(86,"p"),Sa(87," The main payload formats (content type) between the client and the server used are:\n"),Ks(),Ys(88,"ul"),Ys(89,"li"),Sa(90,"XML"),Ks(),Ys(91,"li"),Sa(92,"CSV"),Ks(),Ys(93,"li"),Sa(94,"EXCEL"),Ks(),Ys(95,"li"),Sa(96,"TEXT"),Ks(),Ys(97,"li"),Sa(98,"JSON"),Ks(),Ks(),Ys(99,"p"),Sa(100," Historically, XML was the main format. However, these days most payloads are transferred as JSON and is predominantly a key-value pair based format. When making REST based requests, the client normally requests which content type it expects, otherwise the server will default to one, given below.\n"),Ks(),Ys(101,"pre"),Sa(102,"    "),Ys(103,"code",2),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(104,"\n"),Ks(),Ys(105,"p"),Sa(106," The return type of the resource (GET) method needs to conform to the HTTP 1.1 standard, which is language agnostic. The conversion is handled automatically by the JAX-RS "),Ys(107,"i"),Sa(108,"message body writers"),Ks(),Sa(109," (discussed later). To signify which content type to use, annotate the method with "),Ys(110,"span",1),Sa(111,"@Produces"),Ks(),Sa(112,", as shown above. Any fields which are not initialised or populated will be returned in the content type array (JSON or XML etc.) as empty fields.\n"),Ks(),Ys(113,"p"),Sa(114," One can also perhaps more conveniently annotate the class with "),Ys(115,"span",1),Sa(116,'@Produces("application/json")'),Ks(),Sa(117," to instruct the container to return JSON for all GET methods. Furthermore, it is possible to override the content type at the method-level by using, for example, "),Ys(118,"span",1),Sa(119,'@Produces("application/xml")'),Ks(),Sa(120,".\n"),Ks(),Ys(121,"p"),Sa(122," When the client submits a payload to the server through a PUT or POST request is handled similarly, with the "),Ys(123,"span",1),Sa(124,'@Consumes("application/json")'),Ks(),Sa(125," annotation. As with payload publication, all the conversion is handled on behalf of the developer. The method-level annotation also applies.\n"),Ks(),Ys(126,"pre"),Sa(127,"    "),Ys(128,"code",2),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(129,"\n"),Ks(),Ys(130,"p"),Sa(131," Path parameters via the URL can be passed directly to an exposed method. The annotation "),Ys(132,"span",1),Sa(133,"@PathParam()"),Ks(),Sa(134,' instructs the container to inject the URL String passed. The example below would be sent as "api/v1/somewhere/printMe". Here the literal "printMe" would be passed to '),Ys(135,"span",0),Sa(136,"returnParameter()"),Ks(),Sa(137,". Other types (Long, Integer etc.) can also be injected directly.\n"),Ks(),Ys(138,"pre"),Sa(139,"    "),Ys(140,"code",2),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(141,"\n"),Ks(),Ys(142,"p"),Sa(143," Validation of the parameter is clearly needed. One needs to restrict the parameter format using regular expressions. The client will receive a malformed URL exception if the expected parameter formatting is not sent.\n"),Ks(),Ys(144,"pre"),Sa(145,"    "),Ys(146,"code",2),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(147,"\n"),Ks(),Ys(148,"p"),Sa(149," If a default parameter value is needed (and the client should not always receive an error page) then use the "),Ys(150,"span",1),Sa(151,"@DefaultValue()"),Ks(),Sa(152," annotation.\n"),Ks(),Ys(153,"pre"),Sa(154,"    "),Ys(155,"code",2),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(156,"\n"),Ks(),Ys(157,"p"),Sa(158,' Note that the URL need not always conform to the normal "path/subpath1/path/subPath2" styled URL. It is possible to pass neighbouring subpaths as "path/{ID}/edit/{username}{serialNumber}.{domain}/something/@{value}".\n'),Ks(),Ys(159,"p"),Sa(160,' Query parameters (e.g. "api/v1/somePath/someEntity?ID=25") proceed the "?" character. With JAX-RS, the query parameter is managed by the '),Ys(161,"span",1),Sa(162,'@QueryParam("ID")'),Ks(),Sa(163," annotation. The next example shows this more clearly. A default value for the query parameter can also be set. Multiple query parameters can be set up and used.\n"),Ks(),Ys(164,"pre"),Sa(165,"    "),Ys(166,"code",2),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(167,"\n"),Ks()),2&e&&(Nr(54),$s("highlight",t.simpleResourceMethod)("languages",t.lang),Nr(49),$s("highlight",t.contentType)("languages",t.lang),Nr(25),$s("highlight",t.consumes)("languages",t.lang),Nr(12),$s("highlight",t.pathParam)("languages",t.lang),Nr(6),$s("highlight",t.pathParam2)("languages",t.lang),Nr(9),$s("highlight",t.defaultParam)("languages",t.lang),Nr(11),$s("highlight",t.queryParam)("languages",t.lang))},directives:[Ig],styles:[".annot[_ngcontent-%COMP%]{color:#ff0}.commands[_ngcontent-%COMP%]{color:#008b8b;padding:2px}"]}),e})()},{path:"jakartaJAXRSResponsesMappersFields",component:(()=>{class e{constructor(){this.lang=["java"],this.responseObject='\n  @Path("somewhere")\n  @Produces("application/json")\n  @Consumes("application/json")\n  public class SomeResource {\n\n    @Inject\n    SomeService someService;\n\n    // inject the interface UriInfo (see POST)\n    @Context\n    private UriInfo uriInfo;\n\n    @GET\n    @Path("overHere")\n    public Response getObjects() {\n\n      return Response.ok(someService.findAll())\n          .status(Response.Status.OK)   // there are many other HTTP statuses\n          .build;\n    }\n\n    @GET\n    @Path("employee/{id})\n    public Response getObjectById(@PathParam("id") Long id){\n      return Response.ok(someService.findById(id))\n          .status(Response.Status.OK)\n          .build;\n    }\n\n    @POST\n    @Path("newObject")\n    public Response newObject(SomeObject someObject){\n      someService.save(someObject);\n      URI uri = uriInfo.getAbsolutePathBuilder().path(\n        object.getId().toString()\n          ).build();\n\n      // the built URI can be sent back to the web service (in \n      // agreement with the above getObjectById())\n      return Response.created(uri)\n          .status(Response.Status.CREATED)\n          .build();\n    }\n  }\n  ',this.exceptionMapper="\n  // inform JAX-RS that this is should be available at runtime\n  @Provider\n  public class ExceptionMapperConstraintViolation \n      implements ExceptionMapper<ConstraintViolationException> {\n\n    // add all violations to a Map and return\n    @Override\n    public Response toResponse(ConstraintViolationException exc) {\n\n      final Map<String, String> constraintViolations = new HashMap<>();\n\n      for (ConstraintViolation violation : exc.geConstraintViolations()){\n        String path = violation.getPropertyPath().toString();\n        constraintViolations.put(path, violation.getMessage());\n      }\n\n      return Response.status(Response.Status.PRECONDITION_FAILED)\n          .entity(constraintViolations)\n          .build;\n    }\n  }",this.validateAtResourceLevel='\n  @Path("somewhere")\n  @Produces("application/json")\n  @Consumes("application/json")\n  public class SomeResource {\n\n    @Inject\n    SomeService someService;\n\n    // inject the interface UriInfo (see POST)\n    @Context\n    private UriInfo uriInfo;\n\n    // ... other resource methods ...\n\n    @POST\n    @Path("newObject")\n    public Response newObject(@Valid SomeObject someObject){\n\n      // this method block is only run when validation is satisfactory\n\n      someService.save(someObject);\n      \n      URI uri = uriInfo.getAbsolutePathBuilder().path(\n        object.getId().toString()\n          ).build();\n\n      return Response.created(uri)\n          .status(Response.Status.CREATED)\n          .build();\n    }\n  }\n  ',this.formFieldClass='\n  @Path("users")\n  @Consumes("application/json")\n  @Produces("application/json")\n  public class FormData {\n\n    // the name parameter of the <input name = ""></input> element forms the \n    // paramter name (clearly, all form field names must be unique) \n    @POST\n    @Path("form")\n    @Consumes(MediaType.APPLICATION_FROM_URLENCODED)\n    public Response createNewUser(@FormParam("username") String username,\n        @FormParam("email") String email,\n        @FormParam("password") String password) {\n\n        // initialise a new User and commit to the database\n\n    }\n\n    // this one is more suited to forms with a large number of fields\n    @POST\n    @Path("formManyFields")\n    @Consumes(MediaType.APPLICATION_FROM_URLENCODED)\n    public Response createNewUser(MultiValuedMap<String, String> formMap) {\n\n      // formMap has all field entries (the key of the Map is the field name)\n      String username = formMap.getFirst("username");\n      String password = formMap.getFirst("password");\n      String email = formMap.getFirst("email");\n\n      // initialise a new User and commit to the database\n\n    }\n\n    // demonstrates the use of @BeanParam\n    @POST\n    @Path("formBean")\n    @Consumes(MediaType.APPLICATION_FROM_URLENCODED)\n    public Response createNewUser(@BeanParam User user) {\n\n      // JAX-RS will use the User class @FormParam annotated fields\n      // from the HTTP body sent by the client\n\n      // note that the injected User is already initialised with the\n      // form data sent\n    }\n\n  }\n\n  // given to demonstrate the use of @BeanParam only\n\n  @Entity\n  public class User extends AbstractEntity {\n\n    // constraints omitted for clarity\n\n    @FormParam("username")\n    private String username;\n\n    @FormParam("email")\n    private String email;\n\n    @FormParam("password")\n    private String password;\n\n    // ... public getters and setters ...\n  }\n  ',this.headerParam='\n  public Response createSomething(@HeaderParam("Referer") String referer) {\n\n    // so something with the referer URL, referer, taken from the referer key\n    // of the HTTP header\n\n    // return the Response\n  }\n  \n  public Response createSomething(@Context HttpHeaders httpHeaders){\n\n    // httpHeaders contains all HTTP header metadata\n    // (this method is equivalent to the above)\n    httpHeaders.getHeaderString("Referer").get(0);\n  }\n  \n  public Response getCookieParam(@CookieParam("user") String user) {\n\n    // do something with user\'s cookie header parameter,\n    // then return Response\n  }'}ngOnInit(){}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-jakarta-jaxrsresmapfields"]],decls:92,vars:10,consts:[[1,"annot"],[3,"highlight","languages","highlighted"],["routerLink","/springJakarta/jakartaOutro"],[1,"commands"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Response objects"),Ks(),Ys(2,"p"),Sa(3,' Successful web service transactions normally return feedback (essentially metadata) to the client (a message, a HTTP status code, URI to the newly created resource etc.). This is where a "response object" comes into use.\n'),Ks(),Ys(4,"p"),Sa(5," Previously, the return values of the resource methods were Java objects. Instead of this, one can return a Response, while facilitating the return of the metadata. The HTTP response body will contain the JSON array. The POST method returns the URI of the new resource in the HTTP header. The "),Ys(6,"span",0),Sa(7,"@Context"),Ks(),Sa(8," annotation is used to inject classes/objects residing in the context.\n"),Ks(),Ys(9,"pre"),Sa(10,"    "),Ys(11,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(12,"\n"),Ks(),Ys(13,"h5"),Sa(14,"Exception Mappers"),Ks(),Ys(15,"p"),Sa(16," When the client pushes a payload to the web service, its data should be validated. The JPA validates data with the Bean Validation API. JAX-RS also uses the same API to validate payloads and ensures that the data adheres to the constraints set in the model. The web service also sends a response to the client to inform the client of the status of the request.\n"),Ks(),Ys(17,"p"),Sa(18,' Any violation of the constraints are handled by the JAX-RS "exception mappers". The API maps exceptions to HTTP responses e.g. any bean violations on the server are mapped to a specific HTTP response. The implementation of exception mappers is normally defined in its own class, annotated with the '),Ys(19,"span",0),Sa(20,"@Provider"),Ks(),Sa(21," to inform JAX-RS that this class should be made available to the container.\n"),Ks(),Ys(22,"pre"),Sa(23,"    "),Ys(24,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(25,"\n"),Ks(),Ys(26,"p"),Sa(27," Exception mappers are not only applicable to bean validation but also applicable to any Java exception.\n"),Ks(),Ys(28,"p"),Sa(29," As set out, the web service will return a JSON array as a response body, listing the bean field constraints that were violated and a message explaining what the problem was (as defined in the "),Ys(30,"a",2),Sa(31,"bean validation"),Ks(),Sa(32,").\n"),Ks(),Ys(33,"p"),Sa(34," Currently, the payload is validated during the JPA transaction, that is, when "),Ys(35,"span",3),Sa(36,"someService.save()"),Ks(),Sa(37," is run. The validation is taking place at the persistence (service) level. To validate before the persistence layer (quite often a preferred approach, freeing up the entity manager) at the resource layer, apply the "),Ys(38,"span",0),Sa(39,"@Valid"),Ks(),Sa(40," annotation to the injected instance.\n"),Ks(),Ys(41,"pre"),Sa(42,"    "),Ys(43,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(44,"\n"),Ks(),Ys(45,"p"),Sa(46," Validating at the resource level does, however, return a different JSON response body. The messages are the same however the field names are more formal.\n"),Ks(),Ys(47,"h5"),Sa(48,"Form fields"),Ks(),Ys(49,"p"),Sa(50," Clients can post data to web service via forms. The form handling class is, as with the bean validation exception mapping, defined in its own class. The relevant entity classes set their constraints as desired. As with Spring MVC and Thymeleaf templates, the client posts a form with the POST method. Note that the payload will not be sent as a JSON array and so it is necessary to add an extra annotation "),Ys(51,"span",0),Sa(52,"@Consumes()"),Ks(),Sa(53," which overrides the class level "),Ys(54,"span",0),Sa(55,"@Consumes()"),Ks(),Sa(56," annotation. Each field of the form that is injected by JAX-RS when annotated with "),Ys(57,"span",0),Sa(58,"@FormParam()"),Ks(),Sa(59,", more elegantly with a MultiValuedMap or (most recommended approach) with a "),Ys(60,"span",0),Sa(61,"@BeanParam()"),Ks(),Sa(62,". Spring developers will see that "),Ys(63,"span",0),Sa(64,"@BeanParam()"),Ks(),Sa(65," resembles the Spring MVC Model interface.\n"),Ks(),Ys(66,"pre"),Sa(67,"    "),Ys(68,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(69,"\n"),Ks(),Ys(70,"p"),Sa(71," Note that any entity field not annotated with "),Ys(72,"span",0),Sa(73,"@FormParam()"),Ks(),Sa(74," will not be initialised through the "),Ys(75,"span",0),Sa(76,"@BeanParam()"),Ks(),Sa(77," approach. Using the entity class directly eliminates the need to build a separate DTO (which is another approach that can be used to handle client form data).\n"),Ks(),Ys(78,"h5"),Sa(79,"Other injection parameters"),Ks(),Ys(80,"p"),Sa(81," The HTTP header contains much metadata and can be accessed by methods annotated with "),Ys(82,"span",0),Sa(83,"@HeaderParam()"),Ks(),Sa(84,". For example the referer (the entity or user that makes the request) URL stores the address of the page making the request. Lastly, one can extract HTTP header cookie values with "),Ys(85,"span",0),Sa(86,"@CookieParam()"),Ks(),Sa(87,".\n"),Ks(),Ys(88,"pre"),Sa(89,"    "),Ys(90,"code",1),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(91,"\n"),Ks()),2&e&&(Nr(11),$s("highlight",t.responseObject)("languages",t.lang),Nr(13),$s("highlight",t.exceptionMapper)("languages",t.lang),Nr(19),$s("highlight",t.validateAtResourceLevel)("languages",t.lang),Nr(25),$s("highlight",t.formFieldClass)("languages",t.lang),Nr(22),$s("highlight",t.headerParam)("languages",t.lang))},directives:[Ig,Tp],styles:[".annot[_ngcontent-%COMP%]{color:#ff0}.commands[_ngcontent-%COMP%]{color:#008b8b;padding:2px}"]}),e})()},{path:"jakartaJAXRSCaching",component:(()=>{class e{constructor(){this.lang=["java"],this.caching='\n  @Path("users")\n  @Produces("application/json")\n  @Consumes("application/json")\n  public class SomeClass {\n\n    @Inject\n    SomeService someService;\n  \n    @GET\n    @Path("user/{id}")\n    public Response getUserById(@PathParam("id") @DefaultValue("0") Long id,\n         @Context Request request) {\n      User user = someService.findById(id);\n\n      // CacheControl stores instructions re. how requests and responses are cached;\n      // maxAge is the time (in sec) when cached data is considered as expired\n      CacheControl cacheControl = new CacheControl();\n      cacheControl.setMaxAge(1000);\n\n      // tag holds version info re. cached data with a universally unique identifier UUID;\n      // the UUID is randomised for demo purposes and points to the web service\'s latest \n      // version of the User\n      EntityTag tag = new EntityTag(UUID.randomUUID().toString());\n\n      // this tests, via the (injected) Request, if the client cached data is valid\n      // i.e. do the client and server tags match? If the tag "points" to a null\n      // space (a deleted record) then resBuilder will be null\n      Response.ResponseBuilder resBuilder = request.evaluatePreconditions(tag);\n\n      // if the cached data is still valid\n      if (resBuilder != null){\n        resBuilder.cacheControl(cacheControl);\n        return resBuilder.build();\n      }\n\n      // cached data has expired;\n      // send the latest to the client with the caching requirements\n      resBuilder = Response.ok(user);\n      return resBuilder\n          .tag(tag)\n          .cacheControl(cacheControl)\n          .build();\n    }\n  }',this.contentNegotiation='\n  \n  @Path("users")\n  @Consumes("application/json")\n  public class SomeClass {\n\n    @Inject\n    SomeService someService;\n  \n    // option 1: evaluate the client\'s Accept request header\n    @GET\n    @Path("user/{id}")\n    @Produces({MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML})\n    public Response getUserById(@PathParam("id") @DefaultValue("0") Long id) {\n\n      // JAX-RS then evaluates the Accept request header and returns the preferred format\n      // based on the q value, for example; without a q value, the server is free to chose\n      // the format\n\n    }\n\n    // option 2: evaluate the HTTP request header in the method block\n    @GET\n    @Path("usersOnFile")\n    public Response getUsers(@Context HttpHeaders headers) {\n\n      // headers is automatically sorted in order of decreasing \n      // priority, so the following retrieves the most desired\n      // content media type\n      MediaType mediaType = headers.getAcceptableMediaTypes().get(0);\n     \n      return Response.ok(someService.getUsers(), mediaType).status(Response.Status.OK).build();\n    }\n\n    // option 3: allow for cases when the client does not have a preference\n    @GET\n    @Path("usersOnFile_NoPref")\n    // set the server\'s preferences (quality of source factor, "qs")\n    @Produces({"application/json; qs=0.9", "application/xml; qs=0.7"})\n    public Response getUsers() {\n\n      // the web service would return JSON without client\'s preferences;\n      // if the client does have a preference then the response would also \n      // depend on the client\n\n    }\n  }',this.fileUpload='\n  @Entity\n  public class User {\n    \n    @Id\n    private Long id;\n\n    // ... other fields ...\n\n    @Lob\n    @Basic(fetch = FetchType.LAZY)\n    private byte[] image;\n\n    // ... public getters and setters, and methods ...\n  }\n\n  @Path("users")\n  @Consumes("application/json")\n  public class SomeClass {\n\n    @Inject\n    SomeService someService;\n\n    @Inject\n    PersistenceService persistenceService;\n\n    // use something like "api/v1/users/upload?id=3"\n    @POST\n    @Path("upload")\n    @Consumes({MediaType.APPLICATION_OCTET_STREAM, "image/png", "image/jpeg", "image/jpg"})\n    @Produces({MediaType.TEXT_PLAIN})\n    public Response uploadImageFile(File image, @QueryParam("id") @NotNull Long id){\n\n      User user = someService.findById(id);\n\n      try (Reader reader = new FileReader(image)) {\n          user.setImage(Files.readAllBytes(Paths.get(image.toURI())));\n\n          // assume that this either saves a new entity or updates a \n          // currently existing one\n          persistenceService.save(user);\n\n          // the following code is not strictly necessary - could just return an "OK" with\n          // Response.ok().status(Response.Status.OK).build();\n          int totalsize = 0;\n          int count = 0;\n          final char[] buffer = new char[256];\n          while ((count = reader.read(buffer)) != -1) {\n              totalsize += count;\n          }\n          return Response.ok(totalsize).build();\n\n      } catch (IOException e) {\n          e.printStackTrace();\n          return Response.serverError().build();\n      }\n    }\n  }\n  ',this.fileDownload='\n  @Entity\n  public class User {\n    \n    @Id\n    private Long id;\n\n    // ... other fields ...\n\n    @Lob\n    @Basic(fetch = FetchType.LAZY)\n    private byte[] image;\n\n    // ... public getters and setters, and methods ...\n  }\n\n  @Path("users")\n  @Consumes("application/json")\n  public class SomeClass {\n\n    @Inject\n    SomeService someService;\n\n    // use something like "api/v1/users/download/mugShot.png?id=22"\n    @GET\n    @Path("download/{file}")\n    @Produces({MediaType.APPLICATION_OCTET_STREAM, "image/png", "image/jpeg", "image/jpg"})\n    public Response downloadImageFile(@QueryParam("id") @NotNull Long id,\n         @PathParam("file") String fileName){\n\n      User user = someService.findById(id);\n\n      if (user != null){\n        return Response.ok().entity(Files.write(Paths.get(fileName),\n             user.getImage()).toFile()).build();\n      }\n\n      return Response.noContent().build();\n    }\n  }\n  '}ngOnInit(){}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-jakarta-jaxrscachefile"]],decls:50,vars:8,consts:[[3,"highlight","languages","highlighted"],[1,"annot"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Caching"),Ks(),Ys(2,"p"),Sa(3," Data usually has to pass between the client and server via a number of entities (Content Delivery Networks CDNs, proxies (intermediary servers), etc.) and each point can cache data. The process is quite involved.\n"),Ks(),Ys(4,"p"),Sa(5," If the client is required to cache data then it would need to know if what it currently holds is still valid or up to date. The client would have to receive notice from the web service.\n"),Ks(),Ys(6,"p"),Sa(7,' The example below shows how an HTTP header "entity tag" (or ETag) is initialised and used to inform the client about the current state (version) of cached data.\n'),Ks(),Ys(8,"pre"),Sa(9,"    "),Ys(10,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(11,"\n"),Ks(),Ys(12,"h5"),Sa(13,"Content negotiation"),Ks(),Ys(14,"p"),Sa(15,' Since some clients and web services support differently formatted payloads (plain text, XML, JSON etc.) a hierarchy of the formats available is normally provided so that if one entity cannot consume or produce a given format then it will defer to the next available format. The other entity will then attempt to satisfy the format. In this context, the client and server are said to negotiate regarding the content exchanged and is the basis of "content negotiation". The goal is to enable a web service to provide data to clients with differing requirements.\n'),Ks(),Ys(16,"p"),Sa(17,' There are various ways of setting the precedence of the content type, some are based on the given order of a list of formats and others are based on a "q" value (q = 0 having lowest precedence and q = 1 having the highest precedence). Further details are not discussed here.\n'),Ks(),Ys(18,"p"),Sa(19,' The choices available are stored in the HTTP "Accept" request header and so with JAX-RS, the header of the request is queried by the web service when responding. In the example below, the web service offers two options: JSON and XML.\n'),Ks(),Ys(20,"pre"),Sa(21,"    "),Ys(22,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(23,"\n"),Ks(),Ys(24,"p"),Sa(25," Note that option 1 is more hard-coded and limits the client to XML or JSON. Option 2 is usually more flexible and may expose more media types that are not previously known to the developer. "),Ks(),Ys(26,"h5"),Sa(27,"Uploading files to the server"),Ks(),Ys(28,"p"),Sa(29," File uploading is outlined with an example below.\n"),Ks(),Ys(30,"pre"),Sa(31,"    "),Ys(32,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(33,"\n"),Ks(),Ys(34,"h5"),Sa(35,"Downloading files from the server"),Ks(),Ys(36,"p"),Sa(37," File downloading is outlined below. The "),Ys(38,"span",1),Sa(39,"@Produces()"),Ks(),Sa(40," annotation is swapped for the "),Ys(41,"span",1),Sa(42,"@Consumes()"),Ks(),Sa(43," annotation.\n"),Ks(),Ys(44,"pre"),Sa(45,"    "),Ys(46,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(47,"\n"),Ks(),Ys(48,"p"),Sa(49," Depending on how the request for a download was made, the body of the response will contain the byte-array format of the image. For a web browser, this will normally trigger a download dialogue box.\n"),Ks()),2&e&&(Nr(10),$s("highlight",t.caching)("languages",t.lang),Nr(12),$s("highlight",t.contentNegotiation)("languages",t.lang),Nr(10),$s("highlight",t.fileUpload)("languages",t.lang),Nr(14),$s("highlight",t.fileDownload)("languages",t.lang))},directives:[Ig],styles:[".annot[_ngcontent-%COMP%]{color:#ff0}.commands[_ngcontent-%COMP%]{color:#008b8b;padding:2px}"]}),e})()},{path:"jakartaJAXRSfilter",component:(()=>{class e{constructor(){this.lang=["java"],this.logger='\n  public class LoggerProducer {\n\n    // note that Logger is now a bean\n    @Produces\n    public Logger produceLogger(InjectionPoint injectionPoint) {\n        return Logger.getLogger(injectionPoint.getMember().getDeclaringClass().getName());\n    }\n  }\n  \n  // some other class\n  public class SomeClass implements Serializable {\n\n    @Inject\n    Logger logger;\n\n    public void logDemo(){\n      logger.log(Level.INFO, "This is an info message");\n      logger.log(Level.WARNING, "This is a warning message");\n    }\n  }',this.cookie='\n  @Entity\n  public class User {\n    \n    @Id\n    private Long id;\n\n    // ... other fields ...\n\n    @Lob\n    @Basic(fetch = FetchType.LAZY)\n    private byte[] image;\n\n    // ... public getters and setters, and methods ...\n  }\n\n  @Path("users")\n  @Consumes("application/json")\n  public class SomeClass {\n\n    @Inject\n    SomeService someService;\n\n    // use something like "api/v1/users/download/mugShot.png?id=22"\n    @GET\n    @Path("download/{file}")\n    @Produces({MediaType.APPLICATION_OCTET_STREAM, "image/png", "image/jpeg", "image/jpg"})\n    public Response downloadImageFile(@QueryParam("id") @NotNull Long id,\n         @PathParam("file") String fileName){\n\n      User user = someService.findById(id);\n\n      // build a new HTTP cookie which stores the database ID of the file\n      NewCookie cookie = new NewCookie("userID", String.valueOf(id));\n\n      if (user != null){\n        return Response.ok()\n            .entity(Files.write(Paths.get(fileName), user.getImage()).toFile())\n            .cookie(cookie)\n            .build();\n      }\n\n      return Response.noContent().build();\n    }\n  }\n  ',this.cacheResponseFilter='\n  // register the filter with JAX-RS\n  @Provider\n  public class CacheResponseFilter implements ContainerResponseFilter {\n\n    // The requestContext will contain all info related to the request made\n    // (similar remarks for the responseContext) and is injected by the runtime\n    @Override\n    public void filter(ContainerRequestContext requestContext,\n       ContainerResponseContext responseContext) throws IOException {\n\n        // GET, POST, PUT or DELETE?\n        String methodType = requestContext.getMethod();\n\n        // e.g. "users" (not the full path "/api/v1/users")?\n        String uriPath = requestContext.getUriInfo().getPath();\n\n        // only change the response for a given URL and request method\n        if (methodType.equalsIgnoreCase("GET") && uriPath.equalsIgnoreCase("users")){\n\n          // cache response\n          CacheControl cacheControl = new CacheControl();\n          // cache for 200 secs\n          cacheControl.setMaxAge(200);\n          // only the client should cache (intermediaries should not cache)\n          cacheControl.setPrivate(true);\n\n          // edit the response (each entry is given first by a name and a value)\n          // the cacheControl will be embedded as an object\n          responseContext.getHeaders().add("Cache-Control", cacheControl);\n          // this is simply a String based name and value (like a cookie)\n          responseContext.getHeaders().add("Custom header message", "Surprise!");\n        }\n    }\n  }',this.maxAgeAnnot="\n  @Retention(RetentionPolicy.RUNTIME)\n  @Target(ElementType.METHOD)\n  public @interface MaxAge {\n    int age();\n  }\n  ",this.dynamicResponseFilter='\n  public class DynamicFilter implements ContainerResponseFilter {\n\n    int age;\n\n    public DynamicFilter(int age){\n      this.age = age;\n    }\n\n    public DynamicFilter() {\n    }\n    \n    @Override\n    public void filter(ContainerRequestContext requestContext,\n       ContainerResponseContext responseContext) throws IOException {\n\n        if (requestContext.getMethod().equalsIgnoreCase("GET")){\n          CacheControl cacheControl = new CacheControl();\n          cacheControl.setMaxAge(age);\n          responseContext.getHeaders().add("Cache-Control", cacheControl);\n\n          // add other header fields as needed\n        }\n    }\n  }',this.dynamicFilterFeature="\n  @Provider\n  public class DynamicFilterFeature implements DynamicFeature {\n\n    // the resourceInfo stores info related to the resource class and methods\n    @Override\n    public void configure(ResourceInfo resourceInfo, FeatureContext context){\n      \n      // from the calling resource method, retrieve its method's MaxAge annotation;\n      // if the resource method was not annotated then return null\n      MaxAge maxAgeAnnot = resourceInfo.getResourceMethod().getAnnotation(MaxAge.class);\n\n      if (maxAgeAnnot != null){\n        DynamicFilter dynamicFilter = new DynamicFilter(maxAgeAnnot.age());\n        context.register(dynamicFilter);\n      }\n    }\n  }",this.preMatchRequestFilter='\n  @Provider\n  @PreMatching\n  public class PreMatchRequestFilter implements ContainerRequestFilter {\n\n    @Inject\n    Logger logger;\n\n    @Override\n    public void filter(ContainerRequestContext requestContext) throws IOException {\n\n      logger.log(Level.INFO, "Original HTTP method: " + requestContext.getMethod());\n      String httpMethod = requestContext.getHeaderString("X-Http-Method-Override");\n\n      if (httpMethod != null && !httpMethod.isEmpty()){\n        logger.log(Level.INFO, "Http method received: " + httpMethod);\n        requestContext.setMethod(httpMethod);\n      }\n    }\n  }\n  \n  // in the resource class\n  @Path("users")\n  @Produces("application/json")\n  @Consumes("application/json")\n  public class UserResource {\n  \n      @Inject\n      Logger logger;\n  \n      @Inject\n      SomeService someService;\n  \n      // ... other resource methods ...  \n\n      // here, contacts in User\n      @PUT\n      @Path("{id: \\d+}")\n      @Consumes(MediaType.APPLICATION_FROM_URLENCODED)\n      public Response updateUserContacts(@PathParam("id") @NotNull Long id,\n        @FormParam("contacts") String contacts) {\n\n          someService.updateContacts(someService.findById(id), contacts);\n          return Response.ok().build();\n      }\n  \n      @DELETE\n      @Path("{id: \\d+}")\n      public Response removeUserContacts(@PathParam("id") @NotNull Long id) {\n          \n        someService.removeContacts(someService.findById(id));\n        return Response.ok().build();\n      }\n  }\n  '}ngOnInit(){}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-jakarta-jaxrsfilter"]],decls:105,vars:14,consts:[["routerLink","/springJakarta/jakartaProducers"],[1,"annot"],[3,"highlight","languages","highlighted"],["href","http://www.slf4j.org/","target","_blank"],["href","https://logback.qos.ch/"],["href","https://jwt.io/","target","_blank"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Loggers"),Ks(),Ys(2,"p"),Sa(3," Logger producers were introduced in the "),Ys(4,"a",0),Sa(5,"CDI section"),Ks(),Sa(6,". Loggers are part of the java.utils package and can be injected into the resource class and allow the web service to send messages to a console or write logs to a file. To run loggers, simply inject an instance of Logger with "),Ys(7,"span",1),Sa(8,"@Inject"),Ks(),Sa(9," into the (resource) class.\n"),Ks(),Ys(10,"pre"),Sa(11,"    "),Ys(12,"code",2),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(13,"\n"),Ks(),Ys(14,"p"),Sa(15," Other third-party logging libraries in use are Simple Logging Facade for Java "),Ys(16,"a",3),Sa(17,"SLF4J"),Ks(),Sa(18," and "),Ys(19,"a",4),Sa(20,"Logback"),Ks(),Sa(21,", amongst others.\n"),Ks(),Ys(22,"h5"),Sa(23,"Cookies"),Ks(),Ys(24,"p"),Sa(25," Cookies saved on the client can be used to store metadata pertaining to the recent and future requests and responses. For example, once a user has downloaded a file, the server can require the client to save a cookie with information related to the download transaction. The cookie information is sent as part of the response to the client. The client side will then build the cookie file and refer to it in future. Cookies are saved as name-value pairs.\n"),Ks(),Ys(26,"pre"),Sa(27,"    "),Ys(28,"code",2),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(29,"\n"),Ks(),Ys(30,"p"),Sa(31," Cookies has a maxAge property which defines the lifetime of a cookie. Expired cookies are discarded.\n"),Ks(),Ys(32,"h5"),Sa(33,"Filters"),Ks(),Ys(34,"p"),Sa(35," Filters are used to filter requests and responses. They intercept requests and responses just before they payload reaches its target and are quite powerful tools, particularly in the security domain. They can alter the data itself.\n"),Ks(),Ys(36,"p"),Sa(37," Regarding "),Ys(38,"b"),Sa(39,"request filters"),Ks(),Sa(40,', there are two types: "Pre-matching" (intercept before a URL is matched to the resource method) and "Post-matching" (intercept after a URL is matched with the resource method). In the latter case, the filter provides an opportunity for the web service to invoke methods or alter data before the body of the resource method is executed.\n'),Ks(),Ys(41,"p"),Ys(42,"b"),Sa(43,"Response filters"),Ks(),Sa(44," simply intercept payloads as they migrate from the web service to the client.\n"),Ks(),Ys(45,"h5"),Sa(46,"Static and dynamic container response filters"),Ks(),Ys(47,"p"),Sa(48," The JAX-RS API defines the container request and response filter interfaces. To implement a response filter, for example, simply implement the ContainerResponseFilter interface. Then register the class with the container using "),Ys(49,"span",1),Sa(50,"@Provider"),Ks(),Sa(51,".\n"),Ks(),Ys(52,"p"),Sa(53," Suppose that the web service requires the client to cache a response (from the server) for a given amount of time. This can be managed with its own class.\n"),Ks(),Ys(54,"pre"),Sa(55,"    "),Ys(56,"code",2),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(57,"\n"),Ks(),Ys(58,"p"),Sa(59," The above example is a "),Ys(60,"i"),Sa(61,"static"),Ks(),Sa(62," filter since it is always registered at runtime. In some cases, it may be preferable to register filters when they are needed, that is, dynamically as a "),Ys(63,"i"),Sa(64,"dynamic"),Ks(),Sa(65," filter. One can build a dynamic filter with a custom annotation that triggers the registration.\n"),Ks(),Ys(66,"pre"),Sa(67,"    "),Ys(68,"code",2),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(69,"\n"),Ks(),Ys(70,"pre"),Sa(71,"    "),Ys(72,"code",2),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(73,"\n"),Ks(),Ys(74,"p"),Sa(75," One then implements the JAX-RS DynamicFeature interface. The DynamicFeature interface defines the dynamic registration of (post-matching) filters at deployment and is itself registered with the JAX-RS runtime. Any custom response filters are registered individually on a needs basis through another custom implementation of DynamicFeature: DynamicFilterFeature. (Assume that DynamicFilterFeature is in the same package as the interface MaxAge.)\n"),Ks(),Ys(76,"pre"),Sa(77,"    "),Ys(78,"code",2),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(79,"\n"),Ks(),Ys(80,"p"),Sa(81," If a resource method (not class; typically a HTTP GET method) is annotated with "),Ys(82,"span",1),Sa(83,"@MaxAge(age = 200)"),Ks(),Sa(84," for example, then the dynamic container response filter, DynamicFilter, will be registered and the annotation age parameter can be passed to the maxAge field of the cacheControl.\n"),Ks(),Ys(85,"h5"),Sa(86,"Pre-matching container request filters"),Ks(),Ys(87,"p"),Sa(88," The following example modifies a HTTP request method, effectively overriding what is defined on the server. Assume that the client is not allowed to send an HTTP DELETE method. In this case, one implements the JAX-RS ContainerRequestFilter interface. One then registers the filter statically and annotates with class with "),Ys(89,"span",1),Sa(90,"@PreMatching"),Ks(),Sa(91," to intercept the payload before the resource method is matched to the URL.\n"),Ks(),Ys(92,"pre"),Sa(93,"    "),Ys(94,"code",2),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(95,"\n"),Ks(),Ys(96,"p"),Sa(97,' The client could then send any HTTP method since with all requests trigger the pre-matching request filter. The web service will then log the original request and then look for a field with name="X-Http-Method-Override". If the value is set with a valid HTTP method type (GET, POST, etc.) then the method with the matching method type and path are invoked. The choices are value="PUT" and value="DELETE", as shown in the above snippet.\n'),Ks(),Ys(98,"h5"),Sa(99,"Post-matching container request filters"),Ks(),Ys(100,"p"),Sa(101," Authentication of a client can be implemented through a post-matching request filter. Once the URL has been mapped, the web service can verify the identity of the client. Authentication in Jakarta EE is best handled with "),Ys(102,"a",5),Sa(103,"JSON Web Tokens JWT"),Ks(),Sa(104," standard and is presented in the next section.\n"),Ks()),2&e&&(Nr(12),$s("highlight",t.logger)("languages",t.lang),Nr(16),$s("highlight",t.cookie)("languages",t.lang),Nr(28),$s("highlight",t.cacheResponseFilter)("languages",t.lang),Nr(12),$s("highlight",t.maxAgeAnnot)("languages",t.lang),Nr(4),$s("highlight",t.dynamicResponseFilter)("languages",t.lang),Nr(6),$s("highlight",t.dynamicFilterFeature)("languages",t.lang),Nr(16),$s("highlight",t.preMatchRequestFilter)("languages",t.lang))},directives:[Tp,Ig],styles:[".annot[_ngcontent-%COMP%]{color:#ff0}.commands[_ngcontent-%COMP%]{color:#008b8b;padding:2px}"]}),e})()},{path:"jakartaJAXRSjwt",component:(()=>{class e{constructor(){this.lang=["java","xml"],this.mavenRepo="\n\x3c!-- for reference only; set scope to provided to make container \nto provide the dependency at runtime --\x3e\n<dependency>\n  <groupId>javax</groupId>\n  <artifactId>javaee-api</artifactId>\n  <version>8.0.1</version>\n  <scope>provided</scope>\n</dependency>\n\n<dependency>\n  <groupId>io.jsonwebtoken</groupId>\n  <artifactId>jjwt</artifactId>\n  <version>0.9.1</version>\n</dependency>\n\n<dependency>\n    <groupId>org.apache.shiro</groupId>\n    <artifactId>shiro-core</artifactId>\n    <version>1.7.1</version>\n</dependency>\n\n\x3c!-- required for Apache Shiro --\x3e\n<dependency>\n  <groupId>org.slf4j</groupId>\n  <artifactId>slf4j-api</artifactId>\n  <version>1.7.30</version>\n</dependency>\n",this.userClass='\n@Entity\n@NamedQuery(name = User.FIND_USER_BY_CREDENTIALS, \n  query = "select u from User u where u.email = :email")\npublic class User extends AbstractEntity {\n  \n  @Id\n  private Long id;\n\n  public static final String FIND_USER_BY_CREDENTIALS = "User.findUserByCredentials";\n\n  @NotEmpty(message = "Email is required")\n  @Email(message = "Format must be user@domain.com")\n  @FormParam("email")\n  private String email;\n\n  @NotEmpty(message = "Password required")\n  @Size(min = 10)\n  @FormParam("password")\n  private String password;\n\n  private String salt;\n\n  @Lob\n  @Basic(fetch = FetchType.LAZY)\n  private byte[] image;\n\n  // ... constructors, public getters and setters ...\n}',this.persistenceService='\n@DataSourceDefinition(\n  name = "java:app/SomeDB/ATable",\n  className = "org.apache.derby.jdbc.ClientDriver",\n  url = "jdbc:derby://localhost:1527/somedb",\n  user = "appuser",\n  password = "password")\n@Stateless\npublic class PersistenceService {\n\n  @Inject\n  EntityManager entityManager;\n\n  @Inject\n  QueryService queryService;\n\n  @Inject\n  SecurityUtil securityUtil;\n\n  public void saveUser(User user) {\n\n      if (employee.getId() == null) {\n          entityManager.persist(user);\n      } else {\n          entityManager.merge(user);\n      }\n  }\n\n  public void saveUser(User user) {\n\n      Map<String, String> credMap =\n         securityUtil.hashPassword(user.getPassword());\n\n         user.setPassword(credMap.get("hashedPassword"));\n         user.setSalt(credMap.get("salt"));\n\n      if (user.getId() == null) {\n          entityManager.persist(user);\n\n      } else {\n          entityManager.merge(user);\n      }\n\n      credMap = null;\n\n  }\n}',this.queryService='\n@Stateless\npublic class QueryService {\n\n    @Inject\n    private SecurityUtil securityUtil;\n\n    @Inject\n    EntityManager entityManager;\n\n    @PostConstruct\n    private void init() {\n    }\n\n    @PreDestroy\n    private void destroy() {\n    }\n\n    // ... JPA named and dynamic queries would be listed here ...\n\n    public boolean authenticateUser(String email, String plainTextPassword) {\n\n        User user = \n            entityManager.createNamedQuery(User.FIND_USER_BY_CREDENTIALS, User.class)\n                .setParameter("email", email.toLowerCase()).getResultList().get(0);\n\n        if (user != null) {\n            return securityUtil.passwordsMatch(\n              user.getPassword(), user.getSalt(), plainTextPassword);\n        }\n        return false;\n    }\n}',this.securityUtil='\n@RequestScoped\npublic class SecurityUtil {\n\n    @Inject\n    private QueryService queryService;\n\n    // retrieve DB records and compare (note that this call then invokes \n    // passwordsMatch(), below)\n    public boolean authenticateUser(String email, String password) {\n        return queryService.authenticateUser(email, password);\n    }\n\n    // JSON web token related methods =======================================\n\n    public Key generateKey(String keyString) {\n      return new SecretKeySpec(\n         keyString.getBytes(), 0, keyString.getBytes().length, "DES");\n    }\n\n    // used to set the expiration date\n    public Date toDate(LocalDateTime localDateTime) {\n        return Date.from(\n            localDateTime.atZone(ZoneId.systemDefault()).toInstant());\n    }\n\n    // password-related methods =============================================\n\n    // Apache Shiro related\n    private final PasswordService passwordService =\n       new DefaultPasswordService();\n\n    public String encryptText(String plainText) {\n      return passwordService.encryptPassword(plainText);\n    }\n\n    public boolean passwordsMatch(\n        String dbStoredHashedPassword, String saltText, String clearTextPassword) {\n\n        ByteSource salt = ByteSource.Util.bytes(Hex.decode(saltText));\n        String hashedPassword = hashAndSaltPassword(clearTextPassword, salt);\n        return hashedPassword.equals(dbStoredHashedPassword);\n    }\n\n    public Map<String, String> hashPassword(String clearTextPassword) {\n        ByteSource salt = getSalt();\n        Map<String, String> credMap = new HashMap<>();\n\n        credMap.put("hashedPassword", hashAndSaltPassword(clearTextPassword, salt));\n        credMap.put("salt", salt.toHex());\n        return credMap;\n    }\n\n    private String hashAndSaltPassword(String clearTextPassword, ByteSource salt) {\n        return new Sha512Hash(clearTextPassword, salt, 2000000).toHex();\n    }\n\n    private ByteSource getSalt() {\n        return new SecureRandomNumberGenerator().nextBytes();\n    }\n}',this.userResource='\n// stores the email for a given session\n@SessionScoped\npublic class ApplicationState implements Serializable {\n    private String email;\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n}\n\n// elsewhere...\n\n@Path("users")\n@Consumes("application/json")\n@Produces("application/json")\n@RequestScoped\npublic class UsersResource {\n\n    // session-scoped bean, defined above\n    @Inject\n    ApplicationState applicationState;\n\n    @Inject\n    private SecurityUtil securityUtil;\n\n    // part of JAX-RS\n    @Inject\n    JaxRsClient jaxRsClient;\n\n    @Inject\n    PersistenceService persistenceService;\n\n    // part of Java EE\n    @Context\n    private UriInfo uriInfo;\n\n    // part of java.util.logging\n    @Inject\n    private Logger logger;\n\n    @POST\n    public Response createUser(@Valid User user) {\n        persistenceService.saveUser(user);\n\n        jaxRsClient.checkBreachesRx(user.getEmail());\n\n        return Response.created(uriInfo\n            .getAbsolutePathBuilder()\n            .path(user.getId().toString()).build())\n              .status(Response.Status.OK).build();\n    }\n\n    @POST\n    @Path("login")\n    @Consumes(MediaType.APPLICATION_FORM_URLENCODED)\n    public Response login(\n        @FormParam("email") @NotEmpty(message = "Email must be set") String email,\n        @NotEmpty(message = "Password must be set") @FormParam("password") String password) {\n\n            if (!securityUtil.authenticateUser(email, password)) {\n                throw new SecurityException("Email or password incorrect");\n            }\n            applicationState.setEmail(email);\n            String token = getToken(email);\n\n            return Response.ok().header(AUTHORIZATION, "Bearer " + token).build();\n        }\n\n    @GET\n    @Path("{id}")\n    @Produces({MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML})\n    public Response getUserById(@PathParam("id") Long id) {\n        return Response.ok().status(Response.Status.OK).build();\n    }\n\n    // this is the central part of the JWT: get a token for an authenticated user;\n    // in this example, we use the User\'s email to generate a JWT key\n    private String getToken(String email) {\n        Key key = securityUtil.generateKey(email);\n\n        String token = Jwts.builder()\n                .setSubject(email)\n                .setIssuer(uriInfo.getAbsolutePath().toString())\n                  .setIssuedAt(new Date()).setExpiration(\n                      securityUtil.toDate(LocalDateTime.now().plusMinutes(15)))\n                .signWith(SignatureAlgorithm.HS512, key)\n                      .setAudience(uriInfo.getBaseUri().toString())\n                .compact();\n\n        logger.log(Level.INFO, "Generated token is {0}", token);\n        return token;\n    }\n\n}',this.securityExceptionMapper="\n@Provider\npublic class SecurityExceptionMapper implements ExceptionMapper<SecurityException> {\n    @Override\n    public Response toResponse(SecurityException exception) {\n        return Response.status(Response.Status.UNAUTHORIZED).entity(exception.getMessage())\n                .build();\n    }\n}",this.securityFilter='\n// custom interface which connects SecurityFilter with resource methods annotated\n// with @Secure (referred to as "name-binding")\n@NameBinding\n@Retention(RetentionPolicy.RUNTIME)\n@Target({TYPE, METHOD})\npublic @interface Secure {\n}\n\n// ... the request filter is next ...\n\n@Provider\n@Secure\n@Priority(Priorities.AUTHENTICATION)\npublic class SecurityFilter implements ContainerRequestFilter {\n\n    private static final String BEARER = "Bearer";\n\n    @Inject\n    private Logger logger;\n\n    @Inject\n    ApplicationState applicationState;\n\n    @Inject\n    private SecurityUtil securityUtil;\n\n    @Override\n    public void filter(ContainerRequestContext reqCtx) throws IOException {\n\n        //1. Get the token from the request header\n        String authHeader = reqCtx.getHeaderString(HttpHeaders.AUTHORIZATION);\n\n        if (authHeader == null || !authHeader.startsWith(BEARER)) {\n            logger.log(Level.SEVERE, "Wrong or no authorization header found {0}", authHeader);\n            // JAX-RS will also return the HTTP header to the client with feedback when the\n            // following exception is thrown\n            throw new NotAuthorizedException("No authorization header provided");\n        }\n\n        String token = authHeader.substring(BEARER.length()).trim();\n\n        //2. Parse the token\n        try {\n            Key key = securityUtil.generateKey(applicationState.getEmail());\n\n            // throws an exception if it fails\n            Jwts.parser().setSigningKey(key).parseClaimsJws(token);\n\n            // get the current context and re-build a new one\n            SecurityContext securityContext = reqCtx.getSecurityContext();\n            reqCtx.setSecurityContext(new SecurityContext() {\n                @Override\n                public Principal getUserPrincipal() {\n                    return () -> Jwts.parser()\n                                      .setSigningKey(key)\n                                      .parseClaimsJws(token)\n                                      .getBody()\n                                      .getSubject();\n                }\n\n                @Override\n                public boolean isUserInRole(String s) {\n                    return securityContext.isUserInRole(s);\n                }\n\n                @Override\n                public boolean isSecure() {\n                    return securityContext.isSecure();\n                }\n\n                @Override\n                public String getAuthenticationScheme() {\n                    return securityContext.getAuthenticationScheme();\n                }\n            });\n            logger.info("Token parsed successfully");\n\n            //3. When parsing fails....get help!\n        } catch (Exception e) {\n            logger.log(Level.SEVERE, "Invalid {0}", token);\n            //Another way to send exceptions to the client\n            reqCtx.abortWith(Response.status(Response.Status.UNAUTHORIZED).build());\n        }\n    }\n}'}ngOnInit(){}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-jakarta-jwt"]],decls:115,vars:16,consts:[["href","https://github.com/jwtk/jjwt","target","_blank"],["href","https://shiro.apache.org/","target","_blank"],["href","https://jwt.io/introduction","target","_blank"],["href","https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt/","target","_blank"],["href","https://mvnrepository.com/artifact/org.apache.shiro/shiro-core","target","_blank"],["href","https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#Dependency_Scope","target","_blank"],["href","http://www.slf4j.org/","target","_blank"],[3,"highlight","languages","highlighted"],[1,"annot"],["href","https://oauth.net/"],[1,"commands"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Security in JAX-RS"),Ks(),Ys(2,"p"),Sa(3,' Java security is more commonly handled by the exchange of matching "JSON web tokens" between the client and web service. The standard is referred to as JSON Web Tokens, or JWT. There are many implementations of JWT for a range of languages (other than Java) and platforms. The example shown here will use the '),Ys(4,"a",0),Sa(5,"Java JSON Web Token"),Ks(),Sa(6," or JJWT API. The JJWT will be implemented through post-matching filters in JAX-RS.\n"),Ks(),Ys(7,"p"),Sa(8," This section will also introduce the "),Ys(9,"a",1),Sa(10,"Apache Shiro"),Ks(),Sa(11," API with JAX-RS.\n"),Ks(),Ys(12,"p"),Sa(13," Before continuing, it is advisable to refer to the "),Ys(14,"a",2),Sa(15,"JWT Introduction"),Ks(),Sa(16," and understand the basic components of a JWT: the header, the payload and the signature. "),Ks(),Ys(17,"p"),Sa(18," The Maven dependencies for JJWT are "),Ys(19,"a",3),Sa(20,"here"),Ks(),Sa(21," and for Apache Shiro are "),Ys(22,"a",4),Sa(23,"here"),Ks(),Sa(24,". (For more on dependency scope, see the official "),Ys(25,"a",5),Sa(26,"docs"),Ks(),Sa(27,".) Apache Shiro will require Simple Logging Facade for Java "),Ys(28,"a",6),Sa(29,"SLF4J"),Ks(),Sa(30,".\n"),Ks(),Ys(31,"pre"),Sa(32,"    "),Ys(33,"code",7),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(34,"\n"),Ks(),Ys(35,"p"),Sa(36," Overall, one annotates the relevant resource methods with "),Ys(37,"span",8),Sa(38,"@Secure"),Ks(),Sa(39,' to indicate which methods require a HTTP authorisation header (this is a custom annotation, explained later in this section). To gain access, the client would normally login (via a HTTP body Content type: URL-Encoded Form) and receive a token from the service. The JWT is a "bearer string", essentially, an encoded string. The client would then send the token for subsequent requests through a "Bearer Token" (normally bearer token is set to "Without Authentication"; there are several other standards available including '),Ys(40,"a",9),Sa(41,"OAuth"),Ks(),Sa(42,") as part of the HTTP header (not the body). The user would usually not need to log in again, assuming the web token has not expired. "),Ks(),Ys(43,"h5"),Sa(44,"The model and JPA persistence and query services"),Ks(),Ys(45,"p"),Sa(46,' For demonstration purposes, the User bean will have a email, password and "salt" (related to encryption) String fields.\n'),Ks(),Ys(47,"pre"),Sa(48,"    "),Ys(49,"code",7),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(50,"\n"),Ks(),Ys(51,"p"),Sa(52," The persistence service is a stateless EJB which handles JPA entities.\n"),Ks(),Ys(53,"pre"),Sa(54,"    "),Ys(55,"code",7),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(56,"\n"),Ks(),Ys(57,"p"),Sa(58," The QueryService is another stateless EJB and manages the JPA queries. "),Ks(),Ys(59,"pre"),Sa(60,"    "),Ys(61,"code",7),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(62,"\n"),Ks(),Ys(63,"h5"),Sa(64,"Password encryption with Apache Shiro"),Ks(),Ys(65,"p"),Sa(66," Passwords must always be hashed and never stored as plain Strings. The SecurityUtil class encrypts passwords in a hashed form. This is where Apache Shiro comes in. The API provides, amongst other things, password hashing techniques.\n"),Ks(),Ys(67,"pre"),Sa(68,"    "),Ys(69,"code",7),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(70,"\n"),Ks(),Ys(71,"p"),Sa(72," The salt field (a randomly generated sequence of bytes) is generated before a plain String password is hashed. The salt acts as a key which enables a another plain password to be hashed in the same way. When the user needs to log in again, the system will need salt field so that future passwords submitted can be compared to the persisted hashed password. Note that salt related methods are private and can only be invoked through the public methods. Additionally, the hashed password is never decrypted to a plain password.\n"),Ks(),Ys(73,"h5"),Sa(74,'The JAX-RS "controller" layer'),Ks(),Ys(75,"p"),Sa(76," With the User model and security services prepared, one then proceeds to build the User resource class and methods. This represents the controller (web service) layer and through HTTP methods, invokes the PersistenceService methods (which in turn makes use of the SecurityUtil class methods). It also contains the main point of this section, which is the generation of a JSON web token, via the method "),Ys(77,"span",10),Sa(78,"getToken()"),Ks(),Sa(79,'. Note that the web token is unique to a particular URL and hence a particular resource method. In this case, the User\'s email is used to build a JWT "key" or "secret", an attribute that would be known by the client and web service (since they both know the email). The key is needed to build the signature.\n'),Ks(),Ys(80,"pre"),Sa(81,"    "),Ys(82,"code",7),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(83,"\n"),Ks(),Ys(84,"p"),Sa(85,' When the user fails to get authenticated (via POST method "/api/v1/users/login") then a SecurityException is thrown. This exception is mapped to a HTTP response, as defined below.\n'),Ks(),Ys(86,"pre"),Sa(87,"    "),Ys(88,"code",7),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(89,"\n"),Ks(),Ys(90,"h5"),Sa(91,"The post-matching request filter and @Secure"),Ks(),Ys(92,"p"),Sa(93," With the user authenticated, they can then invoke all resource methods that are annotated with "),Ys(94,"span",8),Sa(95,"@Secure"),Ks(),Sa(96,". First, the request filter is defined in its own class, given next. This also introduces a new annotation, "),Ys(97,"span",8),Sa(98,"@Priority(Priorities.AUTHENTICATION)"),Ks(),Sa(99,". This prioritises the SecurityFilter over all other filters (the lower the number, the higher the priority; AUTHENTICATION = 1000). Hence, this filter filters traffic before other filters, which makes sense since it defines the authentication layer as it were. "),Ks(),Ys(100,"p"),Sa(101," The "),Ys(102,"span",8),Sa(103,"@Secure"),Ks(),Sa(104,' is a "name-binding" annotation. Name-bind associates an annotation with a filter (a class which implements a JAX-RS filter interface). Any method which uses the same annotation, that is '),Ys(105,"span",8),Sa(106,"@Secure"),Ks(),Sa(107," is then referred to SecurityFilter and hence requires authentication. It does not mean (as with resource methods) that this class, SecurityFilter, or its methods require authentication or require a HTTP authorisation header. The "),Ys(108,"span",8),Sa(109,"@Secure"),Ks(),Sa(110," class level annotation is essentially a reference for all resource methods.\n"),Ks(),Ys(111,"pre"),Sa(112,"    "),Ys(113,"code",7),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(114,"\n"),Ks()),2&e&&(Nr(33),$s("highlight",t.mavenRepo)("languages",t.lang),Nr(16),$s("highlight",t.userClass)("languages",t.lang),Nr(6),$s("highlight",t.persistenceService)("languages",t.lang),Nr(6),$s("highlight",t.queryService)("languages",t.lang),Nr(8),$s("highlight",t.securityUtil)("languages",t.lang),Nr(13),$s("highlight",t.userResource)("languages",t.lang),Nr(6),$s("highlight",t.securityExceptionMapper)("languages",t.lang),Nr(25),$s("highlight",t.securityFilter)("languages",t.lang))},directives:[Ig],styles:[".annot[_ngcontent-%COMP%]{color:#ff0}.commands[_ngcontent-%COMP%]{color:#008b8b;padding:2px}"]}),e})()},{path:"jakartaJAXRSsyncJSON",component:(()=>{class e{constructor(){this.lang=["java","xml"],this.runSuspended='\n  @Path("expenses")\n  public class AccountingResource {\n\n    // herein referred to as MES\n    @Resource\n    ManagedExecutorService managedExecutorService;\n\n    @Inject\n    AccountingService accountingService;\n\n    @POST\n    @Path("run")\n    public void run(@Suspended AsyncResponse asyncResponse) {\n\n        // get the HTTP request thread\n        final String currentThread = Thread.currentThread().getName();\n        asyncResponse.setTimeout(5000, TimeUnit.MILLISECONDS);\n        \n        // 1. Optional: Implement a timeout handler. This communicates with the client\n        // if resume() was not run after 5 sec \n        asyncResponse.setTimeoutHandler(asyncResponse1 -> {\n            asyncResponse1\n              .resume(Response.status(Response.Status.REQUEST_TIMEOUT)\n              .entity("The request timed out")\n              .build());\n        });\n\n        // 2. Optional: register other callbacks (see overrides below)\n        asyncResponse.register(CompletionCallbackHandler.class);\n\n        // 3. Required: pass long running task to MES on a separate thread and on completion\n        // communicate with client through resume()\n        managedExecutorService.submit(() -> {\n            final String spawnedThreadName = Thread.currentThread().getName();\n\n            //Long running task\n            payrollService.expensiveMethod();\n\n            asyncResponse.resume(Response.ok()\n                .header("HTTP request Thread", currentThread)\n                .header("Spawned Thread", spawnedThreadName)\n                .status(Response.Status.OK).build());\n        });\n    }\n\n    // this is invoked when a request is processed and can be passed to AsyncResponse\n    static class CompletionCallbackHandler implements CompletionCallback {\n\n        @Override\n        public void onComplete(Throwable throwable) {\n        }\n    }\n\n    // Optional for implementations (provider dependent)\n    static class ConnectionCallbackHandler implements ConnectionCallback {\n\n        @Override\n        public void onDisconnect(AsyncResponse disconnected) {\n        }\n    }\n\n    // this is an alternative way of running on a separate thread with \n    // CompletableFuture CF interface\n    @POST\n    @Path("run-cf")\n    public void computePayrollCF(@Suspended AsyncResponse asyncResponse,\n       @QueryParam("i") @DefaultValue("3") long number) {\n\n        CompletableFuture.runAsync(() -> \n          payrollService.expensiveMethod(), \n          managedExecutorService).thenApply(\n            (result) -> asyncResponse.resume(Response.ok(result).build()\n          )\n        );\n    }\n  }\n  ',this.jsonP='\n  @Produces("application/json")\n  @POST //api/v1/users POST Request\n  @Path("users")\n    public Response createUser(@Valid User user) {\n      persistenceService.saveUser(user);\n\n      URI uri = uriInfo\n                  .getAbsolutePathBuilder()\n                  .path(user.getId().toString())\n                  .build();\n\n      // resource path to all other users\n      URI otherUsers = uriInfo\n                  .getBaseUriBuilder()\n                  .path(UserResource.class)\n                  .path(UserResource.class, "getUsers")\n                  .build();\n\n      URI dept = uriInfo\n                  .getBaseUriBuilder()\n                  .path(DepartmentResource.class)\n                  .path(DepartmentResource.class, "getDepartmentById")\n                  .resolveTemplate("id", user.getDepartment().getId())\n                  .build();\n\n      // this is the "JSON-P" builder\n      JsonObjectBuilder links = Json.createObjectBuilder()\n                                  .add("_links", Json.createArrayBuilder()\n                                  .add(Json.createObjectBuilder()\n                                  .add("_otherUsers", otherUsers.toString())\n                                  .add("_self", uri.toString())\n                                  .add("_selfDept", dept.toString())\n                                  .build()));\n\n      // SSE - server sent event (JAX-RS clients and SSE discussed below)\n      jaxRsClient.postUserToSSE(user);\n\n      return Response\n                .ok(links.build().toString())\n                .status(Response.Status.CREATED)\n                .build();\n    }',this.clients='\n@RequestScoped\npublic class JaxRsClient {\n\n    // the JAX-RS Client\n    private Client client;\n\n    WebTarget webTarget;\n\n    // check for breaches to an API (pass email as the parameter)\n    // https://haveibeenpwned.com/api/v3/breachedaccount/{account}\n    private final String haveIBeenPawned = "https://haveibeenpwned.com/api/v3/breachedaccount";\n\n    @PostConstruct\n    private void init() {\n      // build the short-lived client in the web service\n        client = ClientBuilder\n                    .newBuilder()\n                    .connectTimeout(7, TimeUnit.SECONDS)\n                    .readTimeout(3, TimeUnit.SECONDS)\n                    .build();\n\n        // set the client\'s target (pass the root path)\n        webTarget = client.target(haveIBeenPawned);\n    }\n\n    @PreDestroy\n    private void destroy() {\n        if (client != null) {\n            //Be sure to close to prevent resource leakage\n            client.close();\n        }\n    }\n\n    // synchronous JAX-RS method\n    public int checkBreaches(String email) {\n\n        // build a JSON from the breach response\n        JsonArray jsonValues = webTarget\n                                .path("{account}")\n                                // send the email address\n                                .resolveTemplate("account", email)\n                                // prepare for a plain text response\n                                .request(MediaType.TEXT_PLAIN)\n                                // get() is HTTP GET; convert response to JSONArray\n                                .get(JsonArray.class);              \n\n        parseJsonArray(jsonValues);\n        return jsonValues.size();\n    }\n\n    public JsonArray getBreaches(String email) {\n        return webTarget\n                .path("{account}")\n                .resolveTemplate("account", email)\n                .request(MediaType.TEXT_PLAIN)\n                .get(JsonArray.class);                \n    }\n\n    // asynchronous (reactive) JAX-RS method\n    public void checkBreachesRx(String email) {\n        CompletionStage<Response> responseCompletionStage =\n                                     webTarget.path("{account}")\n                                              .resolveTemplate("account", email)\n                                              .request()\n                                              .rx()     // reactive stream\n                                              .get();\n\n        responseCompletionStage\n                .thenApply(response -> response.readEntity(JsonArray.class))\n                .thenAccept(this::parseJsonArray);\n    }\n\n    // used to print JSON array to the console\n    private void parseJsonArray(JsonArray jsonArray) {\n        for (JsonValue jsonValue : jsonArray) {\n            JsonObject jsonObject = jsonValue.asJsonObject();\n\n            // return the string value stored for the given string keys\n            // (see haveIbeenPwned docs for more info)\n            String domain = jsonObject.getString("Domain");\n            String breachDate = jsonObject.getString("BreachDate");\n\n            System.out.println("Breach name is " + domain);\n            System.out.println("Breach date is " + breachDate + "\\n");\n        }\n        System.out.println("Breach size is " + jsonArray.size());\n    }\n\n    public void postUserToSSE(User user) {\n        String json = JsonbBuilder.create().toJson(user);\n\n        int status = client\n                        .target("http://localhost:8080/someClass/api/v1/sse-path")\n                        .request(MediaType.TEXT_PLAIN)\n                        .post(Entity.text(json))\n                        .getStatus();\n\n        System.out.println("Status received " + status);\n        System.out.println(json);\n    }\n}',this.clientResource='\n@Path("programmatic")\n@Produces(MediaType.APPLICATION_JSON)\npublic class JaxRsClientResource {\n\n    @Inject\n    JaxRsClient jaxRsClient;\n\n    @Path("breach/{email}")\n    @GET\n    public Response checkBreaches(@PathParam("email") @NotEmpty String email) {\n\n        JsonArray breachesFound = jaxRsClient.getBreaches(email);\n        List<JsonObject> jsonObjects = new ArrayList<>();\n\n        if (breachesFound.size() > 0) {\n            for (JsonValue jsonValue : breachesFound) {\n                JsonObject jsonObject = jsonValue.asJsonObject();\n\n                jsonObjects.add(Json.createObjectBuilder()\n                                    .add("breach_domain", jsonObject.getString("Domain"))\n                                    .add("breach_date", jsonObject.getString("BreachDate"))\n                                    .build()\n                );\n            }\n            return Response.ok(jsonObjects).build();\n        }\n\n        return Response.ok("No breaches found for email " + email).build();\n    }\n}\n',this.postUserToSSE='\npublic void postUserToSSE(User user) {\n  String json = JsonbBuilder.create().toJson(user);\n\n  int status = client\n                  .target("http://localhost:8080/someClass/api/v1/sse-path")\n                  .request(MediaType.TEXT_PLAIN)\n                  .post(Entity.text(json))\n                  .getStatus();\n\n  System.out.println("Status received " + status);\n  System.out.println(json);\n}',this.SSE='\n@ApplicationScoped\n@Path("sse-path")\npublic class ServerSentEventResource {\n\n    @Context\n    private Sse sse;\n\n    @Inject\n    private Logger logger;\n\n    private SseBroadcaster sseBroadcaster;\n    private SseEventSink eventSink;\n\n    @PostConstruct\n    private void init() {\n        sseBroadcaster = sse.newBroadcaster();\n    }\n\n    @GET\n    @Produces(MediaType.SERVER_SENT_EVENTS)\n    public void fetch(@Context SseEventSink sseEventSink) {\n        sseBroadcaster.register(sseEventSink);\n        this.eventSink = sseEventSink;\n\n        logger.log(Level.INFO,"SSE opened!" );\n    }\n\n    @POST\n    @Consumes(MediaType.APPLICATION_FORM_URLENCODED)\n    public Response broadcastMessage(@FormParam("message") String message) {\n        OutboundSseEvent broadcastEvent = sse.newEvent(message);\n\n        // note that broadcast() is defined by SseBroadcaster, not this class\n        sseBroadcaster.broadcast(broadcastEvent);\n        return Response.noContent().build();\n    }\n\n    // invoked, ultimately, by postUserToSSE()\n    @POST\n    @Consumes(MediaType.TEXT_PLAIN)\n    public Response broadcastUser(String user) {\n        OutboundSseEvent broadcastEvent = sse\n                                          .newEventBuilder()\n                                          .name("user")\n                                          .data(user)\n                                          .mediaType(MediaType.TEXT_PLAIN_TYPE)\n                                          .build();\n\n        // note that broadcast() is defined by SseBroadcaster, not this class\n        sseBroadcaster.broadcast(broadcastEvent);\n        return Response.ok().status(Response.Status.OK).build();\n    }\n\n    @PreDestroy\n    private void destroy() {\n        if (eventSink != null) {\n            eventSink.close();\n        }\n    }\n}'}ngOnInit(){}onHighlight(e){this.response={language:e.language,relevance:e.relevance,second_best:"{...}",top:"{...}",value:"{...}"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-jakarta-syncjson"]],decls:121,vars:12,consts:[[3,"highlight","languages","highlighted"],[1,"annot"],["href","https://javaee.github.io/jsonb-spec/","target","_blank"],["href","https://javaee.github.io/jsonp/","target","_blank"],["href","https://haveibeenpwned.com/","target","_blank"],["href","https://haveibeenpwned.com/API/v3#BreachesForAccount","target","_blank"],[1,"commands"]],template:function(e,t){1&e&&(Ys(0,"h5"),Sa(1,"Executing resource methods asynchronously"),Ks(),Ys(2,"p"),Sa(3," Running methods asynchronously in the web service. Suppose the same method can be applied to multiple clients, for example, multiple clients want to monitor their users' account and find out how it is credited and debited over a few years. Such a process, running alongside all other processes is costly. To give the resource method time to process one can suspend the response and then either wait for the method to complete (and respond accordingly) or respond with a timeout. The costly method will be made to run on its own thread.\n"),Ks(),Ys(4,"p"),Sa(5," To proceed, one can extend Java SE's ExecutorService with ManagedExecutorService (MES). The central piece is AsyncResponse's resume() method. One uses the MES to start a new thread (spawnedThread) and execute expensiveMethod(). When expensiveMethod() returns, AsyncResponse's resume() method then communicates with the client. If expensiveMethod() takes longer than the timeout threshold, then the client will receive a timeout notice.\n"),Ks(),Ys(6,"pre"),Sa(7,"    "),Ys(8,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(9,"\n"),Ks(),Ys(10,"p"),Sa(11," The request was made on one thread (currentThread). One then usually sets the timeout in case the AsyncResponse's resume() method (i.e. expensiveMethod() did not return on time) is not called. The alternative method, shown above, uses a CompletableFuture interface that is part of Java SE's Concurrent package.\n"),Ks(),Ys(12,"h5"),Sa(13,"Java API for JSON Binding JSON-B"),Ks(),Ys(14,"p"),Sa(15," Without further change to the current JSON responses applied thus far, all are managed by the JSON-B (JSON Binding) API. This works both ways, with consumption and production of JSON strings.\n"),Ks(),Ys(16,"p"),Sa(17," In a few (rare) cases, it may be expected that the "),Ys(18,"i"),Sa(19,"marshalling"),Ks(),Sa(20," (Java objects to JSON or XML) and "),Ys(21,"i"),Sa(22,"unmarshalling"),Ks(),Sa(23," (JSON or XML to Java objects) processes need to be customised. Generally, the former is part of "),Ys(24,"i"),Sa(25,"serialisation"),Ks(),Sa(26,", where Java objects are converted into byte streams required for network transfer. The latter stage is part of "),Ys(27,"i"),Sa(28,"deserialisation"),Ks(),Sa(29," where the byte stream from the network is converted back to a Java object. Consequently, entities are almost always based on beans that implement the Serializable interface. The customisation generally amounts to using more annotations, a few of which are listed below.\n"),Ks(),Ys(30,"ul"),Ys(31,"li"),Ys(32,"span",1),Sa(33,'@JsonbDateFormat(value = "yyyy-MM-dd")'),Ks(),Sa(34,": use this to annotate LocalDate type fields of the entity"),Ks(),Ys(35,"li"),Ys(36,"span",1),Sa(37,"@JsonbTransient"),Ks(),Sa(38,": use this to annotate Collections (fields) that should not be marshalled to JSON (the entity type in the collection would be handled separately)"),Ks(),Ys(39,"li"),Ys(40,"span",1),Sa(41,"@JsonbPropertyOrder(PropertyOrderStrategy.LEXICOGRAPHICAL)"),Ks(),Sa(42,": use this to annotate the class (bean) and determine the order in which the JSON fields should appear (lexicographical or alphabetical, or in reverse with REVERSE)"),Ks(),Ks(),Ys(43,"p"),Sa(44," There are many other customisations available and are documented in the JSON-B "),Ys(45,"a",2),Sa(46,"repository"),Ks(),Sa(47,".\n"),Ks(),Ys(48,"h5"),Sa(49,"Java API for JSON Processing JSON-P"),Ks(),Ys(50,"p"),Sa(51," Set some context first. Hypermedia is an extension of HyperText and allows for the presentation of audio, video and hyperlinks in addition to hypertext, in the HTTP response body. A standard, known as "),Ys(52,"i"),Sa(53,"Hypermedia as the Engine of Application State"),Ks(),Sa(54," (HATEOAS) is a REST architecture where the client interacts with a web service dynamically, that is, a response from the web service actually provides info or directions about what other resources are "),Ys(55,"i"),Sa(56,"currently"),Ks(),Sa(57," available. Previously, a client would have to make individual HTTP requests for resources with (statically) predefined HTTP URLs. Furthermore, the client would have to be made compatible with the server at build-time in order to access resources. Dynamic interaction is one in which a client makes a single request without knowing anything-else about the server. The web service would then reply with a response, which itself contain more information about what else is available. Clearly, this response needs to be handled with care and not risk exposing resources to all clients all the time.\n"),Ks(),Ys(58,"p"),Sa(59,' A server returns URLs in the body of the response as a JSON feed (instead of the header) and the client would then be able to parse and call said URLs. Which actions or URLs are available are dependent on the state of the resource ("Engine of Application State"), which is managed by the web service. If the web service deems that the request URLs are not available, then it is possible to direct the service to not include them in the body of the response. Overall, the interaction of the client and server is dynamic and not set at build-time.\n'),Ks(),Ys(60,"p"),Sa(61," The Java API for JSON Processing "),Ys(62,"a",3),Sa(63,"JSON-P"),Ks(),Sa(64," is a more low-level API (compared to JSON-B) can provide some of the hypermedia functionality, in the following example, with links to persistent entities.\n"),Ks(),Ys(65,"p"),Sa(66," The JSON-P responses take the form of key-value pairs, in which the key value is always a Java String. The following resource method builds a new User object and then returns a JSON-P hypermedia response, complete with hyperlinks.\n"),Ks(),Ys(67,"pre"),Sa(68,"    "),Ys(69,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(70,"\n"),Ks(),Ys(71,"p"),Sa(72," The response returned by the service will contain URLs for all other Users, the path to the newly built User and their department. The client can then process the JSON feed and make further requests based on the return.\n"),Ks(),Ys(73,"h5"),Sa(74,"The JAX-RS Client API"),Ks(),Ys(75,"p"),Sa(76," The client-side API of JAX-RS provides web services the ability to build instances of clients within a web service. The client lifetime is usually brief and can be used to (temporarily) access other web services via REST calls. The following example attempts to find out which sites, where an email address was applied, have been breached. This is achieved by sending a request from the JAX-RS Client instance to "),Ys(77,"a",4),Sa(78,"haveibeenpwned.com"),Ks(),Sa(79," (at the time of writing, the specific endpoint request is documented "),Ys(80,"a",5),Sa(81,"here"),Ks(),Sa(82,").\n"),Ks(),Ys(83,"pre"),Sa(84,"    "),Ys(85,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(86,"\n"),Ks(),Ys(87,"p"),Sa(88," The above snippet shows how the JSON arrays are built in a non-reactive and reactive way. A client (external to the web service) can invoke the request, through the web service (that is, client -> web service(JAX-RS client -> haveibeenpwned) return to --\x3e client), using the following resource class.\n"),Ks(),Ys(89,"pre"),Sa(90,"    "),Ys(91,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(92,"\n"),Ks(),Ys(93,"p"),Sa(94," The (external) client will eventually receive a JSON array of all the web sites that have been breached (and when) that have stored the given email address at some point in time.\n"),Ks(),Ys(95,"h5"),Sa(96,"Server Sent Event SSE"),Ks(),Ys(97,"p"),Sa(98,' SSE is essentially a one-way (unidirectional) communication from the web service to a client. The server can push UTF-8 encoded text to the client. New messages are separated by the new line character "\\n". A more advanced technology which is bidirectional are Web Sockets (discussed in the next section). Messaging allows servers to relay information to the client and also trigger events on the client (provided the text sent matches the prerequisite format).\n'),Ks(),Ys(99,"p"),Sa(100," The above example with the method "),Ys(101,"span",6),Sa(102,"postUserToSSE()"),Ks(),Sa(103," will now explained. When a client has posted a new User entity, the method marshals the new User and returns a response to the client with the expected JSON-P hypermedia. Before the response is sent, the method "),Ys(104,"span",6),Sa(105,"postUserToSSE()"),Ks(),Sa(106," sends the new User to the JAX-RS client (recall, the JAX-RS client resides within the web service and is primarily used to make requests from the service). The User is sent to the JAX-RS client, a portion is repeated below.\n"),Ks(),Ys(107,"pre"),Sa(108,"    "),Ys(109,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(110,"\n"),Ks(),Ys(111,"p"),Sa(112," This triggers the construction of another JSON-B string, via marshalling. The JAX-RS client is then directed to a URL target and is requesting a plain text response upon making a POST request, using the User's JSON-B feed. The request is actually made to the same web service that defines the JAX-RS client. The route is handled by the web services resource class, ServerSentEventResource, given below. The POST request invokes the broadCastUser() method, which then sends a one-way test stream (with the User's details) via SSE's broadcast() method (defined in the Java EE 8 API, not here) back to any connected client.\n"),Ks(),Ys(113,"pre"),Sa(114,"    "),Ys(115,"code",0),ta("highlighted",function(e){return t.onHighlight(e)}),Ks(),Sa(116,"\n"),Ks(),Ys(117,"p"),Sa(118," The ServerSentEventResource broadcastUser() then invokes the SseBroadcaster broadcast() method, sending a text message to all connected clients, before returning a HTTP status code to the JAX-RS client, which is then printed to the console. The JAX-RS client then prints the JSON-B string to the console as a final step.\n"),Ks(),Ys(119,"p"),Sa(120," Any client that sends a POST request with a URL encoded form invokes the ServerSentEventResource's ServerSentEventResource() method. This also triggers the SseBroadcaster broadcast() method, and so the connected client receives a text message.\n"),Ks()),2&e&&(Nr(8),$s("highlight",t.runSuspended)("languages",t.lang),Nr(61),$s("highlight",t.jsonP)("languages",t.lang),Nr(16),$s("highlight",t.clients)("languages",t.lang),Nr(6),$s("highlight",t.clientResource)("languages",t.lang),Nr(18),$s("highlight",t.postUserToSSE)("languages",t.lang),Nr(6),$s("highlight",t.SSE)("languages",t.lang))},directives:[Ig],styles:[".annot[_ngcontent-%COMP%]{color:#ff0}.commands[_ngcontent-%COMP%]{color:#008b8b;padding:2px}"]}),e})()}]},{path:"AngularDB",component:Vp,children:[{path:"firstDemo",component:Wp},{path:"binding",component:Jp},{path:"directives",component:zp},{path:"services",component:Gp},{path:"routing",component:Qp},{path:"SQL",component:$p}]},{path:"cPython",component:Zp,children:[{path:"algorithmsInC",component:Xp},{path:"bashSlide",component:Yp},{path:"computations",component:Kp}]},{path:"dockerPage",component:Bg,children:[{path:"dockerCentOS",component:qg},{path:"dockerCommands",component:Ug},{path:"dockerSQL",component:Jg},{path:"dockerMongo",component:Vg},{path:"dockerMavenBuild",component:Wg},{path:"AWSIntro",component:sm},{path:"AWSSpring",component:am}]},{path:"**",component:Fg}];let km=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ve({type:e}),e.\u0275inj=ce({imports:[[Rp.forRoot(Tm)],Rp]}),e})();const Cm=function(e){return{"background-image":e}};let xm=(()=>{class e{constructor(){}ngOnInit(){}getHeaderImage(){return"url('assets/images/headerImage.png')"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-header"]],inputs:{headingTitle:"headingTitle"},decls:12,vars:4,consts:[[1,"row","justify-content-around","text-light",3,"ngStyle"],[1,"col"],["id","topHeader",1,"display-4","text-center"],["href","#",1,"text-decoration-none",2,"color","white"],[1,"lead","text-center"],[1,"text-center"],["href","https://github.com/jfspps"]],template:function(e,t){var n,i,r,s;1&e&&(Ys(0,"div",0),Ys(1,"div",1),Ys(2,"h1",2),Ys(3,"a",3),Sa(4),Ks(),Ks(),Ys(5,"p",4),Sa(6,"New project startup templates and programming notes"),Ks(),Ys(7,"p",5),Ys(8,"small"),Sa(9,"Project maintained by "),Ks(),Ys(10,"a",6),Sa(11,"jfspps"),Ks(),Ks(),Ks(),Ks()),2&e&&($s("ngStyle",(n=2,i=Cm,r=t.getHeaderImage(),function(e,t,n,i,r,s){const a=t+n;return zs(e,a,r)?function(e,t,n){return e[t]=n}(e,a+1,s?i.call(s,r):i(r)):function(e,t){const n=e[t];return n===Rr?void 0:n}(e,a+1)}(_t(),function(){const e=Ct.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}(),n,i,r,s))),Nr(4),Ta(t.headingTitle))},directives:[wc],styles:[""]}),e})(),_m=(()=>{class e{constructor(){this.title="HowTos"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Be({type:e,selectors:[["app-root"]],decls:25,vars:1,consts:[[1,"container-fluid"],[3,"headingTitle"],[1,"text-light","bg-dark"],[1,"row"],[1,"col","d-flex","justify-content-center"],[1,"btn-group"],["type","button","routerLink","java",1,"btn","btn-outline-success","btn"],["type","button","routerLink","androidJavaFX",1,"btn","btn-outline-primary","btn"],["type","button","routerLink","springJakarta",1,"btn","btn-outline-danger","btn"],["type","button","routerLink","AngularDB",1,"btn","btn-outline-warning","btn"],["type","button","routerLink","cPython",1,"btn","btn-outline-info","btn"],["type","button","routerLink","dockerPage",1,"btn","btn-outline-danger","btn"],[1,"container-xl"],[1,"row","justify-content-start"],[1,"col-12"]],template:function(e,t){1&e&&(Ys(0,"div",0),Zs(1,"app-header",1),Ys(2,"div",2),Zs(3,"hr"),Ys(4,"div",3),Ys(5,"div",4),Ys(6,"div",5),Ys(7,"button",6),Sa(8,"Java"),Ks(),Ys(9,"button",7),Sa(10,"Android and JavaFX"),Ks(),Ys(11,"button",8),Sa(12,"Spring and Jakarta EE"),Ks(),Ys(13,"button",9),Sa(14,"Angular and databases"),Ks(),Ys(15,"button",10),Sa(16,"C/C++ and Python"),Ks(),Ys(17,"button",11),Sa(18,"Docker and Misc."),Ks(),Ks(),Ks(),Ks(),Zs(19,"hr"),Ks(),Ks(),Ys(20,"div",12),Ys(21,"body",2),Ys(22,"div",13),Ys(23,"div",14),Zs(24,"router-outlet"),Ks(),Ks(),Ks(),Ks()),2&e&&(Nr(1),$s("headingTitle",t.title))},directives:[xm,Sp,Cp],styles:["hr[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:1rem;border:0;border-top:1px solid rgba(71,126,172,.1)}"]}),e})();function Em(e,t,n,r){return i(n)&&(r=n,n=void 0),r?Em(e,t,n).pipe(_(e=>l(e)?r(...e):r(e))):new b(i=>{Im(e,t,function(e){i.next(arguments.length>1?Array.prototype.slice.call(arguments):e)},i,n)})}function Im(e,t,n,i,r){let s;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){const i=e;e.addEventListener(t,n,r),s=()=>i.removeEventListener(t,n,r)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){const i=e;e.on(t,n),s=()=>i.off(t,n)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){const i=e;e.addListener(t,n),s=()=>i.removeListener(t,n)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let s=0,a=e.length;s<a;s++)Im(e[s],t,n,i,r)}i.add(s)}const Am=new Sg(bg);function jm(e){return!l(e)&&e-parseFloat(e)+1>=0}function Om(e){const{index:t,period:n,subscriber:i}=e;if(i.next(t),!i.closed){if(-1===n)return i.complete();e.index=t+1,this.schedule(e,n)}}class Pm{call(e,t){return t.subscribe(new Lm(e))}}class Lm extends rh{constructor(e){super(e),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(e){this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(let n=0;n<t&&!this.hasFirst;n++){const t=ah(this,e[n],void 0,n);this.subscriptions&&this.subscriptions.push(t),this.add(t)}this.observables=null}}notifyNext(e,t,n){if(!this.hasFirst){this.hasFirst=!0;for(let e=0;e<this.subscriptions.length;e++)if(e!==n){let t=this.subscriptions[e];t.unsubscribe(),this.remove(t)}this.subscriptions=null}this.destination.next(t)}}function Rm(e){return t=>t.lift(new Nm(e))}class Nm{constructor(e){this.notifier=e}call(e,t){const n=new Mm(e),i=H(this.notifier,new D(n));return i&&!n.seenValue?(n.add(i),t.subscribe(n)):n}}class Mm extends F{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function Dm(...e){return t=>{let n;return"function"==typeof e[e.length-1]&&(n=e.pop()),t.lift(new Fm(e,n))}}class Fm{constructor(e,t){this.observables=e,this.project=t}call(e,t){return t.subscribe(new Hm(e,this.observables,this.project))}}class Hm extends rh{constructor(e,t,n){super(e),this.observables=t,this.project=n,this.toRespond=[];const i=t.length;this.values=new Array(i);for(let r=0;r<i;r++)this.toRespond.push(r);for(let r=0;r<i;r++)this.add(ah(this,t[r],void 0,r))}notifyNext(e,t,n){this.values[n]=t;const i=this.toRespond;if(i.length>0){const e=i.indexOf(n);-1!==e&&i.splice(e,1)}}notifyComplete(){}_next(e){if(0===this.toRespond.length){const t=[e,...this.values];this.project?this._tryProject(t):this.destination.next(t)}}_tryProject(e){let t;try{t=this.project.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}let Bm=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ve({type:e}),e.\u0275inj=ce({}),e})(),qm=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ve({type:e}),e.\u0275inj=ce({imports:[[Bm]]}),e})(),Um=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ve({type:e}),e.\u0275inj=ce({imports:[qm]}),e})();const Jm=["*"],Vm=["dialog"];function Wm(e){return null!=e}function zm(e){return(e||document.body).getBoundingClientRect()}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(e){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});const Qm={animation:!0,transitionTimerDelayMs:5};let Gm=(()=>{class e{constructor(){this.animation=Qm.animation}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=le({factory:function(){return new e},token:e,providedIn:"root"}),e})();const $m=()=>{},{transitionTimerDelayMs:Xm}=Qm,Ym=new Map,Km=(e,t,n,i)=>{let r=i.context||{};const s=Ym.get(t);if(s)switch(i.runningTransition){case"continue":return dh;case"stop":e.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),Ym.delete(t)}const a=n(t,i.animation,r)||$m;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return e.run(()=>a()),nh(void 0).pipe(function(e){return t=>new b(n=>t.subscribe(t=>e.run(()=>n.next(t)),t=>e.run(()=>n.error(t)),()=>e.run(()=>n.complete())))}(e));const o=new k,c=new k,h=o.pipe(function(...e){return t=>uh(t,nh(...e))}(!0));Ym.set(t,{transition$:o,complete:()=>{c.next(),c.complete()},context:r});const u=function(e){const{transitionDelay:t,transitionDuration:n}=window.getComputedStyle(e);return 1e3*(parseFloat(t)+parseFloat(n))}(t);return e.runOutsideAngular(()=>{const n=Em(t,"transitionend").pipe(Rm(h),xh(({target:e})=>e===t));(function(...e){if(1===e.length){if(!l(e[0]))return e[0];e=e[0]}return V(e,void 0).lift(new Pm)})(function(e=0,t,n){let i=-1;return jm(t)?i=Number(t)<1?1:Number(t):x(t)&&(n=t),x(n)||(n=Am),new b(t=>{const r=jm(e)?e:+e-n.now();return n.schedule(Om,r,{index:0,period:i,subscriber:t})})}(u+Xm).pipe(Rm(h)),n,c).pipe(Rm(h)).subscribe(()=>{Ym.delete(t),e.run(()=>{a(),o.next(),o.complete()})})}),o.asObservable()};let Zm=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ve({type:e}),e.\u0275inj=ce({imports:[[Sc]]}),e})(),ef=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ve({type:e}),e.\u0275inj=ce({imports:[[Sc]]}),e})(),tf=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ve({type:e}),e.\u0275inj=ce({}),e})(),nf=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ve({type:e}),e.\u0275inj=ce({imports:[[Sc]]}),e})(),rf=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ve({type:e}),e.\u0275inj=ce({}),e})();var sf=function(e){return e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowDown=40]="ArrowDown",e}({});"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const af=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function of(e){const t=Array.from(e.querySelectorAll(af)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}new class{getAllStyles(e){return window.getComputedStyle(e)}getStyle(e,t){return this.getAllStyles(e)[t]}isStaticPositioned(e){return"static"===(this.getStyle(e,"position")||"static")}offsetParent(e){let t=e.offsetParent||document.documentElement;for(;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement}position(e,t=!0){let n,i={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(e,"position"))n=e.getBoundingClientRect(),n={top:n.top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{const t=this.offsetParent(e);n=this.offset(e,!1),t!==document.documentElement&&(i=this.offset(t,!1)),i.top+=t.clientTop,i.left+=t.clientLeft}return n.top-=i.top,n.bottom-=i.top,n.left-=i.left,n.right-=i.left,t&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n}offset(e,t=!0){const n=e.getBoundingClientRect(),i=window.pageYOffset-document.documentElement.clientTop,r=window.pageXOffset-document.documentElement.clientLeft;let s={height:n.height||e.offsetHeight,width:n.width||e.offsetWidth,top:n.top+i,bottom:n.bottom+i,left:n.left+r,right:n.right+r};return t&&(s.height=Math.round(s.height),s.width=Math.round(s.width),s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s}positionElements(e,t,n,i){const[r="top",s="center"]=n.split("-"),a=i?this.offset(e,!1):this.position(e,!1),o=this.getAllStyles(t),l=parseFloat(o.marginTop),c=parseFloat(o.marginBottom),h=parseFloat(o.marginLeft),u=parseFloat(o.marginRight);let d=0,p=0;switch(r){case"top":d=a.top-(t.offsetHeight+l+c);break;case"bottom":d=a.top+a.height;break;case"left":p=a.left-(t.offsetWidth+h+u);break;case"right":p=a.left+a.width}switch(s){case"top":d=a.top;break;case"bottom":d=a.top+a.height-t.offsetHeight;break;case"left":p=a.left;break;case"right":p=a.left+a.width-t.offsetWidth;break;case"center":"top"===r||"bottom"===r?p=a.left+a.width/2-t.offsetWidth/2:d=a.top+a.height/2-t.offsetHeight/2}t.style.transform=`translate(${Math.round(p)}px, ${Math.round(d)}px)`;const g=t.getBoundingClientRect(),m=document.documentElement,f=window.innerHeight||m.clientHeight,y=window.innerWidth||m.clientWidth;return g.left>=0&&g.top>=0&&g.right<=y&&g.bottom<=f}},new Date(1882,10,12),new Date(2174,10,25);let lf=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ve({type:e}),e.\u0275inj=ce({imports:[[Sc,Um]]}),e})(),cf=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ve({type:e}),e.\u0275inj=ce({}),e})(),hf=(()=>{class e{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return e.\u0275fac=function(t){return new(t||e)(ti(Gm))},e.\u0275prov=le({factory:function(){return new e(ti(Gm))},token:e,providedIn:"root"}),e})();class uf{constructor(e,t,n){this.nodes=e,this.viewRef=t,this.componentRef=n}}const df=()=>{};let pf=(()=>{class e{constructor(e){this._document=e}compensate(){const e=this._getWidth();return this._isPresent(e)?this._adjustBody(e):df}_adjustBody(e){const t=this._document.body,n=t.style.paddingRight,i=parseFloat(window.getComputedStyle(t)["padding-right"]);return t.style["padding-right"]=`${i+e}px`,()=>t.style["padding-right"]=n}_isPresent(e){const t=this._document.body.getBoundingClientRect();return window.innerWidth-(t.left+t.right)>=e-.1*e}_getWidth(){const e=this._document.createElement("div");e.className="modal-scrollbar-measure";const t=this._document.body;t.appendChild(e);const n=e.getBoundingClientRect().width-e.clientWidth;return t.removeChild(e),n}}return e.\u0275fac=function(t){return new(t||e)(ti(Zl))},e.\u0275prov=le({factory:function(){return new e(ti(Zl))},token:e,providedIn:"root"}),e})(),gf=(()=>{class e{constructor(e,t){this._el=e,this._zone=t}ngOnInit(){this._zone.onStable.asObservable().pipe(vh(1)).subscribe(()=>{Km(this._zone,this._el.nativeElement,(e,t)=>{t&&zm(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Km(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return e.\u0275fac=function(t){return new(t||e)(Gs(Ha),Gs(Sl))},e.\u0275cmp=Be({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(e,t){2&e&&(ua("modal-backdrop"+(t.backdropClass?" "+t.backdropClass:"")),ha("show",!t.animation)("fade",t.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})();class mf{close(e){}dismiss(e){}}class ff{constructor(e,t,n,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=n,this._beforeDismiss=i,this._closed=new k,this._dismissed=new k,this._hidden=new k,e.instance.dismissEvent.subscribe(e=>{this.dismiss(e)}),this.result=new Promise((e,t)=>{this._resolve=e,this._reject=t}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Rm(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Rm(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();t&&t.then?t.then(t=>{!1!==t&&this._dismiss(e)},()=>{}):!1!==t&&this._dismiss(e)}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():nh(void 0);e.subscribe(()=>{const{nativeElement:e}=this._windowCmptRef.location;e.parentNode.removeChild(e),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:e}=this._backdropCmptRef.location;e.parentNode.removeChild(e),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),ug(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var yf=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}({});let bf=(()=>{class e{constructor(e,t,n){this._document=e,this._elRef=t,this._zone=n,this._closed$=new k,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Bo,this.shown=new k,this.hidden=new k}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(vh(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,t={animation:this.animation,runningTransition:"stop"},n=ug(Km(this._zone,e,()=>e.classList.remove("show"),t),Km(this._zone,this._dialogEl.nativeElement,()=>{},t));return n.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),n}_show(){const e={animation:this.animation,runningTransition:"continue"};ug(Km(this._zone,this._elRef.nativeElement,(e,t)=>{t&&zm(e),e.classList.add("show")},e),Km(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Em(e,"keydown").pipe(Rm(this._closed$),xh(e=>e.which===sf.Escape)).subscribe(e=>{this.keyboard?requestAnimationFrame(()=>{e.defaultPrevented||this._zone.run(()=>this.dismiss(yf.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let t=!1;Em(this._dialogEl.nativeElement,"mousedown").pipe(Rm(this._closed$),Vh(()=>t=!1),mh(()=>Em(e,"mouseup").pipe(Rm(this._closed$),vh(1))),xh(({target:t})=>e===t)).subscribe(()=>{t=!0}),Em(e,"click").pipe(Rm(this._closed$)).subscribe(({target:n})=>{e===n&&("static"===this.backdrop?this._bumpBackdrop():!0!==this.backdrop||t||this._zone.run(()=>this.dismiss(yf.BACKDROP_CLICK))),t=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const t=e.querySelector("[ngbAutofocus]"),n=of(e)[0];(t||n||e).focus()}}_restoreFocus(){const e=this._document.body,t=this._elWithFocus;let n;n=t&&t.focus&&e.contains(t)?t:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Km(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return e.\u0275fac=function(t){return new(t||e)(Gs(Zl),Gs(Ha),Gs(Sl))},e.\u0275cmp=Be({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(e,t){if(1&e&&function(e,t,n){const i=Et();i.firstCreatePass&&(function(e,t,n){null===e.queries&&(e.queries=new zo),e.queries.track(new Qo(t,-1))}(i,new Wo(e,t,n)),2==(2&t)&&(i.staticViewQueries=!0)),function(e,t,n){const i=new Uo(4==(4&n));Zr(e,t,i,i.destroy),null===t[19]&&(t[19]=new Vo),t[19].queries.push(new Jo(i))}(i,_t(),t)}(Vm,3),2&e){let e;Ko((n=_t(),i=Ht(),e=n[19].queries[i].queryList))&&(t._dialogEl=e.first)}var n,i},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,t){2&e&&(Qs("aria-modal",!0)("aria-labelledby",t.ariaLabelledBy)("aria-describedby",t.ariaDescribedBy),ua("modal d-block"+(t.windowClass?" "+t.windowClass:"")),ha("fade",t.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Jm,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,t){1&e&&(function(e){const t=_t()[16][6];if(!t.projection){const e=t.projection=Vn(1,null),n=e.slice();let i=t.child;for(;null!==i;){const t=0;null!==t&&(n[t]?n[t].projectionNext=i:e[t]=i,n[t]=i),i=i.next}}}(),Ys(0,"div",0,1),Ys(2,"div",2),function(e,t=0,n){const i=_t(),r=Et(),s=Wr(r,$e+e,16,null,n||null);null===s.projection&&(s.projection=t),Pt(),64!=(64&s.flags)&&function(e,t,n){wr(t[11],0,t,n,or(e,n,t),dr(n.parent||t[6],n,t))}(r,i,s)}(3),Ks(),Ks()),2&e&&ua("modal-dialog"+(t.size?" modal-"+t.size:"")+(t.centered?" modal-dialog-centered":"")+(t.scrollable?" modal-dialog-scrollable":"")+(t.modalDialogClass?" "+t.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),e})(),vf=(()=>{class e{constructor(e,t,n,i,r,s){this._applicationRef=e,this._injector=t,this._document=n,this._scrollBar=i,this._rendererFactory=r,this._ngZone=s,this._activeWindowCmptHasChanged=new k,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new Bo,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const e=this._windowCmpts[this._windowCmpts.length-1];((e,t,n,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const e=Em(t,"focusin").pipe(Rm(n),_(e=>e.target));Em(t,"keydown").pipe(Rm(n),xh(e=>e.which===sf.Tab),Dm(e)).subscribe(([e,n])=>{const[i,r]=of(t);n!==i&&n!==t||!e.shiftKey||(r.focus(),e.preventDefault()),n!==r||e.shiftKey||(i.focus(),e.preventDefault())}),i&&Em(t,"click").pipe(Rm(n),Dm(e),_(e=>e[1])).subscribe(e=>e.focus())})})(0,e.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(e.location.nativeElement)}})}open(e,t,n,i){const r=i.container instanceof HTMLElement?i.container:Wm(i.container)?this._document.querySelector(i.container):this._document.body,s=this._rendererFactory.createRenderer(null,null),a=this._scrollBar.compensate(),o=()=>{this._modalRefs.length||(s.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!r)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);const l=new mf,c=this._getContentRef(e,i.injector||t,n,l,i);let h=!1!==i.backdrop?this._attachBackdrop(e,r):void 0,u=this._attachWindowComponent(e,r,c),d=new ff(u,c,h,i.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(u),d.result.then(a,a),d.result.then(o,o),l.close=e=>{d.close(e)},l.dismiss=e=>{d.dismiss(e)},this._applyWindowOptions(u.instance,i),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),h&&h.instance&&(this._applyBackdropOptions(h.instance,i),h.changeDetectorRef.detectChanges()),u.changeDetectorRef.detectChanges(),d}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(t=>t.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,t){let n=e.resolveComponentFactory(gf).create(this._injector);return this._applicationRef.attachView(n.hostView),t.appendChild(n.location.nativeElement),n}_attachWindowComponent(e,t,n){let i=e.resolveComponentFactory(bf).create(this._injector,n.nodes);return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_applyWindowOptions(e,t){this._windowAttributes.forEach(n=>{Wm(t[n])&&(e[n]=t[n])})}_applyBackdropOptions(e,t){this._backdropAttributes.forEach(n=>{Wm(t[n])&&(e[n]=t[n])})}_getContentRef(e,t,n,i,r){return n?n instanceof yo?this._createFromTemplateRef(n,i):"string"==typeof n?this._createFromString(n):this._createFromComponent(e,t,n,i,r):new uf([])}_createFromTemplateRef(e,t){const n=e.createEmbeddedView({$implicit:t,close(e){t.close(e)},dismiss(e){t.dismiss(e)}});return this._applicationRef.attachView(n),new uf([n.rootNodes],n)}_createFromString(e){const t=this._document.createTextNode(`${e}`);return new uf([[t]])}_createFromComponent(e,t,n,i,r){const s=e.resolveComponentFactory(n),a=Bs.create({providers:[{provide:mf,useValue:i}],parent:t}),o=s.create(a),l=o.location.nativeElement;return r.scrollable&&l.classList.add("component-host-scrollable"),this._applicationRef.attachView(o.hostView),new uf([[l]],o.hostView,o)}_setAriaHidden(e){const t=e.parentElement;t&&e!==this._document.body&&(Array.from(t.children).forEach(t=>{t!==e&&"SCRIPT"!==t.nodeName&&(this._ariaHiddenValues.set(t,t.getAttribute("aria-hidden")),t.setAttribute("aria-hidden","true"))}),this._setAriaHidden(t))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,t)=>{e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const t=()=>{const t=this._modalRefs.indexOf(e);t>-1&&(this._modalRefs.splice(t,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(t,t)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const t=this._windowCmpts.indexOf(e);t>-1&&(this._windowCmpts.splice(t,1),this._activeWindowCmptHasChanged.next())})}}return e.\u0275fac=function(t){return new(t||e)(ti(ql),ti(Bs),ti(Zl),ti(pf),ti(qa),ti(Sl))},e.\u0275prov=le({factory:function(){return new e(ti(ql),ti(xs),ti(Zl),ti(pf),ti(qa),ti(Sl))},token:e,providedIn:"root"}),e})(),wf=(()=>{class e{constructor(e,t,n,i){this._moduleCFR=e,this._injector=t,this._modalStack=n,this._config=i}open(e,t={}){const n=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),t);return this._modalStack.open(this._moduleCFR,this._injector,e,n)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return e.\u0275fac=function(t){return new(t||e)(ti(Na),ti(Bs),ti(vf),ti(hf))},e.\u0275prov=le({factory:function(){return new e(ti(Na),ti(xs),ti(vf),ti(hf))},token:e,providedIn:"root"}),e})(),Sf=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ve({type:e}),e.\u0275inj=ce({providers:[wf]}),e})(),Tf=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ve({type:e}),e.\u0275inj=ce({imports:[[Sc]]}),e})(),kf=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ve({type:e}),e.\u0275inj=ce({imports:[[Sc]]}),e})(),Cf=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ve({type:e}),e.\u0275inj=ce({imports:[[Sc]]}),e})(),xf=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ve({type:e}),e.\u0275inj=ce({imports:[[Sc]]}),e})(),_f=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ve({type:e}),e.\u0275inj=ce({imports:[[Sc]]}),e})(),Ef=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ve({type:e}),e.\u0275inj=ce({imports:[[Sc]]}),e})(),If=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ve({type:e}),e.\u0275inj=ce({imports:[[Sc]]}),e})(),Af=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ve({type:e}),e.\u0275inj=ce({}),e})();new Dn("live announcer delay",{providedIn:"root",factory:function(){return 100}});let jf=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ve({type:e}),e.\u0275inj=ce({imports:[[Sc]]}),e})();const Of=[Zm,ef,tf,nf,rf,lf,cf,Sf,Tf,kf,Cf,xf,_f,Ef,If,Af,jf];let Pf=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ve({type:e}),e.\u0275inj=ce({imports:[Of,Zm,ef,tf,nf,rf,lf,cf,Sf,Tf,kf,Cf,xf,_f,Ef,If,Af,jf]}),e})(),Lf=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ve({type:e,bootstrap:[_m]}),e.\u0275inj=ce({providers:[{provide:Cg,useValue:{fullLibraryLoader:()=>n.e(4).then(n.t.bind(null,"FIf5",7)),lineNumbers:!0}}],imports:[[th,km,Pf,Ag]]}),e})();(function(){if(Rl)throw new Error("Cannot enable prod mode after platform setup.");Ll=!1})(),Zc().bootstrapModule(Lf).catch(e=>console.error(e))},zn8P:function(e,t){function n(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]]);